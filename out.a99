        bank all, >6000
        aorg  >6000                     ; cartride address space

        data  >aa01                     ; standard header
        data  >0100                     ; number of programs
        data  >0000                     ; power up list
        data  __l_0                     ; program list
        data  >0000                     ; DSR list
        data  >0000                     ; subprogram list
        data  >0000                     ; ISR list
__l_0:
        data  >0000                     ; no next program
        data  __main_start              ; program address
        byte >07
        text 'PHOENIX'
        even 

__far_call_1:
        mov   *r11+, r12
        mov   *r11+, r13

__far_call_2:
        clr   *r12                      ; switch bank
        b     *r13

__far_ret:
        mov   *r10+, r12
        clr   *r12                      ; switch bank
        b     *r11

__copy_str_const:
        mov   *r10, r12
        mov   @>0002(r10), r13
        movb  *r13, r14
        sra   r14, 8
__l_1:
        movb  *r13+, *r12+
        dec   r14
        joc   __l_1
        ai    r10, >0004
        b     *r11

__copy_set_const:
        mov   *r10, r12
        mov   @>0002(r10), r13
        li    r14, >0010
__l_2:
        mov   *r13+, *r12+
        dec   r14
        jne   __l_2
        ai    r10, >0004
        b     *r11

__main_start:
        lwpi  >8300
        limi  >0000
        clr   @>6000                    ; activate bank 0

; Bank ids at end of each page
        bank 0, >7ffe
        data  >6000
        bank 1, >7ffe
        data  >6002
        bank 2, >7ffe
        data  >6004
        bank 3, >7ffe
        data  >6006
        bank 4, >7ffe
        data  >6008
        bank 5, >7ffe
        data  >600a
        bank 6, >7ffe
        data  >600c
        bank 7, >7ffe
        data  >600e
        bank 8, >7ffe
        data  >6010
        bank 9, >7ffe
        data  >6012
        bank 10, >7ffe
        data  >6014
        bank 11, >7ffe
        data  >6016
        bank 12, >7ffe
        data  >6018
        bank 13, >7ffe
        data  >601a

        bank 0, >6060

; Program: phoenix, level: 1
;   0000       0  memb: array [subrange (0..65535) of int64] of uint8 (absolute)
;   0000       0  memw: array [subrange (0..32767) of int64] of int16 (absolute)
;   4000   16384  header: record (absolute)
;   8370   33648  vdpfree: int16 (absolute)
;   8800   34816  vdprd: char (absolute)
;   8802   34818  vdpsta: char (absolute)
;   8c00   35840  vdpwd: char (absolute)
;   8c02   35842  vdpwa: char (absolute)
;   9800   38912  gromrd: char (absolute)
;   9c02   39938  gromwa: char (absolute)
;   fd3c   64828  __rettmp_3: string [17]
;   fd3c   64828  __rettmp_4: int16
;   fd3c   64828  __rettmp_5: string [30]
;   fd3c   64828  __rettmp_6: string [20]
;   fd3c   64828  __rettmp_8: string [15]
;   fd3c   64828  __rettmp_9: string [25]
;   fd51   64849  __rettmp_7: string [6]
;   fd5c   64860  n: int16
;   fd5e   64862  startpage: int16
;   fd60   64864  spage: int16
;   fd62   64866  datasize: int16
;   fd64   64868  turn: int16
;   fd66   64870  gameside: int16
;   fd68   64872  gamepointer: int16
;   fd6a   64874  piececount: int16
;   fd6c   64876  wcastleflag: int16
;   fd6e   64878  bcastleflag: int16
;   fd70   64880  ply: int16
;   fd72   64882  cwarning: int16
;   fd74   64884  gameply: int16
;   fd76   64886  wmobility: int16
;   fd78   64888  bmobility: int16
;   fd7a   64890  gamemove: int16
;   fd7c   64892  humanside: int16
;   fd7e   64894  wraflag: int16
;   fd80   64896  wlaflag: int16
;   fd82   64898  braflag: int16
;   fd84   64900  blaflag: int16
;   fd86   64902  wrooklflag: int16
;   fd88   64904  wrookrflag: int16
;   fd8a   64906  brooklflag: int16
;   fd8c   64908  brookrflag: int16
;   fd8e   64910  movenumhi: int16
;   fd90   64912  movenumlo: int16
;   fd92   64914  bit1: array [subrange (0..3) of int64] of int16
;   fd9a   64922  bit2: array [subrange (0..3) of int64] of int16
;   fda2   64930  bit3: array [subrange (0..3) of int64] of int16
;   fdaa   64938  bit4: array [subrange (0..3) of int64] of int16
;   fdb2   64946  bit5: array [subrange (0..3) of int64] of int16
;   fdba   64954  bit6: array [subrange (0..3) of int64] of int16
;   fdc2   64962  bit7: array [subrange (0..3) of int64] of int16
;   fdca   64970  bitres: array [subrange (0..3) of int64] of int16
;   fdd2   64978  buffer: array [subrange (0..59) of int64] of int16
;   fe4a   65098  log: file
;   fe72   65138  imagetable: int16
;   fe74   65140  colortable: int16
;   fe76   65142  patterntable: int16
;   fe78   65144  spriteattributetable: int16
;   fe7a   65146  spritepatterntable: int16
;   fe7c   65148  vdpwriteaddress: int16
;   fe7e   65150  imagetableend: int16
;   fe80   65152  videomode: enum
;   fe81   65153  forecolor: enum
;   fe82   65154  backcolor: enum
;   fe84   65156  iloc: int16
;   fe86   65158  disp: int16
;   fe88   65160  cumdisp: int16
;   fe8a   65162  flag: int16
;   fe8c   65164  oflag: int16
;   fe8e   65166  subrtn: int16
;   fe90   65168  subrtn1: int16
;   fe92   65170  pcount: int16
;   fe94   65172  dbyte: uint8
;   fe96   65174  p: pointer to void
;   fe98   65176  i: int16
;   fe9a   65178  j: int16
;   fe9c   65180  movescore: int16
;   fe9e   65182  offset: int16
;   fea0   65184  found: int16
;   fea2   65186  aval: int16
;   fea4   65188  bval: int16
;   fea6   65190  ans: int16
;   fea8   65192  sideoffset: int16
;   feaa   65194  offset1: int16
;   feac   65196  offset2: int16
;   feae   65198  cflag: int16
;   feb0   65200  temppointer: int16
;   feb2   65202  humanflag: boolean
;   feb3   65203  cmflag: boolean
;   feb4   65204  checkflag: boolean
;   feb5   65205  promflag: boolean
;   feb6   65206  repflag: boolean
;   feb8   65208  movearray: array [subrange (0..64) of int64] of int16
;   ff3a   65338  lastmove: record
;   ff42   65346  playmove: record
;   ff4a   65354  movestore: record
;   ff52   65362  tempmove: record
;   ff5a   65370  bit8: array [subrange (0..3) of int64] of int16
;   ff62   65378  input: file
;   ff8a   65418  output: file
;   ffb2   65458  inoutres: int16
;   ffb4   65460  openfiles: array [subrange (1..3) of int64] of record
;   ffc6   65478  $static_vdpregs: array [enum] of array [subrange (0..7) of int64] of uint8
;   ffde   65502  vflag: int16
;   ffe0   65504  zero: int16
;   ffe2   65506  bittab: array [subrange (0..7) of int64] of uint8
;   ffea   65514  heapptr: int16
;   ffec   65516  heapmax: int16
;   ffee   65518  hex: string [16]

phoenix:
        li    r10, >fd3c                ; init stack ptr
        bl    @$init_static
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >601a
        data  $system_init_93
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6006
        data  $bitops_init_30
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >1000
        mov   r1, @>0002(r10)
        li    r1, >3000
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  initheap_86
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  clrscr_23
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_0
        mov   r1, @>0002(r10)
        li    r1, >fd3c                 ; __rettmp_3
        mov   r1, *r10
        bl    @__copy_str_const
        li    r1, >fd3c                 ; __rettmp_3
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >fd3c                 ; __rettmp_4
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  samsinit_10
        mov   @>fd3c, @>fd5c            ; __rettmp_4  n
        mov   @>fd5c, r1                ; n
        jne   __l_98
__l_97:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_1
        mov   r1, @>0002(r10)
        li    r1, >fd3c                 ; __rettmp_5
        mov   r1, *r10
        bl    @__copy_str_const
        li    r1, >fd3c                 ; __rettmp_5
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        b     @__l_94
__l_98:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd62                 ; datasize
        mov   r1, @>0002(r10)
        mov   @>fd5c, *r10              ; n 
        bl    @__far_call_1
        data  >6004
        data  samssize_11
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_2
        mov   r1, @>0002(r10)
        li    r1, >fd3c                 ; __rettmp_6
        mov   r1, *r10
        bl    @__copy_str_const
        li    r1, >fd3c                 ; __rettmp_6
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fd62, @>0002(r10)       ; datasize 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_3
        mov   r1, @>0002(r10)
        li    r1, >fd51                 ; __rettmp_7
        mov   r1, *r10
        bl    @__copy_str_const
        li    r1, >fd51                 ; __rettmp_7
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_4
        mov   r1, @>0002(r10)
        li    r1, >fd3c                 ; __rettmp_8
        mov   r1, *r10
        bl    @__copy_str_const
        li    r1, >fd3c                 ; __rettmp_8
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  loadboarddata_6
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_5
        mov   r1, @>0002(r10)
        li    r1, >fd3c                 ; __rettmp_9
        mov   r1, *r10
        bl    @__copy_str_const
        li    r1, >fd3c                 ; __rettmp_9
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6008
        data  chainmain_31
__l_94:
        blwp  @>0000

__str_cnst_0 text >1150686f656e697820436865737320312e37    ; Phoenix Chess 1.7
__str_cnst_1 text >1e6e6f2053414d53206361726420666f756e64212045786974696e672e2e2e    ; no SAMS card found! Exiting...
__str_cnst_2 text >1453414d5320636172642064657465637465643a20    ; SAMS card detected: 
__str_cnst_3 text >06207061676573    ;  pages
__str_cnst_4 text >0f6c6f6164696e6720646174612e2e2e    ; loading data...
__str_cnst_5 text >197374617274696e672050686f656e69782043686573732e2e2e    ; starting Phoenix Chess...
        even 

; Init static globals: 58 bytes at address 65478
$init_static:
        li    r12, __l_95
        li    r13, >ffc6
        li    r14, >003a
__l_96:
        movb  *r12+, *r13+
        dec   r14
        jne   __l_96
        b     *r11

; Static variable init data
__l_95:
        text >00f001000000001700e0000e01060007
        text >02e006ff037807000000000080402010
        text >08040201200040001030313233343536
        text >37383941424344454600
        even 

        bank 0, >63f0

; Subroutine: boarddat1_3, level: 2
;   0004       4  var result: reference to array [subrange (0..4095) of int64] of uint8

boarddat1_3:
        ai    r10, >fff6
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, data1
        mov   @>0004(r9), r2            ; result
        li    r3, >1000
__l_102:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_102
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

; Subroutine: data1, level: 3

data1:
        text >00ff000000000000810000000000000042000000000000002400000000000000
        text >10000000000000000800000000000000000000000000ff000000000000000081
        text >0000000000000042000000000000002400000000000000100000000000000008
        text >ffff00000000ffffffff000000000000000000000000ffff0000ffffffff0000
        text >8080808080808080404040404040404020202020202020201010101010101010
        text >0808080808080808040404040404040402020202020202020101010101010101
        text >7f7f7f7f7f7f7f7fbfbfbfbfbfbfbfbfdfdfdfdfdfdfdfdfefefefefefefefef
        text >f7f7f7f7f7f7f7f7fbfbfbfbfbfbfbfbfdfdfdfdfdfdfdfdfefefefefefefefe
        text >ff0000000000000000ff0000000000000000ff0000000000000000ff00000000
        text >00000000ff0000000000000000ff0000000000000000ff0000000000000000ff
        text >00ffffffffffffffff00ffffffffffffffff00ffffffffffffffff00ffffffff
        text >ffffffff00ffffffffffffffff00ffffffffffffffff00ffffffffffffffff00
        text >8000000000000000400000000000000020000000000000001000000000000000
        text >0800000000000000040000000000000002000000000000000100000000000000
        text >0080000000000000004000000000000000200000000000000010000000000000
        text >0008000000000000000400000000000000020000000000000001000000000000
        text >0000800000000000000040000000000000002000000000000000100000000000
        text >0000080000000000000004000000000000000200000000000000010000000000
        text >0000008000000000000000400000000000000020000000000000001000000000
        text >0000000800000000000000040000000000000002000000000000000100000000
        text >0000000080000000000000004000000000000000200000000000000010000000
        text >0000000008000000000000000400000000000000020000000000000001000000
        text >0000000000800000000000000040000000000000002000000000000000100000
        text >0000000000080000000000000004000000000000000200000000000000010000
        text >0000000000008000000000000000400000000000000020000000000000001000
        text >0000000000000800000000000000040000000000000002000000000000000100
        text >0000000000000080000000000000004000000000000000200000000000000010
        text >0000000000000008000000000000000400000000000000020000000000000001
        text >0000808000000000000040400000000000002020000000000000101000000000
        text >0000080800000000000004040000000000000202000000000000010100000000
        text >0000008000000000000000400000000000000020000000000000001000000000
        text >0000000800000000000000040000000000000002000000000000000100000000
        text >0000000080000000000000004000000000000000200000000000000010000000
        text >0000000008000000000000000400000000000000020000000000000001000000
        text >0000000000800000000000000040000000000000002000000000000000100000
        text >0000000000080000000000000004000000000000000200000000000000010000
        text >0000000000008000000000000000400000000000000020000000000000001000
        text >0000000000000800000000000000040000000000000002000000000000000100
        text >0000000000000080000000000000004000000000000000200000000000000010
        text >0000000000000008000000000000000400000000000000020000000000000001
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >8000000000000000400000000000000020000000000000001000000000000000
        text >0800000000000000040000000000000002000000000000000100000000000000
        text >0080000000000000004000000000000000200000000000000010000000000000
        text >0008000000000000000400000000000000020000000000000001000000000000
        text >0000800000000000000040000000000000002000000000000000100000000000
        text >0000080000000000000004000000000000000200000000000000010000000000
        text >0000008000000000000000400000000000000020000000000000001000000000
        text >0000000800000000000000040000000000000002000000000000000100000000
        text >0000000080000000000000004000000000000000200000000000000010000000
        text >0000000008000000000000000400000000000000020000000000000001000000
        text >0000000080800000000000004040000000000000202000000000000010100000
        text >0000000008080000000000000404000000000000020200000000000001010000
        text >40c0000000000000a0e000000000000050700000000000002838000000000000
        text >141c0000000000000a0e00000000000005070000000000000203000000000000
        text >c040c00000000000e0a0e0000000000070507000000000003828380000000000
        text >1c141c00000000000e0a0e000000000007050700000000000302030000000000
        text >00c040c00000000000e0a0e00000000000705070000000000038283800000000
        text >001c141c00000000000e0a0e0000000000070507000000000003020300000000
        text >0000c040c00000000000e0a0e000000000007050700000000000382838000000
        text >00001c141c00000000000e0a0e00000000000705070000000000030203000000
        text >000000c040c00000000000e0a0e0000000000070507000000000003828380000
        text >0000001c141c00000000000e0a0e000000000007050700000000000302030000
        text >00000000c040c00000000000e0a0e00000000000705070000000000038283800
        text >000000001c141c00000000000e0a0e0000000000070507000000000003020300
        text >0000000000c040c00000000000e0a0e000000000007050700000000000382838
        text >00000000001c141c00000000000e0a0e00000000000705070000000000030203
        text >000000000000c040000000000000e0a000000000000070500000000000003828
        text >0000000000001c140000000000000e0a00000000000007050000000000000302
        text >00204000000000000010a0000000000000885000000000000044280000000000
        text >002214000000000000110a000000000000080500000000000004020000000000
        text >2000204000000000100010a00000000088008850000000004400442800000000
        text >22002214000000001100110a0000000008000805000000000400040200000000
        text >4020002040000000a0100010a000000050880088500000002844004428000000
        text >14220022140000000a1100110a00000005080008050000000204000402000000
        text >004020002040000000a0100010a0000000508800885000000028440044280000
        text >0014220022140000000a1100110a000000050800080500000002040004020000
        text >00004020002040000000a0100010a00000005088008850000000284400442800
        text >000014220022140000000a1100110a0000000508000805000000020400040200
        text >0000004020002040000000a0100010a000000050880088500000002844004428
        text >00000014220022140000000a1100110a00000005080008050000000204000402
        text >000000004020002000000000a010001000000000508800880000000028440044
        text >0000000014220022000000000a11001100000000050800080000000002040004
        text >00000000004020000000000000a0100000000000005088000000000000284400
        text >000000000014220000000000000a110000000000000508000000000000020400
        text >7fc0a09088848281bfe0504844424140df70a82422212020ef38549211101010
        text >f71c2a4988080808fb0e152444840404fd070a1222428202fe03050911214181
        text >c07fc0a090888482e0bfe0504844424170df70a82422212038ef385492111010
        text >1cf71c2a498808080efb0e152444840407fd070a1222428203fe030509112141
        text >a0c07fc0a090888450e0bfe050484442a870df70a82422215438ef3854921110
        text >2a1cf71c2a498808150efb0e152444840a07fd070a1222420503fe0305091121
        text >90a0c07fc0a090884850e0bfe050484424a870df70a82422925438ef38549211
        text >492a1cf71c2a498824150efb0e152444120a07fd070a1222090503fe03050911
        text >8890a0c07fc0a090444850e0bfe050482224a870df70a82411925438ef385492
        text >88492a1cf71c2a494424150efb0e152422120a07fd070a1211090503fe030509
        text >848890a0c07fc0a042444850e0bfe050212224a870df70a81011925438ef3854
        text >0888492a1cf71c2a844424150efb0e154222120a07fd070a2111090503fe0305
        text >82848890a0c07fc04142444850e0bfe020212224a870df70101011925438ef38
        text >080888492a1cf71c04844424150efb0e824222120a07fd07412111090503fe03
        text >8182848890a0c07f404142444850e0bf2020212224a870df10101011925438ef
        text >08080888492a1cf70404844424150efb02824222120a07fd81412111090503fe
        text >7f80808080808080bf40404040404040df20202020202020ef10101010101010
        text >f708080808080808fb04040404040404fd02020202020202fe01010101010101
        text >807f80808080808040bf40404040404020df20202020202010ef101010101010
        text >08f708080808080804fb04040404040402fd02020202020201fe010101010101
        text >80807f80808080804040bf40404040402020df20202020201010ef1010101010
        text >0808f708080808080404fb04040404040202fd02020202020101fe0101010101
        text >8080807f80808080404040bf40404040202020df20202020101010ef10101010
        text >080808f708080808040404fb04040404020202fd02020202010101fe01010101
        text >808080807f80808040404040bf40404020202020df20202010101010ef101010
        text >08080808f708080804040404fb04040402020202fd02020201010101fe010101
        text >80808080807f80804040404040bf40402020202020df20201010101010ef1010
        text >0808080808f708080404040404fb04040202020202fd02020101010101fe0101
        text >8080808080807f80404040404040bf40202020202020df20101010101010ef10
        text >080808080808f708040404040404fb04020202020202fd02010101010101fe01
        text >808080808080807f40404040404040bf20202020202020df10101010101010ef
        text >08080808080808f704040404040404fb02020202020202fd01010101010101fe
        text >8181818181818181000000ff0000000000000000ff0000000000000000000000
        text >0000000000000000000000000000f0000000000000000f000000000000000000
        text >0000000000f0000000000000000f060000000000000070000000000000000000
        text >000000000006000000000000007000ff00000000000081000000000000004200
        text >0000000000002400000000000000100000000000000008000000000000000000
        text >00000000ff000000000000000081000000000000004200000000000000240000
        text >0000000000100000000000000008ffff00000000ffffffff0000000000000000
        text >00000000ffff0000000000000000000000000000000000000000000000000000
        even 

        bank 1, >6060

; Subroutine: boarddat2_4, level: 2
;   0004       4  var result: reference to array [subrange (0..4095) of int64] of uint8

boarddat2_4:
        ai    r10, >fff6
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, data2
        mov   @>0004(r9), r2            ; result
        li    r3, >1000
__l_104:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_104
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

; Subroutine: data2, level: 3

data2:
        text >004020100804020100a010080402010000508804020100000028448201000000
        text >0014224180000000000a11204080000000050810204080000002040810204080
        text >4000402010080402a000a0100804020150005088040201002800284482010000
        text >14001422418000000a000a112040800005000508102040800200020408102040
        text >204000402010080410a000a01008040288500050880402014428002844820100
        text >2214001422418000110a000a1120408008050005081020400402000204081020
        text >10204000402010080810a000a010080404885000508804028244280028448201
        text >412214001422418020110a000a11204010080500050810200804020002040810
        text >0810204000402010040810a000a0100802048850005088040182442800284482
        text >80412214001422414020110a000a112020100805000508101008040200020408
        text >040810204000402002040810a000a01001020488500050880001824428002844
        text >0080412214001422804020110a000a1140201008050005082010080402000204
        text >02040810204000400102040810a000a000010204885000500000018244280028
        text >000080412214001400804020110a000a80402010080500054020100804020002
        text >0102040810204000000102040810a00000000102048850000000000182442800
        text >00000080412214000000804020110a0000804020100805008040201008040200
        text >00004000000000000000a0000000000000005000000000000000280000000000
        text >000014000000000000000a000000000000000500000000000000020000000000
        text >0000004000000000000000a00000000000000050000000000000002800000000
        text >00000014000000000000000a0000000000000005000000000000000200000000
        text >000000004000000000000000a000000000000000500000000000000028000000
        text >0000000014000000000000000a00000000000000050000000000000002000000
        text >00000000004000000000000000a0000000000000005000000000000000280000
        text >000000000014000000000000000a000000000000000500000000000000020000
        text >0000000000004000000000000000a00000000000000050000000000000002800
        text >00000000000014000000000000000a0000000000000005000000000000000200
        text >000000000000004000000000000000a000000000000000500000000000000028
        text >0000000000000014000000000000000a00000000000000050000000000000002
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >4000000000000000a00000000000000050000000000000002800000000000000
        text >14000000000000000a0000000000000005000000000000000200000000000000
        text >004000000000000000a000000000000000500000000000000028000000000000
        text >0014000000000000000a00000000000000050000000000000002000000000000
        text >00004000000000000000a0000000000000005000000000000000280000000000
        text >000014000000000000000a000000000000000500000000000000020000000000
        text >0000004000000000000000a00000000000000050000000000000002800000000
        text >00000014000000000000000a0000000000000005000000000000000200000000
        text >000000004000000000000000a000000000000000500000000000000028000000
        text >0000000014000000000000000a00000000000000050000000000000002000000
        text >00000000004000000000000000a0000000000000005000000000000000280000
        text >000000000014000000000000000a000000000000000500000000000000020000
        text >0000004000000000000000a00000000000000050000000000000002800000000
        text >00000014000000000000000a0000000000000005000000000000000200000000
        text >000000004000000000000000a000000000000000500000000000000028000000
        text >0000000014000000000000000a00000000000000050000000000000002000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >00000000a000000000000000a000000000000000a000000000000000a0000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        even 

        bank 2, >6060

; Subroutine: boarddat3_5, level: 2
;   0004       4  var result: reference to array [subrange (0..4095) of int64] of uint8

boarddat3_5:
        ai    r10, >fff6
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, data3
        mov   @>0004(r9), r2            ; result
        li    r3, >1000
__l_106:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_106
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

; Subroutine: data3, level: 3

data3:
        text >000000000000000000000000000000000005000a000affe7ffe7000a000a0005
        text >0005fffbfff600000000fff6fffb000500000000000000190019000000000000
        text >00050005000a001b001b000a00050005000a000a0014001e001e0014000a000a
        text >0032003200320032003200320032003200000000000000000000000000000000
        text >0000000000000000000000000000000000320032003200320032003200320032
        text >000a000a0014001e001e0014000a000a00050005000a001b001b000a00050005
        text >000000000000001900190000000000000005fffbfff600000000fff6fffb0005
        text >0005000a000affe7ffe7000a000a000500000000000000000000000000000000
        text >ffceffd8ffecffe2ffe2ffecffd8ffceffd8ffec0000000500050000ffecffd8
        text >ffe20005000a000f000f000a0005ffe2ffe20000000f00140014000f0000ffe2
        text >ffe20005000f00140014000f0005ffe2ffe20000000a000f000f000a0000ffe2
        text >ffd8ffec0000000000000000ffecffd8ffceffd8ffe2ffe2ffe2ffe2ffd8ffce
        text >ffecfff6ffd8fff6fff6ffd8fff6ffecfff6000500000000000000000005fff6
        text >fff6000a000a000a000a000a000afff6fff60000000a000a000a000a0000fff6
        text >fff600050005000a000a00050005fff6fff600000005000a000a00050000fff6
        text >fff6000000000000000000000000fff6ffecfff6fff6fff6fff6fff6fff6ffec
        text >0014001e000a00000000000a001e001400140014000000000000000000140014
        text >fff6ffecffecffecffecffecffecfff6ffecffe2ffe2ffd8ffd8ffe2ffe2ffec
        text >ffe2ffd8ffd8ffceffceffd8ffd8ffe2ffe2ffd8ffd8ffceffceffd8ffd8ffe2
        text >ffe2ffd8ffd8ffceffceffd8ffd8ffe2ffe2ffd8ffd8ffceffceffd8ffd8ffe2
        text >ffceffe2ffe2ffe2ffe2ffe2ffe2ffceffe2ffe20000000000000000ffe2ffe2
        text >ffe2fff60014001e001e0014fff6ffe2ffe2fff6001e00280028001efff6ffe2
        text >ffe2fff6001e00280028001efff6ffe2ffe2fff60014001e001e0014fff6ffe2
        text >ffe2ffecfff600000000fff6ffecffe2ffceffd8ffe2ffecffecffe2ffd8ffce
        text >ff818181818181ff000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0063006300630000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0088001800000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        text >0000000000000000000000000000000000000000000000000000000000000000
        even 

        bank 2, >7098

; Subroutine: loadboarddata_6, level: 2
;   f000   -4096  buf: array [subrange (0..4095) of int64] of uint8

loadboarddata_6:
        ai    r10, >effa
        mov   r10, r12
        mov   r1, *r12+
        ai    r12, >1000
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >f000                 ; buf
        mov   r1, *r10
        bl    @__far_call_1
        data  >6000
        data  boarddat1_3
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >f000                 ; buf
        mov   r1, @>0008(r10)
        clr   @>0006(r10)
        li    r1, >1000
        mov   r1, @>0004(r10)
        li    r1, >0014
        mov   r1, @>0002(r10)
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >f000                 ; buf
        mov   r1, *r10
        bl    @__far_call_1
        data  >6002
        data  boarddat2_4
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >f000                 ; buf
        mov   r1, @>0008(r10)
        clr   @>0006(r10)
        li    r1, >1000
        mov   r1, @>0004(r10)
        li    r1, >0015
        mov   r1, @>0002(r10)
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >f000                 ; buf
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  boarddat3_5
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >f000                 ; buf
        mov   r1, @>0008(r10)
        clr   @>0006(r10)
        li    r1, >1000
        mov   r1, @>0004(r10)
        li    r1, >0016
        mov   r1, @>0002(r10)
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

        bank 2, >71a8

; Subroutine: clearbitboard_7, level: 2
;   0004       4  var bit1: reference to array [subrange (0..3) of int64] of int16
;   fffc      -4  i: int16
;   fffe      -2  $i: int16

clearbitboard_7:
        ai    r10, >fff2
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0004
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        clr   @>fffc(r9)                ; i
        li    r1, >0003
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_109
__l_108:
        inc   @>fffc(r9)                ; i
__l_109:
        clr   r1
        mov   @>0004(r9), r2            ; bit1
        mov   @>fffc(r9), r3            ; i
        sla   r3, 1
        a     r3, r2
        mov   r1, *r2
        c     @>fffc(r9), @>fffe(r9)    ; i $i 
        jne   __l_108
__l_112:
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 2, >71fc

; Subroutine: isclear_8, level: 2
;   0004       4  var result: reference to boolean
;   0006       6  var bit1: reference to array [subrange (0..3) of int64] of int16
;   fffa      -6  i: int16
;   fffc      -4  flag: int16
;   fffe      -2  $i: int16

isclear_8:
        ai    r10, >fff2
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0006
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        clr   @>fffc(r9)                ; flag
        li    r1, >0001
        mov   @>0004(r9), r2            ; result
        movb  @>8303, *r2               ; low R1
        clr   @>fffa(r9)                ; i
        li    r1, >0003
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_115
__l_114:
        inc   @>fffa(r9)                ; i
__l_115:
        mov   @>0006(r9), r1            ; bit1
        mov   @>fffa(r9), r2            ; i
        sla   r2, 1
        a     r2, r1
        mov   *r1, r1
        jeq   __l_119
__l_118:
        li    r1, >0001
        mov   r1, @>fffc(r9)            ; flag
__l_119:
        c     @>fffa(r9), @>fffe(r9)    ; i $i 
        jne   __l_114
__l_122:
        mov   @>fffc(r9), r1            ; flag
        jeq   __l_125
__l_124:
        clr   r1
        mov   @>0004(r9), r2            ; result
        movb  @>8303, *r2               ; low R1
__l_125:
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 2, >7276

; Subroutine: getkeyint_9, level: 2
;   fffe      -2  __rettmp_100: char
;   ffff      -1  __rettmp_101: char
;   0004       4  var result: reference to int16

getkeyint_9:
        ai    r10, >fff6
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        inct  r12
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        dect  r1                        ; __rettmp_100
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  getkey_58
        movb  @>fffe(r9), @>0002(r10)   ; __rettmp_100 
        mov   r9, r1
        dec   r1                        ; __rettmp_101
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  upcase_80
        movb  @>ffff(r9), r1            ; __rettmp_101
        srl   r1, 8
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 2, >72dc

; Subroutine: samsinit_10, level: 2
;   0004       4  var result: reference to int16
;   fffc      -4  reg: int16
;   fffe      -2  $reg: int16

samsinit_10:
        ai    r10, >fff2
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0004
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  samscardon_14
        clr   @>fffc(r9)                ; reg
        li    r1, >000f
        mov   r1, @>fffe(r9)            ; $reg
        jmp   __l_130
__l_129:
        inc   @>fffc(r9)                ; reg
__l_130:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>fffc(r9), @>0002(r10)   ; reg 
        clr   r1                        ; memw
        li    r2, >2000
        a     @>fffc(r9), r2            ; reg 
        sla   r2, 1
        a     r2, r1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  swap_13
        c     @>fffc(r9), @>fffe(r9)    ; reg $reg 
        jne   __l_129
__l_133:
        mov   @>401e, r1                ; memw 
        ci    r1, >0f00
        jeq   __l_136
__l_135:
        clr   r1
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        jmp   __l_137
__l_136:
        li    r1, >0102
        mov   r1, @>401e                ;  memw 
        li    r1, >0001
        mov   @>401e, r2                ; memw 
        li    r3, >0102
        c     r2, r3
        clr   r2
        jne   __l_139
        inc   r2
__l_139:
        a     r2, r1
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        li    r1, >0f00
        mov   r1, @>401e                ;  memw 
__l_137:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        clr   r1
        movb  r1, @>0002(r10)
        li    r1, >1e00
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  setcrubit
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 2, >73b4

; Subroutine: samssize_11, level: 2
;   0004       4  sizecode: int16
;   0006       6  var pagenums: reference to int16
;   fffc      -4  savedmem: int16
;   fffe      -2  newpage: boolean

samssize_11:
        ai    r10, >fff4
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0004
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  samscardon_14
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0100
        movb  r1, @>0002(r10)
        li    r1, >1e02
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  setcrubit
        mov   @>2000, @>fffc(r9)        ; memw  savedmem
        seto  @>2000                    ;  memw 
        li    r1, >0010
        mov   @>0006(r9), r2            ; pagenums
        mov   r1, *r2
__l_140:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>0006(r9), r1            ; pagenums
        mov   *r1, r1
        inct  r1
        mov   r1, @>0002(r10)
        li    r1, >4004                 ; memw 
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  swap_13
        mov   @>2000, r1                ; memw 
        seto  r2
        c     r1, r2
        clr   r1
        jeq   __l_142
        inc   r1
__l_142:
        movb  @>8303, @>fffe(r9)        ; newpage
        movb  @>fffe(r9), r1            ; newpage
        jeq   __l_144
__l_143:
        mov   @>0006(r9), r1            ; pagenums
        mov   @>0006(r9), r2            ; pagenums
        a     *r2, *r1                  ;  
__l_144:
        movb  @>fffe(r9), r1            ; newpage
        srl   r1, 8
        li    r12, >0001
        xor   r12, r1
        ci    r1, >0000
        jeq   __l_140
__l_147:
        li    r1, >0200
        mov   r1, @>4004                ;  memw 
        mov   @>fffc(r9), @>2000        ; savedmem  memw 
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        clr   r1
        movb  r1, @>0002(r10)
        li    r1, >1e02
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  setcrubit
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        clr   r1
        movb  r1, @>0002(r10)
        li    r1, >1e00
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  setcrubit
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 2, >74c2

; Subroutine: dataops_12, level: 2
;   fff8      -8  __rettmp_105: int16
;   fffa      -6  __rettmp_106: int16
;   0004       4  rwcode: int16
;   0006       6  startpage: int16
;   0008       8  datasize: int16
;   000a      10  offset: int16
;   000c      12  var data: reference to void
;   fffc      -4  bytes: int16
;   fffe      -2  done: int16

dataops_12:
        ai    r10, >ffee
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0008
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  samscardon_14
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0100
        movb  r1, @>0002(r10)
        li    r1, >1e02
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  setcrubit
        clr   @>fffe(r9)                ; done
__l_149:
        mov   @>0008(r9), r1            ; datasize
        jgt   __l_152
        jmp   __l_150
__l_152:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>0006(r9), @>0002(r10)   ; startpage 
        li    r1, >4004                 ; memw 
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  swap_13
        clr   r1
        li    r2, >1000
        s     @>000a(r9), r2            ; offset 
        mov   @>0008(r9), r3            ; datasize
; no.opt
        c     r2, r3
        jlt   __l_154
        mov   r3, r2
__l_154:
; no.opt
        c     r1, r2
        jgt   __l_155
        mov   r2, r1
__l_155:
        mov   r1, @>fffc(r9)            ; bytes
        mov   @>0004(r9), r1            ; rwcode
        ci    r1, >0001
        jne   __l_157
__l_156:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0002
        mov   @>fffc(r9), r3            ; bytes
        clr   r2
        div   r1, r2
        mov   r2, @>0004(r10)           ;  
        clr   r1                        ; memb
        li    r2, >2000
        a     @>000a(r9), r2            ; offset 
        a     r2, r1
        mov   r1, @>0002(r10)
        mov   @>000c(r9), r1            ; data
        a     @>fffe(r9), r1            ; done 
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  moveword
        jmp   __l_158
__l_157:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0002
        mov   @>fffc(r9), r3            ; bytes
        clr   r2
        div   r1, r2
        mov   r2, @>0004(r10)           ;  
        mov   @>000c(r9), r1            ; data
        a     @>fffe(r9), r1            ; done 
        mov   r1, @>0002(r10)
        clr   r1                        ; memb
        li    r2, >2000
        a     @>000a(r9), r2            ; offset 
        a     r2, r1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  moveword
__l_158:
        s     @>fffc(r9), @>0008(r9)    ; datasize
        a     @>fffc(r9), @>fffe(r9)    ; done
        clr   @>000a(r9)                ; offset
        inc   @>0006(r9)                ; startpage
        b     @__l_149
__l_150:
        li    r1, >0200
        mov   r1, @>4004                ;  memw 
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        clr   r1
        movb  r1, @>0002(r10)
        li    r1, >1e02
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  setcrubit
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        clr   r1
        movb  r1, @>0002(r10)
        li    r1, >1e00
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  setcrubit
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >000a
        b     @__far_ret

        bank 2, >7644

; Subroutine: swap_13, level: 2
;   0004       4  var result: reference to int16
;   0006       6  n: int16

swap_13:
        ai    r10, >fff8
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>0006(r9), r1            ; n
        sra   r1, 8
        mov   @>0006(r9), r2            ; n
        andi  r2, >00ff
        sla   r2, 8
        soc   r2, r1
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 2, >7680

; Subroutine: samscardon_14, level: 2
;   fffc      -4  cruaddr: int16
;   fffe      -2  $cruaddr: int16

samscardon_14:
        ai    r10, >fff6
        mov   r10, r12
        mov   r1, *r12+
        ai    r12, >0004
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, >0010
        mov   r1, @>fffc(r9)            ; cruaddr
        li    r1, >001f
        mov   r1, @>fffe(r9)            ; $cruaddr
        jmp   __l_164
__l_163:
        inc   @>fffc(r9)                ; cruaddr
__l_164:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        clr   r1
        movb  r1, @>0002(r10)
        mov   @>fffc(r9), r1            ; cruaddr
        sla   r1, 8
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  setcrubit
        c     @>fffc(r9), @>fffe(r9)    ; cruaddr $cruaddr 
        jne   __l_163
__l_168:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0100
        movb  r1, @>0002(r10)
        li    r1, >1e00
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  setcrubit
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

        bank 2, >76fe

; Subroutine: vmbw, level: 2
;   0000       0  var src: reference to void
;   0002       2  dest: int16
;   0004       4  length: int16

vmbw:
        mov   @>0004(r10), r14
        jeq   vmbw_2
        mov   @>0002(r10), r13
        ori   r13, >4000
        swpb  r13
        movb  r13, @>8c02
        swpb  r13
        movb  r13, @>8c02
        mov   *r10, r12
        li    r15, >8c00
vmbw_1:
        movb  *r12+, *r15
        dec   r14
        jne   vmbw_1
vmbw_2:
        ai    r10, >0006
        b     @__far_ret

        bank 2, >772c

; Subroutine: vmbr, level: 2
;   0000       0  var dest: reference to void
;   0002       2  src: int16
;   0004       4  length: int16

vmbr:
        mov   @>0004(r10), r14
        jeq   vmbr_2
        mov   @>0002(r10), r13
        swpb  r13
        movb  r13, @>8c02
        swpb  r13
        movb  r13, @>8c02
        li    r15, >8800
        mov   *r10, r12
vmbr_1:
        movb  *r15, *r12+
        dec   r14
        jne   vmbr_1
vmbr_2:
        ai    r10, >0006
        b     @__far_ret

        bank 2, >7756

; Subroutine: vrbw, level: 2
;   0000       0  dest: int16
;   0002       2  val: uint8
;   0004       4  length: int16

vrbw:
        mov   @>0004(r10), r12
        jeq   vrbw_2
        mov   *r10, r13
        ori   r13, >4000
        swpb  r13
        movb  r13, @>8c02
        swpb  r13
        movb  r13, @>8c02
        li    r13, >8c00
        movb  @>0002(r10), r14
vrbw_1:
        movb  r14, *r13
        dec   r12
        jne   vrbw_1
vrbw_2:
        ai    r10, >0006
        b     @__far_ret

        bank 2, >7784

; Subroutine: pokev_15, level: 2
;   0004       4  addr: int16
;   0006       6  val: uint8

pokev_15:
        ai    r10, >fffa
        mov   r10, r12
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0001
        mov   r1, @>0004(r10)
        mov   @>0004(r9), @>0002(r10)   ; addr 
        mov   r9, r1
        ai    r1, >0006                 ; val
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  vmbw
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 2, >77cc

; Subroutine: setvideomode_16, level: 2
;   0004       4  mode: enum
;   fefc    -260  i: int16
;   fefe    -258  screen: array [subrange (0..255) of int64] of uint8
;   fffe      -2  $i: int16

setvideomode_16:
        ai    r10, >fef0
        mov   r10, r12
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0104
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        movb  @>0004(r9), @>fe80        ; mode low R1 videomode
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >8000
        movb  r1, @>0002(r10)
        li    r1, >0100
        movb  r1, *r10
        bl    @__far_call_1
        data  >6006
        data  setvdpreg_29
        li    r1, >0002
        mov   r1, @>fefc(r9)            ; i
        li    r1, >0007
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_172
__l_171:
        inc   @>fefc(r9)                ; i
__l_172:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >ffc6                 ; $static_vdpregs
        movb  @>fe80, r2                ; videomode
        srl   r2, 8
        sla   r2, 3
        a     r2, r1
        a     @>fefc(r9), r1            ; i 
        movb  *r1, @>0002(r10)          ;  
        mov   @>fefc(r9), r1            ; i
        swpb  r1
        movb  r1, *r10
        bl    @__far_call_1
        data  >6006
        data  setvdpreg_29
        c     @>fefc(r9), @>fffe(r9)    ; i $i 
        jne   __l_171
__l_187:
        movb  @>fe80, r1                ; videomode
        srl   r1, 8
; no-opt
        ci    r1, >0002
        jle   __l_191
        b     @__l_189
__l_191:
        sla   r1, 1
        ai    r1, __l_192
        mov   *r1, r1
        b     *r1
__c_174:
        mov   @>fe72, r1                ; imagetable
        ai    r1, >03c0
        mov   r1, @>fe7e                ;  imagetableend
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>fe76, @>0002(r10)       ; patterntable 
        li    r1, >06b4
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  loadcharset_28
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  clrscr_23
        b     @__l_189
__c_175:
        mov   @>fe72, r1                ; imagetable
        ai    r1, >0300
        mov   r1, @>fe7e                ;  imagetableend
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>fe76, @>0002(r10)       ; patterntable 
        li    r1, >06b4
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  loadcharset_28
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >0100
        movb  r1, *r10
        bl    @__far_call_1
        data  >6004
        data  settextcolor_17
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  clrscr_23
        jmp   __l_189
__c_176:
        clr   @>fefc(r9)                ; i
        li    r1, >00ff
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_178
__l_177:
        inc   @>fefc(r9)                ; i
__l_178:
        mov   @>fefc(r9), r1            ; i
        mov   r9, r2
        ai    r2, >fefe                 ; screen
        a     @>fefc(r9), r2            ; i 
        movb  @>8303, *r2               ; low R1
        c     @>fefc(r9), @>fffe(r9)    ; i $i 
        jne   __l_177
__l_193:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >1800
        mov   r1, @>0004(r10)
        clr   r1
        movb  r1, @>0002(r10)
        mov   @>fe76, *r10              ; patterntable 
        bl    @__far_call_1
        data  >6004
        data  vrbw
        clr   @>fefc(r9)                ; i
        li    r1, >0002
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_181
__l_180:
        inc   @>fefc(r9)                ; i
__l_181:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0100
        mov   r1, @>0004(r10)
        mov   @>fe72, r1                ; imagetable
        mov   @>fefc(r9), r2            ; i
        li    r3, >0100
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fefe                 ; screen
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  vmbw
        c     @>fefc(r9), @>fffe(r9)    ; i $i 
        jne   __l_180
__l_195:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >1800
        mov   r1, @>0004(r10)
        clr   r1
        movb  r1, @>0002(r10)
        mov   @>fe74, *r10              ; colortable 
        bl    @__far_call_1
        data  >6004
        data  vrbw
__l_189:
        movb  @>fe80, r1                ; videomode
        jeq   __l_198
__l_197:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >d000
        movb  r1, @>0002(r10)
        mov   @>fe78, *r10              ; spriteattributetable 
        bl    @__far_call_1
        data  >6004
        data  pokev_15
__l_198:
        clr   @>fefc(r9)                ; i
        li    r1, >0001
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_184
__l_183:
        inc   @>fefc(r9)                ; i
__l_184:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >ffc6                 ; $static_vdpregs
        movb  @>fe80, r2                ; videomode
        srl   r2, 8
        sla   r2, 3
        a     r2, r1
        a     @>fefc(r9), r1            ; i 
        movb  *r1, @>0002(r10)          ;  
        mov   @>fefc(r9), r1            ; i
        swpb  r1
        movb  r1, *r10
        bl    @__far_call_1
        data  >6006
        data  setvdpreg_29
        c     @>fefc(r9), @>fffe(r9)    ; i $i 
        jne   __l_183
__l_201:
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret
; jump tables for case statements
__l_192:
        data  __c_174
        data  __c_175
        data  __c_176

        bank 2, >7a4e

; Subroutine: settextcolor_17, level: 2
;   0004       4  color: enum
;   fffc      -4  i: int16
;   fffe      -2  $i: int16

settextcolor_17:
        ai    r10, >fff4
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0004
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        movb  @>0004(r9), r1            ; color
        srl   r1, 8
        sla   r1, 4
        movb  @>fe82, r2                ; backcolor
        srl   r2, 8
        soc   r2, r1
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >0700
        movb  r1, *r10
        bl    @__far_call_1
        data  >6006
        data  setvdpreg_29
        movb  @>fe80, r1                ; videomode
        srl   r1, 8
        ci    r1, >0001
        jne   __l_209
__l_208:
        clr   @>fffc(r9)                ; i
        li    r1, >001f
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_204
__l_203:
        inc   @>fffc(r9)                ; i
__l_204:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        clr   r1
        movb  r1, @>0004(r10)
        movb  @>0004(r9), @>0002(r10)   ; color 
        mov   @>fffc(r9), *r10          ; i 
        bl    @__far_call_1
        data  >6004
        data  setcolor_18
        c     @>fffc(r9), @>fffe(r9)    ; i $i 
        jne   __l_203
__l_209:
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 2, >7aea

; Subroutine: setcolor_18, level: 2
;   0004       4  group: int16
;   0006       6  fore: enum
;   0008       8  back: enum

setcolor_18:
        ai    r10, >fff8
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        movb  @>0006(r9), r1            ; fore
        srl   r1, 8
        sla   r1, 4
        movb  @>0008(r9), r2            ; back
        srl   r2, 8
        soc   r2, r1
        swpb  r1
        movb  r1, @>0002(r10)
        mov   @>fe74, r1                ; colortable
        mov   @>0004(r9), r2            ; group
        andi  r2, >001f
        a     r2, r1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  pokev_15
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0006
        b     @__far_ret

        bank 2, >7b46

; Subroutine: gotoxy_19, level: 2
;   fffa      -6  __rettmp_98: int16
;   fffc      -4  __rettmp_99: int16
;   0004       4  x: int16
;   0006       6  y: int16
;   fffe      -2  offs: int16

gotoxy_19:
        ai    r10, >fff2
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0006
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        movb  @>fe80, r1                ; videomode
        jne   __l_218
__l_217:
        mov   @>0006(r9), r1            ; y
        sla   r1, 2
        a     @>0006(r9), r1            ; y 
        sla   r1, 3
        mov   r1, @>fffe(r9)            ; offs
        jmp   __l_219
__l_218:
        mov   @>0006(r9), r1            ; y
        sla   r1, 5
        mov   r1, @>fffe(r9)            ; offs
__l_219:
        mov   @>fe72, r1                ; imagetable
        mov   @>fffe(r9), r2            ; offs
        a     @>0004(r9), r2            ; x 
        abs   r2
        a     r2, r1
        mov   @>fe7e, r2                ; imagetableend
        dec   r2
; no.opt
        c     r1, r2
        jlt   __l_224
        mov   r2, r1
__l_224:
        mov   r1, @>fe7c                ;  vdpwriteaddress
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 2, >7bb0

; Subroutine: wherex_20, level: 2
;   0004       4  var result: reference to int16

wherex_20:
        ai    r10, >fff6
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        movb  @>fe80, r1                ; videomode
        srl   r1, 8
        ci    r1, >0001
        jne   __l_227
__l_226:
        mov   @>fe7c, r1                ; vdpwriteaddress
        andi  r1, >001f
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        jmp   __l_228
__l_227:
        li    r1, >0028
        mov   @>fe7c, r3                ; vdpwriteaddress
        s     @>fe72, r3                ; imagetable 
        clr   r2
        div   r1, r2
        mov   r3, r1
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
__l_228:
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 2, >7c0a

; Subroutine: wherey_21, level: 2
;   0004       4  var result: reference to int16

wherey_21:
        ai    r10, >fff6
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        movb  @>fe80, r1                ; videomode
        srl   r1, 8
        ci    r1, >0001
        jne   __l_232
__l_231:
        mov   @>fe7c, r1                ; vdpwriteaddress
        s     @>fe72, r1                ; imagetable 
        sra   r1, 5
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        jmp   __l_233
__l_232:
        li    r1, >0028
        mov   @>fe7c, r3                ; vdpwriteaddress
        s     @>fe72, r3                ; imagetable 
        clr   r2
        div   r1, r2
        mov   r2, r1
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
__l_233:
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 2, >7c66

; Subroutine: screenwidth_22, level: 2
;   0004       4  var result: reference to int16

screenwidth_22:
        ai    r10, >fff8
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        movb  @>fe80, r1                ; videomode
        srl   r1, 8
; no-opt
        ci    r1, >0002
        jle   __l_242
        jmp   __l_240
__l_242:
        sla   r1, 1
        ai    r1, __l_243
        mov   *r1, r1
        b     *r1
__c_236:
        li    r1, >0028
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        jmp   __l_240
__c_237:
        li    r1, >0020
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        jmp   __l_240
__c_238:
        li    r1, >0100
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
__l_240:
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret
; jump tables for case statements
__l_243:
        data  __c_236
        data  __c_237
        data  __c_238

        bank 2, >7cc8

; Subroutine: clrscr_23, level: 2

clrscr_23:
        ai    r10, >fffa
        mov   r10, r12
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        movb  @>fe80, r1                ; videomode
        srl   r1, 8
; no-opt
        ci    r1, >0001
        jle   __l_249
        jmp   __l_247
__l_249:
        sla   r1, 1
        ai    r1, __l_250
        mov   *r1, r1
        b     *r1
__c_244:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0300
        mov   r1, @>0004(r10)
        li    r1, >2000
        movb  r1, @>0002(r10)
        mov   @>fe72, *r10              ; imagetable 
        bl    @__far_call_1
        data  >6004
        data  vrbw
        jmp   __l_247
__c_245:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >03c0
        mov   r1, @>0004(r10)
        li    r1, >2000
        movb  r1, @>0002(r10)
        mov   @>fe72, *r10              ; imagetable 
        bl    @__far_call_1
        data  >6004
        data  vrbw
__l_247:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        clr   @>0002(r10)
        clr   *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret
; jump tables for case statements
__l_250:
        data  __c_245
        data  __c_244

        bank 2, >7d66

; Subroutine: scroll_24, level: 2

scroll_24:
        ai    r10, >fff8
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        movb  @>fe80, r1                ; videomode
        srl   r1, 8
; no-opt
        ci    r1, >0001
        jle   __l_256
        jmp   __l_254
__l_256:
        sla   r1, 1
        ai    r1, __l_257
        mov   *r1, r1
        b     *r1
__c_251:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >c040
        mov   r1, @>0008(r10)
        li    r1, >3fe0
        mov   r1, @>0006(r10)
        li    r1, >0020
        mov   r1, @>0004(r10)
        mov   @>fe72, r1                ; imagetable
        ai    r1, >0300
        mov   r1, @>0002(r10)
        mov   @>fe72, r1                ; imagetable
        ai    r1, >0020
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  _rt_scroll_up
        li    r1, >fe7c                 ; vdpwriteaddress
        li    r2, >0020
        s     r2, *r1
        jmp   __l_254
__c_252:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >c048
        mov   r1, @>0008(r10)
        li    r1, >3fd8
        mov   r1, @>0006(r10)
        li    r1, >0028
        mov   r1, @>0004(r10)
        mov   @>fe72, r1                ; imagetable
        ai    r1, >03c0
        mov   r1, @>0002(r10)
        mov   @>fe72, r1                ; imagetable
        ai    r1, >0028
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  _rt_scroll_up
        li    r1, >fe7c                 ; vdpwriteaddress
        li    r2, >0028
        s     r2, *r1
__l_254:
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret
; jump tables for case statements
__l_257:
        data  __c_252
        data  __c_251

        bank 2, >7e38

; Subroutine: outputstring_25, level: 2
;   0004       4  p: pointer to char (char)
;   0006       6  outlen: int16
;   fffe      -2  len: int16

outputstring_25:
        ai    r10, >fff6
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        inct  r12
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>0004(r9), r1            ; p
        movb  *r1, r1
        srl   r1, 8
        mov   r1, @>fffe(r9)            ; len
__l_258:
        mov   @>fe7c, r1                ; vdpwriteaddress
        a     @>0006(r9), r1            ; outlen 
        c     r1, @>fe7e                ; imagetableend 
        jlt   __l_259
        jeq   __l_259
__l_261:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  scroll_24
        jmp   __l_258
__l_259:
        c     @>0006(r9), @>fffe(r9)    ; outlen len 
        jlt   __l_264
        jeq   __l_264
__l_263:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>0006(r9), r1            ; outlen
        s     @>fffe(r9), r1            ; len 
        mov   r1, @>0004(r10)
        li    r1, >2000
        movb  r1, @>0002(r10)
        mov   @>fe7c, *r10              ; vdpwriteaddress 
        bl    @__far_call_1
        data  >6004
        data  vrbw
        li    r1, >fe7c                 ; vdpwriteaddress
        mov   @>0006(r9), r2            ; outlen
        s     @>fffe(r9), r2            ; len 
        a     r2, *r1
__l_264:
        ai    r10, >fffc
        mov   @>fffe(r9), @>0002(r10)   ; len 
        mov   @>0004(r9), *r10          ; p 
        bl    @__write_data
        a     @>fffe(r9), @>fe7c        ; len  vdpwriteaddress
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

; Subroutine: __write_data, level: 3
;   0000       0  p: pointer to void
;   0002       2  length: int16

__write_data:
        mov   @>0002(r10), r12
        jeq   __write_data_2
        mov   @>fe7c, r13
        ori   r13, >4000
        swpb  r13
        movb  r13, @>8c02
        swpb  r13
        movb  r13, @>8c02
        mov   *r10, r13
        li    r14, >8c00
        inc   r13
__write_data_1:
        movb  *r13+, *r14
        dec   r12
        jne   __write_data_1
__write_data_2:
        ai    r10, >0004
        b     *r11

        bank 2, >7f12

; Subroutine: outputline_26, level: 2

outputline_26:
        ai    r10, >ffee
        mov   r10, r12
        mov   r7, *r12+
        mov   r6, *r12+
        mov   r5, *r12+
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        movb  @>fe80, r1                ; videomode
        srl   r1, 8
; no-opt
        ci    r1, >0001
        jle   __l_274
        jmp   __l_272
__l_274:
        sla   r1, 1
        ai    r1, __l_275
        mov   *r1, r1
        b     *r1
__c_267:
        mov   @>fe72, r1                ; imagetable
        li    r2, >0028
        li    r3, >0028
        mov   @>fe7c, r5                ; vdpwriteaddress
        mov   @>fe72, r6                ; imagetable
        li    r7, >0028
        s     r7, r6
        s     r6, r5
        clr   r4
        div   r3, r4
        mov   r4, r3
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fe7c                ;  vdpwriteaddress
        jmp   __l_272
__c_268:
        mov   @>fe7c, r1                ; vdpwriteaddress
        ai    r1, >0020
        andi  r1, >ffe0
        mov   r1, @>fe7c                ;  vdpwriteaddress
__l_272:
        c     @>fe7c, @>fe7e            ; vdpwriteaddress imagetableend 
        jlt   __l_270
__l_276:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  scroll_24
        jmp   __l_272
__l_270:
        mov   *r10+, r7
        mov   *r10+, r6
        mov   *r10+, r5
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret
; jump tables for case statements
__l_275:
        data  __c_267
        data  __c_268

        bank 2, >7fb6

; Subroutine: setcrubit, level: 2
;   0000       0  addr: int16
;   0002       2  val: boolean

setcrubit:
        mov   *r10, r12
        mov   @>0002(r10), r13
        ldcr  r13, 1
        ai    r10, >0004
        b     @__far_ret

        bank 2, >7fc6

; Subroutine: limi0, level: 2

limi0:
        b     @__far_ret

        bank 2, >7fca

; Subroutine: limi2, level: 2

limi2:
        b     @__far_ret

        bank 3, >6060

; Subroutine: setvdpaddress_27, level: 2
;   0004       4  n: int16

setvdpaddress_27:
        ai    r10, >fffa
        mov   r10, r12
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>0004(r9), r1            ; n
        andi  r1, >00ff
        movb  @>8303, @>8c02            ; low R1 vdpwa
        mov   @>0004(r9), r1            ; n
        sra   r1, 8
        movb  @>8303, @>8c02            ; low R1 vdpwa
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 3, >6098

; Subroutine: loadcharset_28, level: 2
;   0004       4  gromaddr: int16
;   0006       6  vdpaddr: int16
;   fff8      -8  i: int16
;   fffa      -6  j: int16
;   fffc      -4  $i: int16
;   fffe      -2  $j: int16

loadcharset_28:
        ai    r10, >fff0
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0008
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  limi0
        mov   @>0004(r9), r1            ; gromaddr
        sra   r1, 8
        movb  @>8303, @>9c02            ; low R1 gromwa
        mov   @>0004(r9), r1            ; gromaddr
        andi  r1, >00ff
        movb  @>8303, @>9c02            ; low R1 gromwa
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   @>0006(r9), r1            ; vdpaddr
        ai    r1, >00f8
        li    r2, >4000
        soc   r2, r1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  setvdpaddress_27
        li    r1, >0001
        mov   r1, @>fff8(r9)            ; i
        li    r1, >0007
        mov   r1, @>fffc(r9)            ; $i
        jmp   __l_281
__l_280:
        inc   @>fff8(r9)                ; i
__l_281:
        li    r1, >003f
        movb  @>8303, @>8c00            ; low R1 vdpwd
        c     @>fff8(r9), @>fffc(r9)    ; i $i 
        jne   __l_280
__l_291:
        clr   r1
        movb  @>8303, @>8c00            ; low R1 vdpwd
        li    r1, >0020
        mov   r1, @>fff8(r9)            ; i
        li    r1, >007f
        mov   r1, @>fffc(r9)            ; $i
        jmp   __l_287
__l_286:
        inc   @>fff8(r9)                ; i
__l_287:
        li    r1, >0001
        mov   r1, @>fffa(r9)            ; j
        li    r1, >0007
        mov   r1, @>fffe(r9)            ; $j
        jmp   __l_284
__l_283:
        inc   @>fffa(r9)                ; j
__l_284:
        movb  @>9800, @>8c00            ; gromrd low R1 vdpwd
        c     @>fffa(r9), @>fffe(r9)    ; j $j 
        jne   __l_283
__l_293:
        clr   r1
        movb  @>8303, @>8c00            ; low R1 vdpwd
        c     @>fff8(r9), @>fffc(r9)    ; i $i 
        jne   __l_286
__l_295:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  limi2
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 3, >6192

; Subroutine: setvdpreg_29, level: 2
;   0004       4  nr: uint8
;   0006       6  val: uint8
;   fffe      -2  dummy: char

setvdpreg_29:
        ai    r10, >fff4
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        inct  r12
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  limi0
        movb  @>8802, @>fffe(r9)        ; vdpsta dummy
        movb  @>0006(r9), @>8c02        ; val low R1 vdpwa
        li    r1, >0080
        movb  @>0004(r9), r2            ; nr
        srl   r2, 8
        a     r2, r1
        movb  @>8303, @>8c02            ; low R1 vdpwa
        movb  @>0004(r9), r1            ; nr
        srl   r1, 8
        dec   r1
; no-opt
        ci    r1, >0006
        jle   __l_307
        b     @__l_305
__l_307:
        sla   r1, 1
        ai    r1, __l_308
        mov   *r1, r1
        b     *r1
__c_297:
        movb  @>0006(r9), @>83d4        ; val low R1 memb 
        b     @__l_305
__c_298:
        li    r1, >0400
        movb  @>0006(r9), r2            ; val
        srl   r2, 8
        andi  r2, >000f
        mpy   r1, r2
        mov   r3, @>fe72                ;   imagetable
        b     @__l_305
__c_299:
        movb  @>fe80, r1                ; videomode
        srl   r1, 8
        ci    r1, >0002
        jne   __l_310
__l_309:
        li    r1, >2000
        movb  @>0006(r9), r2            ; val
        srl   r2, 8
        sra   r2, 7
        mpy   r1, r2
        mov   r3, @>fe74                ;   colortable
        jmp   __l_305
__l_310:
        movb  @>fe80, r1                ; videomode
        srl   r1, 8
        ci    r1, >0001
        jne   __l_315
__l_314:
        li    r1, >0040
        movb  @>0006(r9), r2            ; val
        srl   r2, 8
        mpy   r1, r2
        mov   r3, @>fe74                ;   colortable
        jmp   __l_305
__l_315:
        seto  @>fe74                    ;  colortable
        jmp   __l_305
__c_300:
        movb  @>fe80, r1                ; videomode
        srl   r1, 8
        ci    r1, >0002
        jne   __l_319
__l_318:
        li    r1, >2000
        movb  @>0006(r9), r2            ; val
        srl   r2, 8
        andi  r2, >0007
        sra   r2, 2
        mpy   r1, r2
        mov   r3, @>fe76                ;   patterntable
        jmp   __l_305
__l_319:
        li    r1, >0800
        movb  @>0006(r9), r2            ; val
        srl   r2, 8
        andi  r2, >0007
        mpy   r1, r2
        mov   r3, @>fe76                ;   patterntable
        jmp   __l_305
__c_301:
        movb  @>fe80, r1                ; videomode
        jne   __l_324
__l_323:
        seto  @>fe78                    ;  spriteattributetable
        jmp   __l_305
__l_324:
        li    r1, >0080
        movb  @>0006(r9), r2            ; val
        srl   r2, 8
        andi  r2, >007f
        mpy   r1, r2
        mov   r3, @>fe78                ;   spriteattributetable
        jmp   __l_305
__c_302:
        movb  @>fe80, r1                ; videomode
        jne   __l_328
__l_327:
        seto  @>fe7a                    ;  spritepatterntable
        jmp   __l_305
__l_328:
        li    r1, >0800
        movb  @>0006(r9), r2            ; val
        srl   r2, 8
        andi  r2, >0007
        mpy   r1, r2
        mov   r3, @>fe7a                ;   spritepatterntable
        jmp   __l_305
__c_303:
        movb  @>0006(r9), r1            ; val
        srl   r1, 8
        sra   r1, 4
        movb  @>8303, @>fe81            ; low R1 forecolor
        movb  @>0006(r9), r1            ; val
        srl   r1, 8
        andi  r1, >000f
        movb  @>8303, @>fe82            ; low R1 backcolor
__l_305:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  limi2
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret
; jump tables for case statements
__l_308:
        data  __c_297
        data  __c_298
        data  __c_299
        data  __c_300
        data  __c_301
        data  __c_302
        data  __c_303

        bank 3, >6322

; Subroutine: _rt_scroll_up, level: 2
;   0000       0  start: int16
;   0002       2  stop: int16
;   0004       4  len: int16
;   0006       6  inc1: int16
;   0008       8  inc2: int16

_rt_scroll_up:
        mov   *r10, r0
        li    r13, >8c02
        li    r14, >8800
        li    r15, >8c00
_rt_scroll_up_1:
        swpb  r0
        movb  r0, *r13
        swpb  r0
        movb  r0, *r13
        mov   @>0004(r10), r8
        li    r12, >8320
_rt_scroll_up_2:
        movb  *r14, *r12+
        dec   r8
        movb  *r14, *r12+
        dec   r8
        movb  *r14, *r12+
        dec   r8
        movb  *r14, *r12+
        dec   r8
        jne   _rt_scroll_up_2
        a     @>0006(r10), r0
        swpb  r0
        movb  r0, *r13
        swpb  r0
        movb  r0, *r13
        mov   @>0004(r10), r8
        li    r12, >8320
_rt_scroll_up_3:
        movb  *r12+, *r15
        dec   r8
        movb  *r12+, *r15
        dec   r8
        movb  *r12+, *r15
        dec   r8
        movb  *r12+, *r15
        dec   r8
        jne   _rt_scroll_up_3
        a     @>0008(r10), r0
        c     r0, @>0002(r10)
        jl    _rt_scroll_up_1
        mov   @>0004(r10), r8
        li    r12, >2000
_rt_scroll_up_4:
        movb  r12, *r15
        dec   r8
        jne   _rt_scroll_up_4
        ai    r10, >000a
        b     @__far_ret

        bank 3, >6398

; Subroutine: bittrim, level: 2
;   0000       0  var b1: reference to array [subrange (0..3) of int64] of int16
;   0002       2  var b2: reference to array [subrange (0..3) of int64] of int16
;   0004       4  var n: reference to int16
;   0006       6  var ptype: reference to int16
;   0008       8  flg: int16

bittrim:
        lwpi  >8320
        mov   @>8314, r10
        mov   @>0008(r10), @>fe8c
        mov   @>0006(r10), r0
        mov   @>0004(r10), r1
        mov   @>0002(r10), r2
        mov   *r10, r3
        mov   *r1, r4
        mov   r4, @>fe84
        mov   r4, @>fe88
        mov   *r0, r5
        ci    r5, >0018
        jeq   bishop
        clr   @>fe8a
        inc   @>ffde
        li    r5, >0008
        mov   r5, @>fe86
        bl    @trimray
        clr   @>fe8a
        mov   @>fe84, @>fe88
        li    r5, >fff8
        mov   r5, @>fe86
        bl    @trimray
        clr   @>fe8a
        clr   @>ffde
        bl    @l_edge
        ci    r5, >0000
        jne   rray
        mov   @>fe84, @>fe88
        li    r5, >ffff
        mov   r5, @>fe86
        bl    @trimray
rray:
        clr   @>fe8a
        bl    @r_edge
        ci    r5, >0000
        jne   isrook
        mov   @>fe84, @>fe88
        li    r5, >0001
        mov   r5, @>fe86
        bl    @trimray
isrook:
        mov   *r0, r5
        ci    r5, >0008
        jeq   finish
bishop:
        clr   @>fe8a
        bl    @l_edge
        ci    r5, >0000
        jne   rcheck
        mov   @>fe84, @>fe88
        li    r5, >0007
        mov   r5, @>fe86
        bl    @trimray
        clr   @>fe8a
        mov   @>fe84, @>fe88
        li    r5, >fff7
        mov   r5, @>fe86
        bl    @trimray
rcheck:
        clr   @>fe8a
        bl    @r_edge
        ci    r5, >0000
        jne   finish
        mov   @>fe84, @>fe88
        li    r5, >0009
        mov   r5, @>fe86
        bl    @trimray
        clr   @>fe8a
        mov   @>fe84, @>fe88
        li    r5, >fff9
        mov   r5, @>fe86
        bl    @trimray
finish:
        lwpi  >8300
        ai    r10, >000a
        b     @__far_ret

        bank 3, >64b4

; Subroutine: bitpos, level: 2
;   0000       0  var b1: reference to array [subrange (0..3) of int64] of int16
;   0002       2  var posarray: reference to array [subrange (0..64) of int64] of int16

bitpos:
        lwpi  >8320
        mov   @>8314, r10
        mov   @>0002(r10), r1
        mov   *r10, r3
        clr   r0
        clr   r4
        clr   @>fe92
        mov   r1, r2
        inct  r1
nextpos:
        bl    @bitchk
        ci    r5, >0000
        jeq   nopiece
        mov   r0, *r1+
        inc   @>fe92
nopiece:
        inc   r0
        mov   r0, r4
        ci    r4, >003f
        jgt   donebrd
        jmp   nextpos
donebrd:
        mov   @>fe92, *r2
        lwpi  >8300
        ai    r10, >0004
        b     @__far_ret

        bank 3, >64fa

; Subroutine: bitnot, level: 2
;   0000       0  var b1: reference to array [subrange (0..3) of int64] of int16
;   0002       2  var br: reference to array [subrange (0..3) of int64] of int16

bitnot:
        lwpi  >8320
        mov   @>8314, r10
        mov   @>0002(r10), r6
        mov   *r10, r5
        mov   *r5+, r4
        inv   r4
        mov   r4, *r6+
        mov   *r5+, r4
        inv   r4
        mov   r4, *r6+
        mov   *r5+, r4
        inv   r4
        mov   r4, *r6+
        mov   *r5, r4
        inv   r4
        mov   r4, *r6
        lwpi  >8300
        ai    r10, >0004
        b     @__far_ret

        bank 3, >652c

; Subroutine: bitand, level: 2
;   0000       0  var b1: reference to array [subrange (0..3) of int64] of int16
;   0002       2  var b2: reference to array [subrange (0..3) of int64] of int16
;   0004       4  var br: reference to array [subrange (0..3) of int64] of int16

bitand:
        lwpi  >8320
        mov   @>8314, r10
        mov   @>0004(r10), r7
        mov   @>0002(r10), r6
        mov   *r10, r5
        mov   *r5+, r3
        mov   *r6+, r4
        inv   r3
        szc   r3, r4
        mov   r4, *r7+
        mov   *r5+, r3
        mov   *r6+, r4
        inv   r3
        szc   r3, r4
        mov   r4, *r7+
        mov   *r5+, r3
        mov   *r6+, r4
        inv   r3
        szc   r3, r4
        mov   r4, *r7+
        mov   *r5, r3
        mov   *r6, r4
        inv   r3
        szc   r3, r4
        mov   r4, *r7
        lwpi  >8300
        ai    r10, >0006
        b     @__far_ret

        bank 3, >6572

; Subroutine: bitor, level: 2
;   0000       0  var b1: reference to array [subrange (0..3) of int64] of int16
;   0002       2  var b2: reference to array [subrange (0..3) of int64] of int16
;   0004       4  var br: reference to array [subrange (0..3) of int64] of int16

bitor:
        lwpi  >8320
        mov   @>8314, r10
        mov   @>0004(r10), r7
        mov   @>0002(r10), r6
        mov   *r10, r5
        mov   *r6+, r3
        soc   *r5+, r3
        mov   r3, *r7+
        mov   *r6+, r3
        soc   *r5+, r3
        mov   r3, *r7+
        mov   *r6+, r3
        soc   *r5+, r3
        mov   r3, *r7+
        mov   *r6, r3
        soc   *r5, r3
        mov   r3, *r7
        lwpi  >8300
        ai    r10, >0006
        b     @__far_ret

        bank 3, >65a8

; Subroutine: rshift, level: 2
;   0000       0  var b1: reference to array [subrange (0..3) of int64] of int16
;   0002       2  var br: reference to array [subrange (0..3) of int64] of int16
;   0004       4  n: int16

rshift:
        lwpi  >8320
        mov   @>8314, r10
        mov   @>0004(r10), r5
        mov   @>0002(r10), r7
        mov   *r10, r6
        mov   *r6+, r4
        mov   *r6+, r3
        mov   *r6+, r2
        mov   *r6, r1
nxtshft:
        srl   r1, 1
        srl   r2, 1
        jnc   notset1
        ori   r1, >8000
notset1:
        srl   r3, 1
        jnc   notset2
        ori   r2, >8000
notset2:
        srl   r4, 1
        jnc   notset3
        ori   r3, >8000
notset3:
        dec   r5
        jne   nxtshft
        mov   r4, *r7+
        mov   r3, *r7+
        mov   r2, *r7+
        mov   r1, *r7
        lwpi  >8300
        ai    r10, >0006
        b     @__far_ret

        bank 3, >65f4

; Subroutine: lshift, level: 2
;   0000       0  var b1: reference to array [subrange (0..3) of int64] of int16
;   0002       2  var br: reference to array [subrange (0..3) of int64] of int16
;   0004       4  n: int16

lshift:
        lwpi  >8320
        mov   @>8314, r10
        mov   @>0004(r10), r5
        mov   @>0002(r10), r7
        mov   *r10, r6
        mov   *r6+, r4
        mov   *r6+, r3
        mov   *r6+, r2
        mov   *r6, r1
newshft:
        sla   r4, 1
        sla   r3, 1
        jnc   nocar1
        ori   r4, >0001
nocar1:
        sla   r2, 1
        jnc   nocar2
        ori   r3, >0001
nocar2:
        sla   r1, 1
        jnc   nocar3
        ori   r2, >0001
nocar3:
        dec   r5
        jne   newshft
        mov   r4, *r7+
        mov   r3, *r7+
        mov   r2, *r7+
        mov   r1, *r7
        lwpi  >8300
        ai    r10, >0006
        b     @__far_ret

        bank 3, >6640

; Subroutine: dummy, level: 2

dummy:
        clr   r0
trimray:
        mov   r11, @>fe90
nxtsqr:
        a     @>fe86, @>fe88
        mov   @>fe88, r4
        ci    r4, >0000
        jlt   done
        ci    r4, >003f
        jgt   done
        bl    @bitchk
        ci    r5, >0000
        jne   next
        c     @>fe8a, @>ffe0
        jne   sidebit
        inc   @>fe8a
        c     @>fe8c, @>ffe0
        jeq   sidebit
        clr   r5
        movb  *r4, r5
        inv   r6
        socb  r6, r5
        movb  r5, *r4
        inv   r6
sidebit:
        c     @>ffde, @>ffe0
        jne   nxtsqr
        clr   r4
        movb  @>fe94, r4
        swpb  r4
        a     r2, r4
        clr   r5
        movb  *r4, r5
        szcb  r6, r5
        ci    r5, >0000
        jeq   nxtsqr
        jmp   done
next:
        c     @>fe8a, @>ffe0
        jeq   sidebit
        inv   r6
        clr   r5
        movb  *r4, r5
        szcb  r6, r5
        movb  r5, *r4
        inv   r6
        jmp   sidebit
done:
        mov   @>fe90, r11
        b     *r11
bitchk:
        clr   r7
        mov   r4, r5
        mov   r5, r6
        srl   r5, 3
        mov   r5, r4
        sla   r5, 3
        jmp   trgchk
nxtbit:
        inc   r5
        inc   r7
trgchk:
        c     r5, r6
        jne   nxtbit
        swpb  r4
        movb  r4, @>fe94
        swpb  r4
        a     r3, r4
        clr   r5
        movb  *r4, r5
        clr   r6
        movb  @>ffe2(r7), r6
        inv   r6
        szcb  r6, r5
        b     *r11
l_edge:
        mov   r11, @>fe90
        clr   r5
        mov   @>fe84, r4
        ci    r4, >0000
        jeq   atedge
        ci    r4, >0008
        jeq   atedge
        ci    r4, >0010
        jeq   atedge
        ci    r4, >0018
        jeq   atedge
        ci    r4, >0020
        jeq   atedge
        ci    r4, >0028
        jeq   atedge
        ci    r4, >0030
        jeq   atedge
        ci    r4, >0038
        jeq   atedge
        jmp   notedge
atedge:
        inc   r5
notedge:
        mov   @>fe90, r11
        b     *r11
r_edge:
        mov   r11, @>fe90
        clr   r5
        mov   @>fe84, r4
        ci    r4, >0007
        jeq   atedge1
        ci    r4, >000f
        jeq   atedge1
        ci    r4, >0017
        jeq   atedge1
        ci    r4, >001f
        jeq   atedge1
        ci    r4, >0027
        jeq   atedge1
        ci    r4, >002f
        jeq   atedge1
        ci    r4, >0037
        jeq   atedge1
        ci    r4, >003f
        jeq   atedge1
        jmp   noedge
atedge1:
        inc   r5
noedge:
        mov   @>fe90, r11
        b     *r11
        b     @__far_ret

        bank 3, >677e

; Subroutine: $bitops_init_30, level: 2

$bitops_init_30:
        ai    r10, >fffa
        mov   r10, r12
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, __l_333
        mov   r1, @>fe96                ;  p
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

; ; Far call vectors
__l_333:
        data  >6006
        data  dummy

        bank 4, >6060

; Subroutine: chainmain_31, level: 2
;   ffdc     -36  __rettmp_48: string [6]
;   ffdc     -36  __rettmp_49: string [11]
;   ffdc     -36  __rettmp_50: string [11]
;   ffdc     -36  __rettmp_51: string [6]
;   ffdc     -36  __rettmp_52: int16
;   ffdc     -36  __rettmp_53: boolean
;   ffdc     -36  __rettmp_54: boolean
;   ffdc     -36  __rettmp_55: boolean
;   ffdc     -36  __rettmp_56: boolean
;   ffdc     -36  __rettmp_57: set of int64
;   fffc      -4  __rettmp_58: boolean
;   ffdc     -36  __rettmp_59: string [11]
;   ffdc     -36  __rettmp_60: boolean
;   ffdc     -36  __rettmp_61: string [6]
;   ffdc     -36  __rettmp_62: boolean
;   ffdc     -36  __rettmp_63: boolean
;   ffdc     -36  __rettmp_64: boolean
;   ffdc     -36  __rettmp_65: boolean
;   ffdc     -36  __rettmp_66: string [10]
;   ffdc     -36  __rettmp_67: int16
;   ffdc     -36  __rettmp_68: int16
;   ffdc     -36  __rettmp_69: string [7]
;   ffdc     -36  __rettmp_70: int16
;   ffdc     -36  __rettmp_71: string [11]
;   ffdc     -36  __rettmp_72: string [11]
;   ffdc     -36  __rettmp_73: string [11]
;   ffdc     -36  __rettmp_74: string [6]
;   ffdc     -36  __rettmp_75: int16
;   fffe      -2  $i: int16

chainmain_31:
        ai    r10, >ffd0
        mov   r10, r12
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0024
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >600c
        data  initgame_36
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6010
        data  boarddisplay_47
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        li    r1, >000a
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_48
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_48
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fd7a, @>0002(r10)       ; gamemove 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        mov   @>fd66, r1                ; gameside
        jne   __l_355
__l_354:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_7
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_49
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_49
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        jmp   __l_356
__l_355:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_8
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_50
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_50
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_356:
        mov   @>fd72, r1                ; cwarning
        ci    r1, >0001
        jne   __l_359
__l_358:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_9
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_51
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_51
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_359:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_52
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ffdc(r9), @>fea6        ; __rettmp_52  ans
__l_337:
        clr   @>fd80                    ;  wlaflag
        clr   @>fd7e                    ;  wraflag
        clr   @>fd84                    ;  blaflag
        clr   @>fd82                    ;  braflag
        clr   @>feae                    ;  cflag
        li    r1, >0078
        mov   r1, @>fd62                ;  datasize
        clr   @>fe9e                    ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdd2                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0f6e
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdd2                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        clr   @>fd90                    ;  movenumlo
        clr   @>fd8e                    ;  movenumhi
        li    r1, >b1e0
        mov   r1, @>fea2                ;  aval
        li    r1, >4e20
        mov   r1, @>fea4                ;  bval
        clr   @>fe9c                    ;  movescore
        clr   r1
        movb  @>8303, @>feb2            ; low R1 humanflag
        clr   @>fe98                    ;  i
        c     @>fd7c, @>fd66            ; humanside gameside 
        jeq   __l_362
        b     @__l_363
__l_362:
        li    r1, >0001
        movb  @>8303, @>feb2            ; low R1 humanflag
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >600a
        data  savemove_35
        ai    r10, >fff2
        mov   @>7ffe, @>000c(r10)
        mov   @>fd66, @>000a(r10)       ; gameside 
        li    r1, >ff3a                 ; lastmove
        mov   r10, r2
        inct  r2
        li    r3, >0008
__l_366:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_366
        li    r1, >ff42                 ; playmove
        mov   r1, *r10
        bl    @__far_call_1
        data  >6014
        data  playermove_52
        c     @>fd7c, @>fd66            ; humanside gameside 
        jeq   __l_368
__l_367:
        li    r1, >0001
        mov   r1, @>fe98                ;  i
__l_368:
        mov   @>fd6a, r1                ; piececount
        ci    r1, >ffff
        jne   __l_372
        b     @__l_621
__l_372:
        mov   @>fe98, r1                ; i
        ci    r1, >0001
        jne   __l_376
        b     @__l_440
__l_376:
        mov   @>fd64, r1                ; turn
        jne   __l_382
__l_383:
        mov   @>fd6e, r1                ; bcastleflag
        jeq   __l_379
__l_382:
        mov   @>fd64, r1                ; turn
        ci    r1, >0001
        jeq   __l_386
        b     @__l_440
__l_386:
        mov   @>fd6c, r1                ; wcastleflag
        jeq   __l_379
        b     @__l_440
__l_379:
        li    r1, >0180
        mov   @>ff46, r2                ; playmove .endsq
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd64, r1                ; turn
        jne   __l_390
__l_389:
        li    r1, >0068
        mov   r1, @>fe9e                ;  offset
        jmp   __l_391
__l_390:
        li    r1, >0070
        mov   r1, @>fe9e                ;  offset
__l_391:
        ai    r10, >ffee
        mov   @>7ffe, @>0010(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>000e(r10)
        li    r1, >ff3a                 ; lastmove
        mov   r10, r2
        ai    r2, >0006
        li    r3, >0008
__l_393:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_393
        mov   @>fe9e, @>0004(r10)       ; offset 
        mov   @>ff46, @>0002(r10)       ; playmove .endsq 
        mov   @>ff42, *r10              ; playmove 
        bl    @__far_call_1
        data  >6010
        data  trim_44
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        mov   @>fd64, r1                ; turn
        jeq   __l_394
        b     @__l_395
__l_394:
        li    r1, >0f46
        mov   r1, @>fe9e                ;  offset
        li    r1, >0f3e
        mov   r1, @>feaa                ;  offset1
        mov   @>fd82, r1                ; braflag
        jne   __l_399
__l_401:
        mov   @>fd8c, r1                ; brookrflag
        jne   __l_399
__l_398:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_53
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffdc(r9), r1            ; __rettmp_53
        jne   __l_399
__l_404:
        li    r1, >0001
        mov   r1, @>fd82                ;  braflag
__l_399:
        mov   @>fd84, r1                ; blaflag
        jne   __l_409
__l_411:
        mov   @>fd8a, r1                ; brooklflag
        jne   __l_409
__l_408:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>feaa, @>0006(r10)       ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_54
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffdc(r9), r1            ; __rettmp_54
        jne   __l_409
__l_414:
        li    r1, >0001
        mov   r1, @>fd84                ;  blaflag
__l_409:
        b     @__l_440
__l_395:
        li    r1, >0f36
        mov   r1, @>fe9e                ;  offset
        li    r1, >0f2e
        mov   r1, @>feaa                ;  offset1
        mov   @>fd7e, r1                ; wraflag
        jne   __l_419
__l_421:
        mov   @>fd88, r1                ; wrookrflag
        jne   __l_419
__l_418:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_55
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffdc(r9), r1            ; __rettmp_55
        jne   __l_419
__l_424:
        li    r1, >0001
        mov   r1, @>fd7e                ;  wraflag
__l_419:
        mov   @>fd80, r1                ; wlaflag
        jne   __l_380
__l_431:
        mov   @>fd86, r1                ; wrooklflag
        jne   __l_380
__l_428:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>feaa, @>0006(r10)       ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_56
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffdc(r9), r1            ; __rettmp_56
        jne   __l_380
__l_434:
        li    r1, >0001
        mov   r1, @>fd80                ;  wlaflag
__l_380:
        b     @__l_440
__l_363:
        mov   @>fd7a, r1                ; gamemove
        ci    r1, >0001
        jeq   __l_438
        b     @__l_439
__l_438:
        clr   @>fe9c                    ;  movescore
        li    r1, >0002
        mov   r1, @>fe98                ;  i
        mov   @>fd66, r1                ; gameside
        jne   __l_443
__l_442:
        mov   @>fe98, r1                ; i
        dec   r1
; no-opt
        ci    r1, >0002
        jle   __l_448
        b     @__l_440
__l_448:
        sla   r1, 1
        ai    r1, __l_449
        mov   *r1, r1
        b     *r1
__c_338:
        clr   @>ff42                    ;  playmove
        li    r1, >000c
        mov   r1, @>ff44                ;  playmove .startsq
        li    r1, >001c
        mov   r1, @>ff46                ;  playmove .endsq
        b     @__l_440
__c_339:
        clr   @>ff42                    ;  playmove
        li    r1, >000b
        mov   r1, @>ff44                ;  playmove .startsq
        li    r1, >001b
        mov   r1, @>ff46                ;  playmove .endsq
        b     @__l_440
__c_340:
        li    r1, >0010
        mov   r1, @>ff42                ;  playmove
        li    r1, >0006
        mov   r1, @>ff44                ;  playmove .startsq
        li    r1, >0015
        mov   r1, @>ff46                ;  playmove .endsq
        b     @__l_440
__l_443:
        mov   @>ff3e, r1                ; lastmove .endsq
        ai    r1, >fff5
; no-opt
        ci    r1, >000a
        jle   __l_452
        jmp   __l_450
__l_452:
        sla   r1, 1
        ai    r1, __l_453
        mov   *r1, r1
        b     *r1
__c_341:
        clr   @>ff42                    ;  playmove
        mov   @>fe98, r1                ; i
        dec   r1
; no-opt
        ci    r1, >0002
        jle   __l_456
        jmp   __l_450
__l_456:
        sla   r1, 1
        ai    r1, __l_457
        mov   *r1, r1
        b     *r1
__c_342:
        li    r1, >0034
        mov   r1, @>ff44                ;  playmove .startsq
        li    r1, >002c
        mov   r1, @>ff46                ;  playmove .endsq
        jmp   __l_450
__c_343:
        li    r1, >0033
        mov   r1, @>ff44                ;  playmove .startsq
        li    r1, >002b
        mov   r1, @>ff46                ;  playmove .endsq
        jmp   __l_450
__c_344:
        li    r1, >0033
        mov   r1, @>ff44                ;  playmove .startsq
        li    r1, >0023
        mov   r1, @>ff46                ;  playmove .endsq
        jmp   __l_450
__c_345:
        mov   @>fe98, r1                ; i
        dec   r1
; no-opt
        ci    r1, >0002
        jle   __l_460
        jmp   __l_450
__l_460:
        sla   r1, 1
        ai    r1, __l_461
        mov   *r1, r1
        b     *r1
__c_346:
        clr   @>ff42                    ;  playmove
        li    r1, >0033
        mov   r1, @>ff44                ;  playmove .startsq
        li    r1, >0023
        mov   r1, @>ff46                ;  playmove .endsq
        jmp   __l_450
__c_347:
        li    r1, >0010
        mov   r1, @>ff42                ;  playmove
        li    r1, >003e
        mov   r1, @>ff44                ;  playmove .startsq
        li    r1, >002d
        mov   r1, @>ff46                ;  playmove .endsq
        jmp   __l_450
__c_348:
        clr   @>ff42                    ;  playmove
        li    r1, >0032
        mov   r1, @>ff44                ;  playmove .startsq
        li    r1, >0022
        mov   r1, @>ff46                ;  playmove .endsq
__l_450:
        mov   @>ff3e, r1                ; lastmove .endsq
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_466
        sla   r14, 0
__l_466:
        sra   r1, 3
        li    r2, __set_cnst_10
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_467
        inc   r1
__l_467:
        ci    r1, >0000
        jne   __l_440
__l_462:
        clr   @>ff42                    ;  playmove
        li    r1, >0033
        mov   r1, @>ff44                ;  playmove .startsq
        li    r1, >0023
        mov   r1, @>ff46                ;  playmove .endsq
        jmp   __l_440
__l_439:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0007
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_11
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_59
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_59
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >ffec
        mov   @>7ffe, @>0012(r10)
        mov   @>feae, @>0010(r10)       ; cflag 
        mov   @>fea4, @>000e(r10)       ; bval 
        mov   @>fea2, @>000c(r10)       ; aval 
        li    r1, >fe9c                 ; movescore
        mov   r1, @>000a(r10)
        li    r1, >ff42                 ; playmove
        mov   r1, @>0008(r10)
        li    r1, >ff3a                 ; lastmove
        mov   r10, r2
        li    r3, >0008
__l_468:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_468
        bl    @__far_call_1
        data  >600c
        data  movegen_38
__l_440:
        li    r1, >0016
        mov   r1, @>fd60                ;  spage
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        li    r1, >0380
        a     @>fd68, r1                ; gamepointer 
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >ff42                 ; playmove
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd60, @>0002(r10)       ; spage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd68, r1                ; gamepointer
        ai    r1, >0008
        mov   r1, @>fd68                ;  gamepointer
        li    r1, >0063
        mov   r1, @>ff4a                ;  movestore
        mov   @>fe9e, r1                ; offset
        ai    r1, >0008
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >ff4a                 ; movestore
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd60, @>0002(r10)       ; spage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fe98, r1                ; i
        ci    r1, >0001
        jne   __l_470
        b     @__l_337
__l_470:
        li    r1, >ff42                 ; playmove
        li    r2, >ff3a                 ; lastmove
        li    r3, >0008
__l_473:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_473
        movb  @>feb2, r1                ; humanflag
        jeq   __l_475
__l_474:
        li    r1, >0001
        mov   r1, @>fd60                ;  spage
        jmp   __l_476
__l_475:
        clr   @>fd60                    ;  spage
__l_476:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff42                 ; playmove
        mov   r1, *r10
        bl    @__far_call_1
        data  >600a
        data  updatemove_32
        mov   @>fd6c, r1                ; wcastleflag
        jne   __l_479
__l_481:
        mov   @>fd66, r1                ; gameside
        jne   __l_479
__l_478:
        mov   @>ff42, r1                ; playmove
        ci    r1, >0028
        jne   __l_485
__l_484:
        li    r1, >0001
        mov   r1, @>fd6c                ;  wcastleflag
__l_485:
        mov   @>ff42, r1                ; playmove
        ci    r1, >0008
        jne   __l_479
__l_488:
        mov   @>ff44, r1                ; playmove .startsq
        jne   __l_493
__l_492:
        li    r1, >0001
        mov   r1, @>fd86                ;  wrooklflag
__l_493:
        mov   @>ff44, r1                ; playmove .startsq
        ci    r1, >0007
        jne   __l_479
__l_496:
        li    r1, >0001
        mov   r1, @>fd88                ;  wrookrflag
__l_479:
        mov   @>fd6e, r1                ; bcastleflag
        jne   __l_501
__l_503:
        mov   @>fd66, r1                ; gameside
        ci    r1, >0001
        jne   __l_501
__l_500:
        mov   @>ff42, r1                ; playmove
        ci    r1, >0028
        jne   __l_507
__l_506:
        li    r1, >0001
        mov   r1, @>fd6e                ;  bcastleflag
__l_507:
        mov   @>ff42, r1                ; playmove
        ci    r1, >0008
        jne   __l_501
__l_510:
        mov   @>ff44, r1                ; playmove .startsq
        ci    r1, >0038
        jne   __l_515
__l_514:
        li    r1, >0001
        mov   r1, @>fd8a                ;  brooklflag
__l_515:
        mov   @>ff44, r1                ; playmove .startsq
        ci    r1, >003f
        jne   __l_501
__l_518:
        li    r1, >0001
        mov   r1, @>fd8c                ;  brookrflag
__l_501:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6010
        data  boarddisplay_47
        ai    r10, >fff2
        mov   @>7ffe, @>000c(r10)
        li    r1, >ff3a                 ; lastmove
        mov   r10, r2
        ai    r2, >0004
        li    r3, >0008
__l_522:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_522
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6010
        data  combinetrim_45
        clr   r1
        movb  @>8303, @>feb4            ; low R1 checkflag
        clr   @>fd72                    ;  cwarning
        mov   @>fd66, r1                ; gameside
        jne   __l_524
__l_523:
        li    r1, >0058
        mov   r1, @>fe9e                ;  offset
        jmp   __l_525
__l_524:
        li    r1, >0028
        mov   r1, @>fe9e                ;  offset
__l_525:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd66, r1                ; gameside
        jne   __l_528
__l_527:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        jmp   __l_529
__l_528:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
__l_529:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_60
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffdc(r9), r1            ; __rettmp_60
        jne   __l_532
__l_531:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_9
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_61
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_61
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        li    r1, >0001
        movb  @>8303, @>feb4            ; low R1 checkflag
        li    r1, >0001
        mov   r1, @>fd72                ;  cwarning
__l_532:
        clr   r1
        movb  @>8303, @>feb3            ; low R1 cmflag
        movb  @>feb4, r1                ; checkflag
        jne   __l_535
        b     @__l_536
__l_535:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >600a
        data  saveboards_33
        mov   @>fd66, r1                ; gameside
        jne   __l_540
__l_539:
        li    r1, >0001
        mov   r1, @>fd64                ;  turn
        li    r1, >0058
        mov   r1, @>fe9e                ;  offset
        li    r1, >0068
        mov   r1, @>feaa                ;  offset1
        li    r1, >0070
        mov   r1, @>fea8                ;  sideoffset
        jmp   __l_541
__l_540:
        clr   @>fd64                    ;  turn
        li    r1, >0028
        mov   r1, @>fe9e                ;  offset
        li    r1, >0070
        mov   r1, @>feaa                ;  offset1
        li    r1, >0068
        mov   r1, @>fea8                ;  sideoffset
__l_541:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >feb8                 ; movearray
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitpos
        ai    r10, >ffee
        mov   @>7ffe, @>0010(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>000e(r10)
        li    r1, >ff3a                 ; lastmove
        mov   r10, r2
        ai    r2, >0006
        li    r3, >0008
__l_543:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_543
        mov   @>fea8, @>0004(r10)       ; sideoffset 
        mov   @>feba, @>0002(r10)       ; movearray  
        li    r1, >0028
        mov   r1, *r10
        bl    @__far_call_1
        data  >6010
        data  trim_44
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_62
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffdc(r9), r1            ; __rettmp_62
        jeq   __l_544
        b     @__l_545
__l_544:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >feb8                 ; movearray
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitpos
        li    r1, >0001
        mov   r1, @>fe98                ;  i
        mov   @>feb8, @>fffe(r9)        ; movearray  $i
        c     @>fe98, @>fffe(r9)        ; i $i 
        jlt   __l_351
        jeq   __l_351
        b     @__l_545
__l_350:
        inc   @>fe98                    ; i
__l_351:
        li    r1, >0180
        li    r2, >feb8                 ; movearray
        mov   @>fe98, r3                ; i
        sla   r3, 1
        a     r3, r2
        mov   *r2, r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd66, r1                ; gameside
        jne   __l_551
__l_550:
        li    r1, >0058
        mov   r1, @>fe9e                ;  offset
        jmp   __l_552
__l_551:
        li    r1, >0028
        mov   r1, @>fe9e                ;  offset
__l_552:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0060
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>feaa, @>0006(r10)       ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>feaa, @>0006(r10)       ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        clr   @>fe9a                    ;  j
        mov   @>fd66, r1                ; gameside
        jne   __l_555
__l_554:
        clr   @>fe9e                    ;  offset
        jmp   __l_556
__l_555:
        li    r1, >0030
        mov   r1, @>fe9e                ;  offset
__l_556:
        mov   @>fe9e, r1                ; offset
        a     @>fe9a, r1                ; j 
        mov   r1, @>feac                ;  offset2
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>feac, @>0006(r10)       ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>feac, @>0006(r10)       ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fe9a, r1                ; j
        ai    r1, >0008
        mov   r1, @>fe9a                ;  j
        ci    r1, >0020
        jlt   __l_556
        jeq   __l_556
__l_558:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fea8, @>0006(r10)       ; sideoffset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fea8, @>0006(r10)       ; sideoffset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >fd9a                 ; bit2
        li    r2, >ff5a                 ; bit8
        li    r3, >0008
__l_560:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_560
        ai    r10, >fff2
        mov   @>7ffe, @>000c(r10)
        li    r1, >ff3a                 ; lastmove
        mov   r10, r2
        ai    r2, >0004
        li    r3, >0008
__l_561:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_561
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6010
        data  combinetrim_45
        mov   @>fd66, r1                ; gameside
        jne   __l_563
__l_562:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >ff5a                 ; bit8
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        jmp   __l_564
__l_563:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >ff5a                 ; bit8
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
__l_564:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_63
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffdc(r9), r1            ; __rettmp_63
        jeq   __l_567
        b     @__l_602
__l_567:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >600a
        data  getboards_34
        c     @>fe98, @>fffe(r9)        ; i $i 
        jeq   __l_545
        b     @__l_350
__l_545:
        mov   @>fd66, r1                ; gameside
        jne   __l_573
__l_572:
        li    r1, >0058
        mov   r1, @>fe9e                ;  offset
        jmp   __l_574
__l_573:
        li    r1, >0028
        mov   r1, @>fe9e                ;  offset
__l_574:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  clearbitboard_7
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fea8, @>0006(r10)       ; sideoffset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fea8, @>0006(r10)       ; sideoffset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0060
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff2
        mov   @>7ffe, @>000c(r10)
        li    r1, >ff3a                 ; lastmove
        mov   r10, r2
        ai    r2, >0004
        li    r3, >0008
__l_576:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_576
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6010
        data  combinetrim_45
        mov   @>fd66, r1                ; gameside
        jne   __l_578
__l_577:
        li    r1, >fdb2                 ; bit5
        li    r2, >ff5a                 ; bit8
        li    r3, >0008
__l_581:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_581
        jmp   __l_579
__l_578:
        li    r1, >fda2                 ; bit3
        li    r2, >ff5a                 ; bit8
        li    r3, >0008
__l_582:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_582
__l_579:
        li    r1, >0180
        mov   @>ff46, r2                ; playmove .endsq
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >ff5a                 ; bit8
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_64
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffdc(r9), r1            ; __rettmp_64
        jne   __l_584
__l_583:
        b     @__l_602
__l_584:
        mov   @>fd66, r1                ; gameside
        jne   __l_588
__l_587:
        li    r1, >0068
        mov   r1, @>fea8                ;  sideoffset
        clr   @>fd64                    ;  turn
        jmp   __l_589
__l_588:
        li    r1, >0070
        mov   r1, @>fea8                ;  sideoffset
        li    r1, >0001
        mov   r1, @>fd64                ;  turn
__l_589:
        ai    r10, >ffee
        mov   @>7ffe, @>0010(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>000e(r10)
        li    r1, >ff3a                 ; lastmove
        mov   r10, r2
        ai    r2, >0006
        li    r3, >0008
__l_591:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_591
        mov   @>fea8, @>0004(r10)       ; sideoffset 
        mov   @>ff46, @>0002(r10)       ; playmove .endsq 
        mov   @>ff42, *r10              ; playmove 
        bl    @__far_call_1
        data  >6010
        data  trim_44
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >ff5a                 ; bit8
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        li    r1, >0060
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd66, r1                ; gameside
        jne   __l_593
__l_592:
        li    r1, >0070
        mov   r1, @>fe9e                ;  offset
        jmp   __l_594
__l_593:
        li    r1, >0068
        mov   r1, @>fe9e                ;  offset
__l_594:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd66, r1                ; gameside
        jne   __l_597
__l_596:
        li    r1, >0068
        mov   r1, @>fea8                ;  sideoffset
        li    r1, >0058
        mov   r1, @>fe9e                ;  offset
        jmp   __l_598
__l_597:
        li    r1, >0070
        mov   r1, @>fea8                ;  sideoffset
        li    r1, >0028
        mov   r1, @>fe9e                ;  offset
__l_598:
        ai    r10, >ffee
        mov   @>7ffe, @>0010(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>000e(r10)
        li    r1, >ff3a                 ; lastmove
        mov   r10, r2
        ai    r2, >0006
        li    r3, >0008
__l_600:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_600
        mov   @>fea8, @>0004(r10)       ; sideoffset 
        mov   @>ff46, @>0002(r10)       ; playmove .endsq 
        mov   @>ff42, *r10              ; playmove 
        bl    @__far_call_1
        data  >6010
        data  trim_44
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >600a
        data  getboards_34
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_65
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffdc(r9), r1            ; __rettmp_65
        jne   __l_602
__l_601:
        li    r1, >0001
        movb  @>8303, @>feb3            ; low R1 cmflag
__l_602:
        movb  @>feb3, r1                ; cmflag
        jne   __l_605
        b     @__l_606
__l_605:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_12
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_66
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_66
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_67
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ffdc(r9), @>fea6        ; __rettmp_67  ans
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff62                 ; input
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_lf_75
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >fe98                 ; i
        mov   r1, *r10
        bl    @__far_call_1
        data  >6016
        data  utility_53
        b     @__l_621
__l_606:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >600a
        data  getboards_34
        b     @__l_610
__l_536:
        mov   @>fe9c, r1                ; movescore
        abs   r1
        ci    r1, >4e20
        jeq   __l_609
        b     @__l_610
__l_609:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_13
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_69
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_69
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_70
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ffdc(r9), @>fea6        ; __rettmp_70  ans
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff62                 ; input
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_lf_75
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >fe98                 ; i
        mov   r1, *r10
        bl    @__far_call_1
        data  >6016
        data  utility_53
        b     @__l_621
__l_610:
        movb  @>feb2, r1                ; humanflag
        jeq   __l_614
__l_613:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0007
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_11
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_71
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_71
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_614:
        mov   @>fd66, r1                ; gameside
        jne   __l_618
__l_617:
        li    r1, >0001
        mov   r1, @>fd66                ;  gameside
        mov   r1, @>fd64                ;  turn
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0002
        mov   r1, @>0002(r10)
        clr   *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_8
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_72
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_72
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        jmp   __l_619
__l_618:
        clr   @>fd66                    ;  gameside
        clr   @>fd64                    ;  turn
        mov   @>fd7a, r1                ; gamemove
        inc   r1
        mov   r1, @>fd7a                ;  gamemove
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0002
        mov   r1, @>0002(r10)
        clr   *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_7
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_73
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_73
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_619:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >600c
        data  check3rep_37
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        li    r1, >000a
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_74
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_74
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fd7a, @>0002(r10)       ; gamemove 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        movb  @>feb2, @>0006(r10)       ; humanflag 
        mov   @>ff46, @>0004(r10)       ; playmove .endsq 
        mov   @>ff44, @>0002(r10)       ; playmove .startsq 
        mov   @>fe9c, *r10              ; movescore 
        bl    @__far_call_1
        data  >6012
        data  movecoord_49
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffdc                 ; __rettmp_75
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ffdc(r9), @>fea6        ; __rettmp_75  ans
        mov   @>fd74, @>fd70            ; gameply  ply
l_2_336:
        b     @__l_337
__l_621:
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret
; jump tables for case statements
__l_449:
        data  __c_338
        data  __c_339
        data  __c_340
__l_453:
        data  __c_345
        data  __c_341
        data  __l_450
        data  __l_450
        data  __l_450
        data  __l_450
        data  __l_450
        data  __l_450
        data  __l_450
        data  __l_450
        data  __c_345
__l_457:
        data  __c_342
        data  __c_343
        data  __c_344
__l_461:
        data  __c_346
        data  __c_347
        data  __c_348

__str_cnst_6 text >066d6f76653a20    ; move: 
__str_cnst_7 text >0b7475726e3a207768697465    ; turn: white
__str_cnst_8 text >0b7475726e3a20626c61636b    ; turn: black
__str_cnst_9 text >06636865636b21    ; check!
__str_cnst_11 text >0b7468696e6b696e672e2e2e    ; thinking...
__str_cnst_12 text >0a636865636b6d61746521    ; checkmate!
__str_cnst_13 text >0772657369676e21    ; resign!
        even 

; ; Set Constants
__set_cnst_10:
        text >1800002000000000000000000000000000000000000000000000000000000000

        bank 5, >6060

; Subroutine: updatemove_32, level: 2
;   ffa8     -88  __rettmp_10: int16
;   ffa8     -88  __rettmp_11: set of int64
;   ffc8     -56  __rettmp_12: boolean
;   ffd0     -48  __rettmp_13: set of int64
;   fff0     -16  __rettmp_14: boolean
;   ffa8     -88  __rettmp_15: boolean
;   ffa8     -88  __rettmp_16: int16
;   ffb0     -80  __rettmp_17: set of int64
;   ffd0     -48  __rettmp_18: boolean
;   ffa8     -88  __rettmp_19: int16
;   ffa8     -88  __rettmp_20: string [15]
;   ffa8     -88  __rettmp_21: string [7]
;   ffa8     -88  __rettmp_22: string [9]
;   ffa8     -88  __rettmp_23: string [9]
;   ffa8     -88  __rettmp_24: string [8]
;   ffa8     -88  __rettmp_25: int16
;   ffa8     -88  __rettmp_26: set of int64
;   ffc8     -56  __rettmp_27: boolean
;   0004       4  var playmove: reference to record
;   fff2     -14  offset1: int16
;   fff4     -12  offset2: int16
;   fff6     -10  offset3: int16
;   fff8      -8  offset4: int16
;   fffa      -6  qcastleflag: int16
;   fffc      -4  kcastleflag: int16
;   fffe      -2  ans: int16

updatemove_32:
        ai    r10, >ff9c
        mov   r10, r12
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0058
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        clr   @>fffa(r9)                ; qcastleflag
        clr   @>fffc(r9)                ; kcastleflag
        mov   @>fd66, r1                ; gameside
        jne   __l_628
__l_629:
        mov   @>fd6c, r1                ; wcastleflag
        jeq   __l_625
__l_628:
        mov   @>fd66, r1                ; gameside
        ci    r1, >0001
        jne   __l_626
__l_632:
        mov   @>fd6e, r1                ; bcastleflag
        jne   __l_626
__l_625:
        mov   @>0004(r9), r1            ; playmove
        mov   *r1, r1
        ci    r1, >0028
        jne   __l_626
__l_638:
        mov   @>0004(r9), r1            ; playmove
        mov   @>0002(r1), r1
        mov   @>0004(r9), r2            ; playmove
        s     @>0004(r2), r1            ;  
        abs   r1
        ci    r1, >0002
        jne   __l_626
__l_635:
        mov   @>0004(r9), r1            ; playmove
        mov   @>0002(r1), r1
        mov   @>0004(r9), r2            ; playmove
        s     @>0004(r2), r1            ;  
        ci    r1, >0000
        jlt   __l_642
        jeq   __l_642
__l_641:
        li    r1, >0001
        mov   r1, @>fffa(r9)            ; qcastleflag
        jmp   __l_626
__l_642:
        li    r1, >0001
        mov   r1, @>fffc(r9)            ; kcastleflag
__l_626:
        mov   @>fd66, r1                ; gameside
        jne   __l_646
__l_649:
        mov   @>fd6c, r1                ; wcastleflag
        jne   __l_646
__l_648:
        mov   @>0004(r9), r1            ; playmove
        mov   *r1, r1
        ci    r1, >0008
        jne   __l_646
__l_645:
        mov   @>0004(r9), r1            ; playmove
        mov   @>0002(r1), r1
        jne   __l_654
__l_656:
        mov   @>fffa(r9), r1            ; qcastleflag
        jne   __l_654
__l_653:
        li    r1, >0001
        mov   r1, @>fd86                ;  wrooklflag
        jmp   __l_666
__l_654:
        mov   @>0004(r9), r1            ; playmove
        mov   @>0002(r1), r1
        ci    r1, >0007
        jne   __l_666
__l_662:
        mov   @>fffc(r9), r1            ; kcastleflag
        jne   __l_666
__l_659:
        li    r1, >0001
        mov   r1, @>fd88                ;  wrookrflag
        jmp   __l_666
__l_646:
        mov   @>fd66, r1                ; gameside
        ci    r1, >0001
        jne   __l_666
__l_669:
        mov   @>fd6e, r1                ; bcastleflag
        jne   __l_666
__l_668:
        mov   @>0004(r9), r1            ; playmove
        mov   *r1, r1
        ci    r1, >0008
        jne   __l_666
__l_665:
        mov   @>0004(r9), r1            ; playmove
        mov   @>0002(r1), r1
        ci    r1, >003a
        jne   __l_674
__l_676:
        mov   @>fffa(r9), r1            ; qcastleflag
        jne   __l_674
__l_673:
        li    r1, >0001
        mov   r1, @>fd8a                ;  brooklflag
        jmp   __l_666
__l_674:
        mov   @>0004(r9), r1            ; playmove
        mov   @>0002(r1), r1
        ci    r1, >003f
        jne   __l_666
__l_682:
        mov   @>fffc(r9), r1            ; kcastleflag
        jne   __l_666
__l_679:
        li    r1, >0001
        mov   r1, @>fd8c                ;  brookrflag
__l_666:
        clr   r1
        movb  @>8303, @>feb5            ; low R1 promflag
        mov   @>0004(r9), r1            ; playmove
        mov   *r1, r1
        jeq   __l_688
        b     @__l_686
__l_688:
        mov   @>0004(r9), r1            ; playmove
        mov   @>0004(r1), r1
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_692
        sla   r14, 0
__l_692:
        sra   r1, 3
        li    r2, __set_cnst_14
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_693
        inc   r1
__l_693:
        ci    r1, >0000
        jne   __l_685
__l_690:
        mov   @>0004(r9), r1            ; playmove
        mov   @>0004(r1), r1
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_695
        sla   r14, 0
__l_695:
        sra   r1, 3
        li    r2, __set_cnst_15
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_696
        inc   r1
__l_696:
        ci    r1, >0000
        jne   __l_685
        b     @__l_686
__l_685:
        li    r1, >0001
        movb  @>8303, @>feb5            ; low R1 promflag
        mov   @>fd64, r1                ; turn
        jne   __l_698
__l_697:
        clr   @>fe9e                    ;  offset
        jmp   __l_699
__l_698:
        li    r1, >0030
        mov   r1, @>fe9e                ;  offset
__l_699:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0180
        mov   @>0004(r9), r2            ; playmove
        mov   @>0004(r2), r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fff2(r9)            ; offset1
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
__l_686:
        li    r1, >0180
        mov   @>0004(r9), r2            ; playmove
        mov   @>0002(r2), r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0060
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd66, r1                ; gameside
        jne   __l_702
__l_701:
        clr   r1
        mov   @>0004(r9), r2            ; playmove
        a     *r2, r1                   ;  
        mov   r1, @>fe9e                ;  offset
        li    r1, >0068
        mov   r1, @>fff2(r9)            ; offset1
        li    r1, >0070
        mov   r1, @>fff8(r9)            ; offset4
        mov   @>fffa(r9), r1            ; qcastleflag
        ci    r1, >0001
        jne   __l_706
__l_705:
        li    r1, >0001
        mov   r1, @>fd6c                ;  wcastleflag
        li    r1, >0180
        mov   r1, @>fff4(r9)            ; offset2
        li    r1, >0008
        mov   r1, @>fff6(r9)            ; offset3
        jmp   __l_718
__l_706:
        mov   @>fffc(r9), r1            ; kcastleflag
        ci    r1, >0001
        jne   __l_718
__l_709:
        li    r1, >0001
        mov   r1, @>fd6c                ;  wcastleflag
        li    r1, >01b8
        mov   r1, @>fff4(r9)            ; offset2
        li    r1, >0008
        mov   r1, @>fff6(r9)            ; offset3
        jmp   __l_718
__l_702:
        li    r1, >0030
        mov   @>0004(r9), r2            ; playmove
        a     *r2, r1                   ;  
        mov   r1, @>fe9e                ;  offset
        li    r1, >0070
        mov   r1, @>fff2(r9)            ; offset1
        li    r1, >0068
        mov   r1, @>fff8(r9)            ; offset4
        mov   @>fffa(r9), r1            ; qcastleflag
        ci    r1, >0001
        jne   __l_714
__l_713:
        li    r1, >0001
        mov   r1, @>fd6e                ;  bcastleflag
        li    r1, >0340
        mov   r1, @>fff4(r9)            ; offset2
        li    r1, >0038
        mov   r1, @>fff6(r9)            ; offset3
        jmp   __l_718
__l_714:
        mov   @>fffc(r9), r1            ; kcastleflag
        ci    r1, >0001
        jne   __l_718
__l_717:
        li    r1, >0001
        mov   r1, @>fd6e                ;  bcastleflag
        li    r1, >0378
        mov   r1, @>fff4(r9)            ; offset2
        li    r1, >0038
        mov   r1, @>fff6(r9)            ; offset3
__l_718:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fffc(r9), r1            ; kcastleflag
        ci    r1, >0001
        jeq   __l_721
__l_724:
        mov   @>fffa(r9), r1            ; qcastleflag
        ci    r1, >0001
        jeq   __l_721
        b     @__l_722
__l_721:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fff4(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff6(r9), @>0006(r10)   ; offset3 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff6(r9), @>0006(r10)   ; offset3 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0060
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
__l_722:
        li    r1, >0180
        mov   @>0004(r9), r2            ; playmove
        mov   @>0004(r2), r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >fd92                 ; bit1
        li    r2, >fda2                 ; bit3
        li    r3, >0008
__l_727:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_727
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        mov   @>fd66, r1                ; gameside
        jne   __l_729
__l_728:
        li    r1, >0030
        mov   r1, @>fe9e                ;  offset
        jmp   __l_730
__l_729:
        clr   @>fe9e                    ;  offset
__l_730:
        clr   @>fe98                    ;  i
        clr   @>fea0                    ;  found
__l_622:
        mov   @>fe9e, r1                ; offset
        a     @>fe98, r1                ; i 
        mov   r1, @>fff2(r9)            ; offset1
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdca                 ; bitres
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdca                 ; bitres
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffa8                 ; __rettmp_15
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffa8(r9), r1            ; __rettmp_15
        jne   __l_733
__l_732:
        li    r1, >0001
        mov   r1, @>fea0                ;  found
        mov   @>fd6c, r1                ; wcastleflag
        jne   __l_737
__l_739:
        mov   @>fff2(r9), r1            ; offset1
        ci    r1, >0008
        jne   __l_737
__l_736:
        mov   @>0004(r9), r1            ; playmove
        mov   @>0004(r1), r1
        jne   __l_743
__l_742:
        li    r1, >0001
        mov   r1, @>fd86                ;  wrooklflag
__l_743:
        mov   @>0004(r9), r1            ; playmove
        mov   @>0004(r1), r1
        ci    r1, >0007
        jne   __l_737
__l_746:
        li    r1, >0001
        mov   r1, @>fd88                ;  wrookrflag
__l_737:
        mov   @>fd6e, r1                ; bcastleflag
        jne   __l_733
__l_753:
        mov   @>fff2(r9), r1            ; offset1
        ci    r1, >0038
        jne   __l_733
__l_750:
        mov   @>0004(r9), r1            ; playmove
        mov   @>0004(r1), r1
        ci    r1, >0038
        jne   __l_757
__l_756:
        li    r1, >0001
        mov   r1, @>fd8a                ;  brooklflag
__l_757:
        mov   @>0004(r9), r1            ; playmove
        mov   @>0004(r1), r1
        ci    r1, >003f
        jne   __l_733
__l_760:
        li    r1, >0001
        mov   r1, @>fd8c                ;  brookrflag
__l_733:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fe98, r1                ; i
        ai    r1, >0008
        mov   r1, @>fe98                ;  i
        ci    r1, >0028
        jgt   __l_764
        b     @__l_622
__l_764:
        mov   @>fea0, r1                ; found
        jeq   __l_769
        b     @__l_767
__l_769:
        mov   @>0004(r9), r1            ; playmove
        mov   *r1, r1
        jeq   __l_766
        b     @__l_767
__l_766:
        mov   @>0004(r9), r1            ; playmove
        mov   @>0002(r1), r1
        mov   @>0004(r9), r2            ; playmove
        s     @>0004(r2), r1            ;  
        abs   r1
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_776
        sla   r14, 0
__l_776:
        sra   r1, 3
        li    r2, __set_cnst_16
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_777
        inc   r1
__l_777:
        ci    r1, >0000
        jne   __l_772
        b     @__l_767
__l_772:
        mov   @>fd66, r1                ; gameside
        jne   __l_779
__l_778:
        li    r1, >0180
        mov   @>0004(r9), r2            ; playmove
        mov   @>0004(r2), r2
        li    r3, >0008
        s     r3, r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fff2(r9)            ; offset1
        jmp   __l_780
__l_779:
        li    r1, >0180
        mov   @>0004(r9), r2            ; playmove
        mov   @>0004(r2), r2
        ai    r2, >0008
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fff2(r9)            ; offset1
__l_780:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0060
        mov   r1, @>fff2(r9)            ; offset1
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd66, r1                ; gameside
        jne   __l_783
__l_782:
        li    r1, >0070
        mov   r1, @>fff2(r9)            ; offset1
        jmp   __l_784
__l_783:
        li    r1, >0068
        mov   r1, @>fff2(r9)            ; offset1
__l_784:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
__l_767:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset4 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset4 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        movb  @>feb5, r1                ; promflag
        jne   __l_789
        b     @__l_787
__l_789:
        mov   @>fd60, r1                ; spage
        ci    r1, >0001
        jeq   __l_786
        b     @__l_787
__l_786:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffa8                 ; __rettmp_19
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ffa8(r9), @>fffe(r9)    ; __rettmp_19 ans
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0008
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_17
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffa8                 ; __rettmp_20
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffa8                 ; __rettmp_20
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0009
        mov   r1, @>0002(r10)
        li    r1, >0016
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_18
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffa8                 ; __rettmp_21
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffa8                 ; __rettmp_21
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000a
        mov   r1, @>0002(r10)
        li    r1, >0016
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_19
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffa8                 ; __rettmp_22
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffa8                 ; __rettmp_22
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000b
        mov   r1, @>0002(r10)
        li    r1, >0016
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_20
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffa8                 ; __rettmp_23
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffa8                 ; __rettmp_23
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000c
        mov   r1, @>0002(r10)
        li    r1, >0016
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_21
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffa8                 ; __rettmp_24
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffa8                 ; __rettmp_24
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
__l_623:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffa8                 ; __rettmp_25
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ffa8(r9), @>fffe(r9)    ; __rettmp_25 ans
        mov   @>fffe(r9), r1            ; ans
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_794
        sla   r14, 0
__l_794:
        sra   r1, 3
        li    r2, __set_cnst_22
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_795
        inc   r1
__l_795:
        ci    r1, >0000
        jeq   __l_623
__l_792:
        mov   @>fffe(r9), r1            ; ans
        li    r2, >0030
        s     r2, r1
        li    r2, >0008
        mpy   r1, r2
        mov   r3, r1
        mov   @>0004(r9), r2            ; playmove
        mov   r1, *r2
        jmp   __l_797
__l_787:
        movb  @>feb5, r1                ; promflag
        jeq   __l_797
__l_799:
        mov   @>fd60, r1                ; spage
        jne   __l_797
__l_796:
        li    r1, >0020
        mov   @>0004(r9), r2            ; playmove
        mov   r1, *r2
__l_797:
        li    r1, >0180
        mov   @>0004(r9), r2            ; playmove
        mov   @>0004(r2), r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0060
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd66, r1                ; gameside
        jne   __l_803
__l_802:
        clr   r1
        mov   @>0004(r9), r2            ; playmove
        a     *r2, r1                   ;  
        mov   r1, @>fe9e                ;  offset
        li    r1, >0068
        mov   r1, @>fff2(r9)            ; offset1
        mov   @>fffa(r9), r1            ; qcastleflag
        ci    r1, >0001
        jne   __l_807
__l_806:
        li    r1, >0198
        mov   r1, @>fff4(r9)            ; offset2
__l_807:
        mov   @>fffc(r9), r1            ; kcastleflag
        ci    r1, >0001
        jne   __l_819
__l_810:
        li    r1, >01a8
        mov   r1, @>fff4(r9)            ; offset2
        jmp   __l_819
__l_803:
        li    r1, >0030
        mov   @>0004(r9), r2            ; playmove
        a     *r2, r1                   ;  
        mov   r1, @>fe9e                ;  offset
        li    r1, >0070
        mov   r1, @>fff2(r9)            ; offset1
        mov   @>fffa(r9), r1            ; qcastleflag
        ci    r1, >0001
        jne   __l_815
__l_814:
        li    r1, >0358
        mov   r1, @>fff4(r9)            ; offset2
__l_815:
        mov   @>fffc(r9), r1            ; kcastleflag
        ci    r1, >0001
        jne   __l_819
__l_818:
        li    r1, >0368
        mov   r1, @>fff4(r9)            ; offset2
__l_819:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fffa(r9), r1            ; qcastleflag
        ci    r1, >0001
        jeq   __l_822
__l_825:
        mov   @>fffc(r9), r1            ; kcastleflag
        ci    r1, >0001
        jeq   __l_822
        b     @__l_823
__l_822:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fff4(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff6(r9), @>0006(r10)   ; offset3 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff6(r9), @>0006(r10)   ; offset3 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff2(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0060
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
__l_823:
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

__str_cnst_17 text >0f70726f6d6f7465207061776e20746f    ; promote pawn to
__str_cnst_18 text >07312d20726f6f6b    ; 1- rook
__str_cnst_19 text >09322d206b6e69676874    ; 2- knight
__str_cnst_20 text >09332d20626973686f70    ; 3- bishop
__str_cnst_21 text >08342d20717565656e    ; 4- queen
        even 

; ; Set Constants
__set_cnst_14:
        text >000000000000ff00000000000000000000000000000000000000000000000000
__set_cnst_15:
        text >00ff000000000000000000000000000000000000000000000000000000000000
__set_cnst_16:
        text >0280000000000000000000000000000000000000000000000000000000000000
__set_cnst_22:
        text >000000000000001e000000000000000000000000000000000000000000000000

        bank 5, >7570

; Subroutine: saveboards_33, level: 2
;   fffc      -4  offset: int16
;   fffe      -2  i: int16

saveboards_33:
        ai    r10, >fff6
        mov   r10, r12
        mov   r1, *r12+
        ai    r12, >0004
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0078
        mov   r1, @>fd62                ;  datasize
        clr   @>fffc(r9)                ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdd2                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>fffc(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0f6e
        mov   r1, @>fffc(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdd2                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>fffc(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

        bank 5, >7618

; Subroutine: getboards_34, level: 2
;   fffe      -2  offset: int16

getboards_34:
        ai    r10, >fff8
        mov   r10, r12
        mov   r1, *r12+
        inct  r12
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0078
        mov   r1, @>fd62                ;  datasize
        li    r1, >0f6e
        mov   r1, @>fffe(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdd2                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>fffe(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        clr   @>fffe(r9)                ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdd2                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>fffe(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

        bank 5, >76be

; Subroutine: savemove_35, level: 2
;   fff8      -8  offset: int16
;   fffa      -6  offset1: int16
;   fffc      -4  storebase: int16
;   fffe      -2  storeptr: int16

savemove_35:
        ai    r10, >fff2
        mov   r10, r12
        mov   r1, *r12+
        ai    r12, >0008
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, >0016
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0002
        mov   r1, @>fd62                ;  datasize
        li    r1, >0fa0
        mov   r1, @>fff8(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        dect  r1                        ; storeptr
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0fa2
        mov   r1, @>fff8(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >fffc                 ; storebase
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        clr   @>fffa(r9)                ; offset1
        mov   @>fffe(r9), @>fff8(r9)    ; storeptr offset
        mov   @>fff8(r9), r1            ; offset
        ci    r1, >0fef
        jlt   __l_832
        jeq   __l_832
__l_831:
        mov   @>fffc(r9), r1            ; storebase
        inc   r1
        mov   r1, @>fffc(r9)            ; storebase
        clr   @>fffe(r9)                ; storeptr
        clr   @>fff8(r9)                ; offset
__l_832:
        li    r1, >0078
        mov   r1, @>fd62                ;  datasize
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdd2                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>fffa(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdd2                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fffc(r9), @>0002(r10)   ; storebase 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fff8(r9), r1            ; offset
        ai    r1, >0078
        mov   r1, @>fff8(r9)            ; offset
        li    r1, >0002
        mov   r1, @>fd62                ;  datasize
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd6c                 ; wcastleflag
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fffc(r9), @>0002(r10)   ; storebase 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fff8(r9), r1            ; offset
        inct  r1
        mov   r1, @>fff8(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd6e                 ; bcastleflag
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fffc(r9), @>0002(r10)   ; storebase 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fff8(r9), r1            ; offset
        inct  r1
        mov   r1, @>fff8(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd86                 ; wrooklflag
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fffc(r9), @>0002(r10)   ; storebase 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fff8(r9), r1            ; offset
        inct  r1
        mov   r1, @>fff8(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd88                 ; wrookrflag
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fffc(r9), @>0002(r10)   ; storebase 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fff8(r9), r1            ; offset
        inct  r1
        mov   r1, @>fff8(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd8a                 ; brooklflag
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fffc(r9), @>0002(r10)   ; storebase 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fff8(r9), r1            ; offset
        inct  r1
        mov   r1, @>fff8(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd8c                 ; brookrflag
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fffc(r9), @>0002(r10)   ; storebase 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fff8(r9), r1            ; offset
        inct  r1
        mov   r1, @>fff8(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd72                 ; cwarning
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fffc(r9), @>0002(r10)   ; storebase 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fff8(r9), r1            ; offset
        inct  r1
        mov   r1, @>fff8(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd7a                 ; gamemove
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fffc(r9), @>0002(r10)   ; storebase 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fff8(r9), r1            ; offset
        inct  r1
        mov   r1, @>fff8(r9)            ; offset
        mov   r1, @>fffe(r9)            ; storeptr
        li    r1, >0016
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0fa0
        mov   r1, @>fff8(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        dect  r1                        ; storeptr
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0fa2
        mov   r1, @>fff8(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >fffc                 ; storebase
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

        bank 6, >6060

; Subroutine: initgame_36, level: 2
;   ffda     -38  __rettmp_28: string [8]
;   ffda     -38  __rettmp_29: string [17]
;   ffda     -38  __rettmp_30: int16
;   ffda     -38  __rettmp_31: set of int64
;   fffa      -6  __rettmp_32: boolean
;   ffda     -38  __rettmp_33: string [36]
;   ffda     -38  __rettmp_34: int16
;   ffda     -38  __rettmp_35: set of int64
;   fffa      -6  __rettmp_36: boolean
;   ffda     -38  __rettmp_37: string [22]
;   ffda     -38  __rettmp_38: string [22]
;   ffda     -38  __rettmp_39: string [21]
;   ffda     -38  __rettmp_40: int16
;   ffda     -38  __rettmp_41: set of int64
;   fffa      -6  __rettmp_42: boolean
;   ffda     -38  __rettmp_43: boolean

initgame_36:
        ai    r10, >ffd0
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0026
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  clrscr_23
        clr   @>fd64                    ;  turn
        mov   @>fd64, @>fd66            ; turn  gameside
        li    r1, >0001
        mov   r1, @>fd7a                ;  gamemove
        clr   @>fd6c                    ;  wcastleflag
        clr   @>fd6e                    ;  bcastleflag
        clr   @>fd88                    ;  wrookrflag
        clr   @>fd86                    ;  wrooklflag
        clr   @>fd8c                    ;  brookrflag
        clr   @>fd8a                    ;  brooklflag
        li    r1, >0063
        mov   r1, @>ff3a                ;  lastmove
        clr   @>ff3c                    ;  lastmove .startsq
        clr   @>ff3e                    ;  lastmove .endsq
        clr   @>ff40                    ;  lastmove .link
        li    r1, >0063
        mov   r1, @>ff4a                ;  movestore
        mov   r1, @>ff4c                ;  movestore .startsq
        li    r1, >0063
        mov   r1, @>ff4e                ;  movestore .endsq
        clr   @>fd76                    ;  wmobility
        clr   @>fd78                    ;  bmobility
        clr   @>fd68                    ;  gamepointer
        li    r1, >0016
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0002
        mov   r1, @>fd62                ;  datasize
        li    r1, >0fa0
        mov   r1, @>fe9e                ;  offset
        clr   @>feaa                    ;  offset1
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >feaa                 ; offset1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_23
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_28
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_28
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        li    r1, >0fa2
        mov   r1, @>fe9e                ;  offset
        li    r1, >0018
        mov   r1, @>feaa                ;  offset1
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >feaa                 ; offset1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0016
        mov   r1, @>fd60                ;  spage
        li    r1, >0006
        mov   r1, @>fd62                ;  datasize
        li    r1, >0380
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >ff4a                 ; movestore
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd60, @>0002(r10)       ; spage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_24
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_29
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_29
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_835:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_30
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ffda(r9), @>fea6        ; __rettmp_30  ans
        mov   @>fea6, r1                ; ans
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_841
        sla   r14, 0
__l_841:
        sra   r1, 3
        li    r2, __set_cnst_25
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_842
        inc   r1
__l_842:
        ci    r1, >0000
        jeq   __l_835
__l_839:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fea6, r1                ; ans
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        mov   @>fea6, r1                ; ans
        li    r2, >0030
        s     r2, r1
        mov   r1, @>fd70                ;  ply
        mov   r1, @>fd74                ;  gameply
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_26
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_33
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_33
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
__l_836:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_34
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ffda(r9), @>fea6        ; __rettmp_34  ans
        mov   @>fea6, r1                ; ans
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_845
        sla   r14, 0
__l_845:
        sra   r1, 3
        li    r2, __set_cnst_27
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_846
        inc   r1
__l_846:
        ci    r1, >0000
        jeq   __l_836
__l_843:
        mov   @>fea6, r1                ; ans
        ci    r1, >0042
        jne   __l_848
__l_847:
        li    r1, >0001
        mov   r1, @>fd7c                ;  humanside
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_28
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_37
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_37
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        jmp   __l_849
__l_848:
        clr   @>fd7c                    ;  humanside
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_29
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_38
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_38
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
__l_849:
        clr   @>fd72                    ;  cwarning
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_30
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_39
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_39
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_837:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_40
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ffda(r9), @>fea6        ; __rettmp_40  ans
        mov   @>fea6, r1                ; ans
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_853
        sla   r14, 0
__l_853:
        sra   r1, 3
        li    r2, __set_cnst_31
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_854
        inc   r1
__l_854:
        ci    r1, >0000
        jeq   __l_837
__l_851:
        mov   @>fea6, r1                ; ans
        ci    r1, >0059
        jeq   __l_855
        b     @__l_856
__l_855:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6012
        data  enterpos_48
        mov   @>fd64, @>fd66            ; turn  gameside
        clr   @>ff3a                    ;  lastmove
        clr   @>ff3c                    ;  lastmove .startsq
        clr   @>ff3e                    ;  lastmove .endsq
        ai    r10, >fff2
        mov   @>7ffe, @>000c(r10)
        li    r1, >ff3a                 ; lastmove
        mov   r10, r2
        ai    r2, >0004
        li    r3, >0008
__l_859:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_859
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6010
        data  combinetrim_45
        mov   @>fd66, r1                ; gameside
        jne   __l_861
__l_860:
        li    r1, >0028
        mov   r1, @>fe9e                ;  offset
        jmp   __l_862
__l_861:
        li    r1, >0058
        mov   r1, @>fe9e                ;  offset
__l_862:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd66, r1                ; gameside
        jne   __l_865
__l_864:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        jmp   __l_866
__l_865:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
__l_866:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffda                 ; __rettmp_43
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffda(r9), r1            ; __rettmp_43
        jne   __l_857
__l_868:
        li    r1, >0001
        mov   r1, @>fd72                ;  cwarning
        jmp   __l_857
__l_856:
        clr   @>fd64                    ;  turn
        mov   @>fd64, @>fd66            ; turn  gameside
__l_857:
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

__str_cnst_23 text >085354415254494e47    ; STARTING
__str_cnst_24 text >11656e74657220706c793a205b322d355d20    ; enter ply: [2-5] 
__str_cnst_26 text >2473656c656374207369646520746f20706c61793a205b775d686974652f5b625d6c61636b    ; select side to play: [w]hite/[b]lack
__str_cnst_28 text >162a2a2a706c6179696e6720617320626c61636b2a2a2a    ; ***playing as black***
__str_cnst_29 text >162a2a2a706c6179696e672061732077686974652a2a2a    ; ***playing as white***
__str_cnst_30 text >15656e74657220706f736974696f6e3f2028792f6e29    ; enter position? (y/n)
        even 

; ; Set Constants
__set_cnst_25:
        text >000000000000003c000000000000000000000000000000000000000000000000
__set_cnst_27:
        text >0000000000000000000400800000000000000000000000000000000000000000
__set_cnst_31:
        text >0000000000000000400002000000000000000000000000000000000000000000

        bank 6, >67b4

; Subroutine: check3rep_37, level: 2
;   ffe2     -30  __rettmp_44: boolean
;   ffe2     -30  __rettmp_45: boolean
;   ffe2     -30  __rettmp_46: string [26]
;   ffe2     -30  __rettmp_47: int16
;   fffe      -2  $i: int16

check3rep_37:
        ai    r10, >ffda
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >001e
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>fd7a, r1                ; gamemove
        ci    r1, >0006
        jgt   __l_876
        b     @__l_877
__l_876:
        li    r1, >0001
        movb  @>8303, @>feb6            ; low R1 repflag
        li    r1, >0016
        mov   r1, @>fd60                ;  spage
        mov   @>fd68, @>feb0            ; gamepointer  temppointer
        li    r1, >0001
        mov   r1, @>fe98                ;  i
        li    r1, >0004
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_873
__l_872:
        inc   @>fe98                    ; i
__l_873:
        mov   @>feb0, r1                ; temppointer
        li    r2, >0008
        s     r2, r1
        mov   r1, @>feb0                ;  temppointer
        li    r1, >0380
        a     @>feb0, r1                ; temppointer 
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >ff4a                 ; movestore
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd60, @>0002(r10)       ; spage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0380
        a     @>feb0, r1                ; temppointer 
        li    r2, >0020
        s     r2, r1
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >ff52                 ; tempmove
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd60, @>0002(r10)       ; spage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        li    r1, >0004
        mov   r1, @>0006(r10)
        li    r1, >ff52                 ; tempmove
        mov   r1, @>0004(r10)
        li    r1, >ff4a                 ; movestore
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffe2                 ; __rettmp_44
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  compareword
        movb  @>ffe2(r9), r1            ; __rettmp_44
        jne   __l_881
__l_880:
        clr   r1
        movb  @>8303, @>feb6            ; low R1 repflag
__l_881:
        li    r1, >0380
        a     @>feb0, r1                ; temppointer 
        li    r2, >0040
        s     r2, r1
        mov   r1, @>fe9e                ;  offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >ff52                 ; tempmove
        mov   r1, @>0008(r10)
        mov   @>fe9e, @>0006(r10)       ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd60, @>0002(r10)       ; spage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        li    r1, >0004
        mov   r1, @>0006(r10)
        li    r1, >ff52                 ; tempmove
        mov   r1, @>0004(r10)
        li    r1, >ff4a                 ; movestore
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffe2                 ; __rettmp_45
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  compareword
        movb  @>ffe2(r9), r1            ; __rettmp_45
        jne   __l_885
__l_884:
        clr   r1
        movb  @>8303, @>feb6            ; low R1 repflag
__l_885:
        c     @>fe98, @>fffe(r9)        ; i $i 
        jeq   __l_888
        b     @__l_872
__l_888:
        movb  @>feb6, r1                ; repflag
        jne   __l_890
        b     @__l_877
__l_890:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        clr   @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_32
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffe2                 ; __rettmp_46
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffe2                 ; __rettmp_46
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffe2                 ; __rettmp_47
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ffe2(r9), @>fea6        ; __rettmp_47  ans
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff62                 ; input
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_lf_75
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >fe98                 ; i
        mov   r1, *r10
        bl    @__far_call_1
        data  >6016
        data  utility_53
__l_877:
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

__str_cnst_32 text >1a6472617720627920332d666f6c642072657065746974696f6e21    ; draw by 3-fold repetition!
        even 

        bank 6, >6a98

; Subroutine: movegen_38, level: 2
;   fefc    -260  __rettmp_341: string [10]
;   fefc    -260  __rettmp_342: int16
;   fefc    -260  __rettmp_343: boolean
;   fefc    -260  __rettmp_344: int16
;   ff04    -252  __rettmp_345: set of int64
;   ff24    -220  __rettmp_346: boolean
;   fefc    -260  __rettmp_347: set of int64
;   ff1c    -228  __rettmp_348: boolean
;   fefc    -260  __rettmp_349: int16
;   fefc    -260  __rettmp_350: boolean
;   fefc    -260  __rettmp_351: boolean
;   0004       4  lastmove: record
;   000c      12  var finalmove: reference to record
;   000e      14  var score: reference to int16
;   0010      16  aval: int16
;   0012      18  bval: int16
;   0014      20  cmoveflag: int16
;   ff26    -218  i: int16
;   ff28    -216  j: int16
;   ff2a    -214  k: int16
;   ff2c    -212  l: int16
;   ff2e    -210  n: int16
;   ff30    -208  offset: int16
;   ff32    -206  initoffset: int16
;   ff34    -204  bestscore: int16
;   ff36    -202  sideoffset: int16
;   ff38    -200  offset1: int16
;   ff3a    -198  offset2: int16
;   ff3c    -196  offset3: int16
;   ff3e    -194  offset4: int16
;   ff40    -192  wcheckflag: int16
;   ff42    -190  bcheckflag: int16
;   ff44    -188  offset7: int16
;   ff46    -186  switchflag: int16
;   ff48    -184  offset5: int16
;   ff4a    -182  offset6: int16
;   ff4c    -180  attackflag: int16
;   ff4e    -178  evalscore: int16
;   ff50    -176  pruneflag: int16
;   ff52    -174  spage2: int16
;   ff54    -172  mateflag: int16
;   ff56    -170  alpha: int16
;   ff58    -168  beta: int16
;   ff5a    -166  foundflag: boolean
;   ff5c    -164  bestmove: record
;   ff64    -156  tempmove: record
;   ff6c    -148  movelist: pointer to record (moverec)
;   ff6e    -146  attacklist: pointer to record (moverec)
;   ff70    -144  tailindex: pointer to record (moverec)
;   ff72    -142  attackindex: pointer to record (moverec)
;   ff74    -140  currentmove: pointer to record (moverec)
;   ff76    -138  bit8: array [subrange (0..3) of int64] of int16
;   ff7e    -130  bit9: array [subrange (0..3) of int64] of int16
;   ff86    -122  buffer: array [subrange (0..59) of int64] of int16
;   fffe      -2  heap: pointer to void

movegen_38:
        ai    r10, >fef0
        mov   r10, r12
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0104
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        dect  r1                        ; heap
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  mark_84
        mov   @>0010(r9), @>ff56(r9)    ; aval alpha
        mov   @>0012(r9), @>ff58(r9)    ; bval beta
        mov   @>fd70, r1                ; ply
        ci    r1, >0002
        jgt   __l_901
__l_900:
        mov   @>fd64, r1                ; turn
        jne   __l_905
__l_904:
        clr   @>fd76                    ;  wmobility
        jmp   __l_901
__l_905:
        clr   @>fd78                    ;  bmobility
__l_901:
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0015
        mov   r1, @>fd60                ;  spage
        mov   @>fd64, r1                ; turn
        jne   __l_909
__l_908:
        li    r1, >0f6e
        mov   r1, @>ff32(r9)            ; initoffset
        li    r1, >0fd6
        mov   r1, @>ff36(r9)            ; sideoffset
        jmp   __l_910
__l_909:
        li    r1, >0f9e
        mov   r1, @>ff32(r9)            ; initoffset
        li    r1, >0fde
        mov   r1, @>ff36(r9)            ; sideoffset
__l_910:
        li    r1, >0f00
        mov   r1, @>ff38(r9)            ; offset1
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>ff38(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0008
        mov   r1, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff6c                 ; movelist
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __new_83
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0008
        mov   r1, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff6e                 ; attacklist
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __new_83
        clr   r1
        mov   @>ff6c(r9), r2            ; movelist
        mov   r1, @>0006(r2)
        clr   r1
        mov   @>ff6e(r9), r2            ; attacklist
        mov   r1, @>0006(r2)
        mov   @>ff6c(r9), @>ff70(r9)    ; movelist tailindex
        mov   @>ff6e(r9), @>ff72(r9)    ; attacklist attackindex
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   @>ff70(r9), @>0008(r10)   ; tailindex 
        mov   @>ff72(r9), @>0006(r10)   ; attackindex 
        mov   r9, r1
        ai    r1, >0004                 ; lastmove
        mov   r1, @>0004(r10)
        mov   @>ff36(r9), @>0002(r10)   ; sideoffset 
        mov   @>ff32(r9), *r10          ; initoffset 
        bl    @__far_call_1
        data  >600e
        data  loopallpieces_43
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >600e
        data  checkbackrowinterposing_39
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >0004                 ; lastmove
        mov   r1, *r10
        bl    @__far_call_1
        data  >600e
        data  checkownbackrowattack_42
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >600e
        data  checkrookmissing_40
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff6c                 ; movelist
        mov   r1, *r10
        bl    @__far_call_1
        data  >600e
        data  checkcastling_41
        mov   @>fd64, r1                ; turn
        jne   __l_913
__l_912:
        li    r1, >b1e0
        mov   r1, @>ff34(r9)            ; bestscore
        jmp   __l_914
__l_913:
        li    r1, >4e20
        mov   r1, @>ff34(r9)            ; bestscore
__l_914:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff7e                 ; bit9
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  clearbitboard_7
        mov   @>ff6e(r9), @>ff74(r9)    ; attacklist currentmove
        li    r1, >0001
        mov   r1, @>ff4c(r9)            ; attackflag
        mov   @>ff74(r9), r1            ; currentmove
        mov   @>0006(r1), r1
        jne   __l_917
__l_916:
        clr   @>ff4c(r9)                ; attackflag
        mov   @>ff6c(r9), @>ff74(r9)    ; movelist currentmove
__l_917:
        mov   @>ff74(r9), r1            ; currentmove
        mov   @>0006(r1), r1
        jeq   __l_924
        b     @__l_921
__l_924:
        mov   @>ff4c(r9), r1            ; attackflag
        jeq   __l_923
        b     @__l_921
__l_923:
        c     @>fd70, @>fd74            ; ply gameply 
        jeq   __l_920
        b     @__l_921
__l_920:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_33
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fefc                 ; __rettmp_341
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fefc                 ; __rettmp_341
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fefc                 ; __rettmp_342
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>fefc(r9), @>ff26(r9)    ; __rettmp_342 i
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff62                 ; input
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_lf_75
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff46                 ; switchflag
        mov   r1, *r10
        bl    @__far_call_1
        data  >6016
        data  utility_53
        b     @__l_899
__l_921:
        li    r1, >0f6e
        mov   r1, @>ff30(r9)            ; offset
        li    r1, >0078
        mov   r1, @>fd62                ;  datasize
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff86                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>ff30(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0740
        mov   @>fd70, r2                ; ply
        dec   r2
        li    r3, >0078
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff30(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff86                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>ff30(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd60, @>0002(r10)       ; spage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
__l_897:
        li    r1, >0063
        mov   r1, @>ff64(r9)            ; tempmove
l_1_894:
        mov   @>fd64, r1                ; turn
        jne   __l_929
__l_928:
        li    r1, >0fd6
        mov   r1, @>ff38(r9)            ; offset1
        li    r1, >0f9e
        mov   r1, @>ff48(r9)            ; offset5
        li    r1, >0fde
        mov   r1, @>ff4a(r9)            ; offset6
        li    r1, >0f6e
        mov   @>ff74(r9), r2            ; currentmove
        a     *r2, r1                   ;  
        mov   r1, @>ff30(r9)            ; offset
        jmp   __l_930
__l_929:
        li    r1, >0fde
        mov   r1, @>ff38(r9)            ; offset1
        li    r1, >0f6e
        mov   r1, @>ff48(r9)            ; offset5
        li    r1, >0fd6
        mov   r1, @>ff4a(r9)            ; offset6
        li    r1, >0f9e
        mov   @>ff74(r9), r2            ; currentmove
        a     *r2, r1                   ;  
        mov   r1, @>ff30(r9)            ; offset
__l_930:
        li    r1, >0fce
        mov   r1, @>ff3e(r9)            ; offset4
        li    r1, >0180
        mov   @>ff74(r9), r2            ; currentmove
        mov   @>0002(r2), r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff3a(r9)            ; offset2
        li    r1, >0180
        mov   @>ff74(r9), r2            ; currentmove
        mov   @>0004(r2), r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff3c(r9)            ; offset3
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff30(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>ff3a(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff30(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff38(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff38(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff3e(r9), @>0006(r10)   ; offset4 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff3e(r9), @>0006(r10)   ; offset4 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>ff4c(r9), r1            ; attackflag
        ci    r1, >0001
        jeq   __l_932
        b     @__l_933
__l_932:
        clr   r1
        movb  @>8303, @>ff5a(r9)        ; foundflag
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>ff3c(r9), @>0006(r10)   ; offset3 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >fd9a                 ; bit2
        li    r2, >fda2                 ; bit3
        li    r3, >0008
__l_936:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_936
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        clr   @>ff28(r9)                ; j
__l_898:
        mov   @>ff48(r9), r1            ; offset5
        a     @>ff28(r9), r1            ; j 
        mov   r1, @>ff3a(r9)            ; offset2
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff3a(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdca                 ; bitres
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdca                 ; bitres
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fefc                 ; __rettmp_343
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fefc(r9), r1            ; __rettmp_343
        jne   __l_938
__l_937:
        li    r1, >0001
        movb  @>8303, @>ff5a(r9)        ; foundflag
        mov   @>ff74(r9), r1            ; currentmove
        mov   *r1, @>ff2c(r9)           ;  l
        mov   @>ff28(r9), @>ff2e(r9)    ; j n
__l_938:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff3a(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>ff28(r9), r1            ; j
        ai    r1, >0008
        mov   r1, @>ff28(r9)            ; j
        movb  @>ff5a(r9), r1            ; foundflag
        jne   __l_941
__l_942:
        mov   @>ff28(r9), r1            ; j
        ci    r1, >0028
        jgt   __l_941
        b     @__l_898
__l_941:
        movb  @>ff5a(r9), r1            ; foundflag
        jeq   __l_948
        b     @__l_946
__l_948:
        mov   @>ff74(r9), r1            ; currentmove
        mov   *r1, r1
        jeq   __l_945
        b     @__l_946
__l_945:
        mov   @>ff74(r9), r1            ; currentmove
        mov   @>0002(r1), r1
        mov   @>ff74(r9), r2            ; currentmove
        s     @>0004(r2), r1            ;  
        abs   r1
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_955
        sla   r14, 0
__l_955:
        sra   r1, 3
        li    r2, __set_cnst_34
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_956
        inc   r1
__l_956:
        ci    r1, >0000
        jne   __l_951
        b     @__l_946
__l_951:
        mov   @>fd64, r1                ; turn
        jne   __l_958
__l_957:
        li    r1, >0180
        mov   @>ff74(r9), r2            ; currentmove
        mov   @>0004(r2), r2
        li    r3, >0008
        s     r3, r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff44(r9)            ; offset7
        jmp   __l_959
__l_958:
        li    r1, >0180
        mov   @>ff74(r9), r2            ; currentmove
        mov   @>0004(r2), r2
        ai    r2, >0008
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff44(r9)            ; offset7
__l_959:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>ff44(r9), @>0006(r10)   ; offset7 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff48(r9), @>0006(r10)   ; offset5 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff48(r9), @>0006(r10)   ; offset5 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0fce
        mov   r1, @>ff48(r9)            ; offset5
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff48(r9), @>0006(r10)   ; offset5 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff48(r9), @>0006(r10)   ; offset5 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd64, r1                ; turn
        jne   __l_962
__l_961:
        li    r1, >0fde
        mov   r1, @>ff48(r9)            ; offset5
        jmp   __l_963
__l_962:
        li    r1, >0fd6
        mov   r1, @>ff48(r9)            ; offset5
__l_963:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff48(r9), @>0006(r10)   ; offset5 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff48(r9), @>0006(r10)   ; offset5 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
__l_946:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff4a(r9), @>0006(r10)   ; offset6 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff4a(r9), @>0006(r10)   ; offset6 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff3e(r9), @>0006(r10)   ; offset4 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff3e(r9), @>0006(r10)   ; offset4 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
__l_933:
        mov   @>ff74(r9), r1            ; currentmove
        mov   *r1, r1
        jne   __l_966
__l_968:
        mov   @>ff74(r9), r1            ; currentmove
        mov   @>0004(r1), r1
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_971
        sla   r14, 0
__l_971:
        sra   r1, 3
        li    r2, __set_cnst_35
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_972
        inc   r1
__l_972:
        ci    r1, >0000
        jeq   __l_966
__l_965:
        mov   @>fd64, r1                ; turn
        jne   __l_974
__l_973:
        li    r1, >0f8e
        mov   r1, @>ff30(r9)            ; offset
        jmp   __l_966
__l_974:
        li    r1, >0fbe
        mov   r1, @>ff30(r9)            ; offset
__l_966:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff30(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>ff3c(r9), @>0006(r10)   ; offset3 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff30(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff38(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff38(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff3e(r9), @>0006(r10)   ; offset4 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff3e(r9), @>0006(r10)   ; offset4 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>ff4c(r9), r1            ; attackflag
        jne   __l_978
__l_980:
        mov   @>ff74(r9), r1            ; currentmove
        mov   *r1, r1
        ci    r1, >0028
        jne   __l_978
__l_977:
        mov   @>ff74(r9), r1            ; currentmove
        mov   @>0002(r1), r1
        mov   @>ff74(r9), r2            ; currentmove
        s     @>0004(r2), r1            ;  
        abs   r1
        ci    r1, >0002
        jne   __l_978
__l_983:
        c     @>fd70, @>fd74            ; ply gameply 
        jne   __l_988
__l_987:
        li    r1, >0001
        mov   r1, @>0014(r9)            ; cmoveflag
__l_988:
        mov   @>ff74(r9), r1            ; currentmove
        mov   *r1, @>ff64(r9)           ;  tempmove
        mov   @>ff74(r9), r1            ; currentmove
        mov   @>0002(r1), @>ff66(r9)    ;  tempmove
        mov   @>ff74(r9), r1            ; currentmove
        mov   @>0004(r1), @>ff68(r9)    ;  tempmove
        mov   @>ff74(r9), r1            ; currentmove
        mov   @>0006(r1), @>ff74(r9)    ;  currentmove
        b     @l_1_894
__l_978:
        mov   @>ff64(r9), r1            ; tempmove
        ci    r1, >0063
        jne   __l_992
__l_991:
        mov   @>ff74(r9), r1            ; currentmove
        mov   *r1, @>ff64(r9)           ;  tempmove
        mov   @>ff74(r9), r1            ; currentmove
        mov   @>0002(r1), @>ff66(r9)    ;  tempmove
        mov   @>ff74(r9), r1            ; currentmove
        mov   @>0004(r1), @>ff68(r9)    ;  tempmove
__l_992:
        mov   @>fd72, r1                ; cwarning
        ci    r1, >0001
        jeq   __l_998
        b     @__l_996
__l_998:
        c     @>fd70, @>fd74            ; ply gameply 
        jeq   __l_995
        b     @__l_996
__l_995:
        clr   @>ff50(r9)                ; pruneflag
        clr   @>ff30(r9)                ; offset
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0078
        mov   r1, @>fd62                ;  datasize
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff86                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>ff30(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0308
        mov   r1, @>ff30(r9)            ; offset
        li    r1, >0016
        mov   r1, @>fd5e                ;  startpage
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff86                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>ff30(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        clr   @>ff30(r9)                ; offset
        li    r1, >0f6e
        mov   r1, @>ff38(r9)            ; offset1
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff86                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>ff38(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff86                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>ff30(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        ai    r10, >fff2
        mov   @>7ffe, @>000c(r10)
        mov   r9, r1
        ai    r1, >0004                 ; lastmove
        mov   r10, r2
        ai    r2, >0004
        li    r3, >0008
__l_1001:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1001
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6010
        data  combinetrim_45
        li    r1, >0016
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0078
        mov   r1, @>fd62                ;  datasize
        li    r1, >0308
        mov   r1, @>ff30(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff86                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>ff30(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        clr   @>ff30(r9)                ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff86                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>ff30(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        mov   @>fd64, r1                ; turn
        jne   __l_1003
__l_1002:
        li    r1, >0f96
        mov   r1, @>ff30(r9)            ; offset
        jmp   __l_1004
__l_1003:
        li    r1, >0fc6
        mov   r1, @>ff30(r9)            ; offset
__l_1004:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff30(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fefc                 ; __rettmp_350
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fefc(r9), r1            ; __rettmp_350
        jne   __l_996
__l_1006:
        mov   @>fd64, r1                ; turn
        jne   __l_1011
__l_1010:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        jmp   __l_1012
__l_1011:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
__l_1012:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fefc                 ; __rettmp_351
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fefc(r9), r1            ; __rettmp_351
        jne   __l_996
__l_1014:
        b     @__l_1090
__l_996:
        mov   @>fd70, r1                ; ply
        ci    r1, >0001
        jeq   __l_1018
        b     @__l_1019
__l_1018:
        inc   @>fd90                    ; movenumlo
        mov   @>fd90, r1                ; movenumlo
        ci    r1, >03e8
        jne   __l_1023
__l_1022:
        clr   @>fd90                    ;  movenumlo
        inc   @>fd8e                    ; movenumhi
__l_1023:
        ai    r10, >ffe4
        mov   @>7ffe, @>001a(r10)
        mov   r9, r1
        ai    r1, >ff64                 ; tempmove
        mov   r10, r2
        ai    r2, >0012
        li    r3, >0008
__l_1026:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1026
        mov   r9, r1
        ai    r1, >0004                 ; lastmove
        mov   r10, r2
        ai    r2, >000a
        li    r3, >0008
__l_1027:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1027
        mov   @>ff2e(r9), @>0008(r10)   ; n 
        mov   @>ff2c(r9), @>0006(r10)   ; l 
        mov   @>ff4c(r9), @>0004(r10)   ; attackflag 
        mov   @>0014(r9), @>0002(r10)   ; cmoveflag 
        mov   r9, r1
        ai    r1, >ff4e                 ; evalscore
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  evaluate_57
        clr   @>ff50(r9)                ; pruneflag
        mov   @>fd64, r1                ; turn
        jne   __l_1029
__l_1028:
        c     @>ff4e(r9), @>ff34(r9)    ; evalscore bestscore 
        jlt   __l_1033
__l_1032:
        mov   @>ff4e(r9), @>ff34(r9)    ; evalscore bestscore
        mov   @>ff64(r9), @>ff5c(r9)    ; tempmove bestmove
        mov   @>ff66(r9), @>ff5e(r9)    ; tempmove bestmove
        mov   @>ff68(r9), @>ff60(r9)    ; tempmove bestmove
__l_1033:
        c     @>ff34(r9), @>ff58(r9)    ; bestscore beta 
        jlt   __l_1037
        jeq   __l_1037
__l_1036:
        li    r1, >0001
        mov   r1, @>ff50(r9)            ; pruneflag
        jmp   __l_1053
__l_1037:
        c     @>ff34(r9), @>ff56(r9)    ; bestscore alpha 
        jlt   __l_1053
        jeq   __l_1053
__l_1040:
        mov   @>ff34(r9), @>ff56(r9)    ; bestscore alpha
        jmp   __l_1053
__l_1029:
        c     @>ff4e(r9), @>ff34(r9)    ; evalscore bestscore 
        jgt   __l_1045
__l_1044:
        mov   @>ff4e(r9), @>ff34(r9)    ; evalscore bestscore
        mov   @>ff64(r9), @>ff5c(r9)    ; tempmove bestmove
        mov   @>ff66(r9), @>ff5e(r9)    ; tempmove bestmove
        mov   @>ff68(r9), @>ff60(r9)    ; tempmove bestmove
__l_1045:
        c     @>ff34(r9), @>ff56(r9)    ; bestscore alpha 
        jgt   __l_1049
        jeq   __l_1049
__l_1048:
        li    r1, >0001
        mov   r1, @>ff50(r9)            ; pruneflag
        b     @__l_1090
__l_1049:
        c     @>ff34(r9), @>ff58(r9)    ; bestscore beta 
        jgt   __l_1053
        jeq   __l_1053
__l_1052:
        mov   @>ff34(r9), @>ff58(r9)    ; bestscore beta
        b     @__l_1090
__l_1053:
        b     @__l_1090
__l_1019:
        mov   @>fd70, r1                ; ply
        dec   r1
        mov   r1, @>fd70                ;  ply
        mov   @>fd64, r1                ; turn
        jne   __l_1057
__l_1056:
        li    r1, >0001
        mov   r1, @>fd64                ;  turn
        jmp   __l_1058
__l_1057:
        clr   @>fd64                    ;  turn
__l_1058:
        ai    r10, >ffec
        mov   @>7ffe, @>0012(r10)
        mov   @>0014(r9), @>0010(r10)   ; cmoveflag 
        mov   @>ff58(r9), @>000e(r10)   ; beta 
        mov   @>ff56(r9), @>000c(r10)   ; alpha 
        mov   @>000e(r9), @>000a(r10)   ; score 
        mov   @>000c(r9), @>0008(r10)   ; finalmove 
        mov   r9, r1
        ai    r1, >ff64                 ; tempmove
        mov   r10, r2
        li    r3, >0008
__l_1060:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1060
        bl    @__far_call_1
        data  >600c
        data  movegen_38
        c     @>fd70, @>fd74            ; ply gameply 
        jne   __l_1062
__l_1061:
        clr   @>0014(r9)                ; cmoveflag
__l_1062:
        clr   @>ff50(r9)                ; pruneflag
        mov   @>fd64, r1                ; turn
        jne   __l_1066
__l_1065:
        mov   @>000e(r9), r1            ; score
        c     *r1, @>ff34(r9)           ;  bestscore 
        jlt   __l_1070
__l_1069:
        mov   @>000e(r9), r1            ; score
        mov   *r1, @>ff34(r9)           ;  bestscore
        mov   @>ff64(r9), @>ff5c(r9)    ; tempmove bestmove
        mov   @>ff66(r9), @>ff5e(r9)    ; tempmove bestmove
        mov   @>ff68(r9), @>ff60(r9)    ; tempmove bestmove
__l_1070:
        c     @>ff34(r9), @>ff58(r9)    ; bestscore beta 
        jlt   __l_1074
        jeq   __l_1074
__l_1073:
        li    r1, >0001
        mov   r1, @>ff50(r9)            ; pruneflag
        jmp   __l_1090
__l_1074:
        c     @>ff34(r9), @>ff56(r9)    ; bestscore alpha 
        jlt   __l_1090
        jeq   __l_1090
__l_1077:
        mov   @>ff34(r9), @>ff56(r9)    ; bestscore alpha
        jmp   __l_1090
__l_1066:
        mov   @>000e(r9), r1            ; score
        c     *r1, @>ff34(r9)           ;  bestscore 
        jgt   __l_1082
__l_1081:
        mov   @>000e(r9), r1            ; score
        mov   *r1, @>ff34(r9)           ;  bestscore
        mov   @>ff64(r9), @>ff5c(r9)    ; tempmove bestmove
        mov   @>ff66(r9), @>ff5e(r9)    ; tempmove bestmove
        mov   @>ff68(r9), @>ff60(r9)    ; tempmove bestmove
__l_1082:
        c     @>ff34(r9), @>ff56(r9)    ; bestscore alpha 
        jgt   __l_1086
        jeq   __l_1086
__l_1085:
        li    r1, >0001
        mov   r1, @>ff50(r9)            ; pruneflag
        jmp   __l_1090
__l_1086:
        c     @>ff34(r9), @>ff58(r9)    ; bestscore beta 
        jgt   __l_1090
        jeq   __l_1090
__l_1089:
        mov   @>ff34(r9), @>ff58(r9)    ; bestscore beta
__l_1090:
        li    r1, >0740
        mov   @>fd70, r2                ; ply
        dec   r2
        li    r3, >0078
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff30(r9)            ; offset
        li    r1, >0078
        mov   r1, @>fd62                ;  datasize
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff86                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>ff30(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd60, @>0002(r10)       ; spage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0f6e
        mov   r1, @>ff30(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff86                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>ff30(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        mov   @>ff74(r9), r1            ; currentmove
        mov   @>0006(r1), @>ff74(r9)    ;  currentmove
        mov   @>ff74(r9), r1            ; currentmove
        mov   @>0006(r1), r1
        jne   __l_1094
__l_1096:
        mov   @>ff4c(r9), r1            ; attackflag
        ci    r1, >0001
        jne   __l_1094
__l_1093:
        clr   @>ff4c(r9)                ; attackflag
        mov   @>ff6c(r9), @>ff74(r9)    ; movelist currentmove
__l_1094:
        mov   @>ff74(r9), r1            ; currentmove
        mov   @>0006(r1), r1
        jeq   __l_1099
__l_1100:
        mov   @>ff50(r9), r1            ; pruneflag
        ci    r1, >0001
        jeq   __l_1099
        b     @__l_897
__l_1099:
        mov   r9, r1
        ai    r1, >ff5c                 ; bestmove
        mov   @>000c(r9), r2            ; finalmove
        li    r3, >0008
__l_1103:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1103
        mov   @>ff34(r9), r1            ; bestscore
        mov   @>000e(r9), r2            ; score
        mov   r1, *r2
        mov   @>fd70, r1                ; ply
        inc   r1
        mov   r1, @>fd70                ;  ply
        mov   @>fd64, r1                ; turn
        jne   __l_1105
__l_1104:
        li    r1, >0001
        mov   r1, @>fd64                ;  turn
        jmp   __l_1106
__l_1105:
        clr   @>fd64                    ;  turn
__l_1106:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   @>fffe(r9), *r10          ; heap 
        bl    @__far_call_1
        data  >601a
        data  release_85
__l_899:
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0012
        b     @__far_ret

__str_cnst_33 text >0a7374616c656d61746521    ; stalemate!
        even 

; ; Set Constants
__set_cnst_34:
        text >0280000000000000000000000000000000000000000000000000000000000000
__set_cnst_35:
        text >00ff00000000ff00000000000000000000000000000000000000000000000000

        bank 7, >6060

; Subroutine: checkbackrowinterposing_39, level: 2
;   fff8      -8  __rettmp_316: boolean
;   fff8      -8  __rettmp_317: boolean
;   fff8      -8  __rettmp_318: boolean
;   fff8      -8  __rettmp_319: boolean
;   fffa      -6  offset: int16
;   fffc      -4  offset1: int16
;   fffe      -2  offset2: int16

checkbackrowinterposing_39:
        ai    r10, >fff2
        mov   r10, r12
        mov   r1, *r12+
        ai    r12, >0008
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>fd64, r1                ; turn
        jne   __l_1112
__l_1113:
        mov   @>fd6c, r1                ; wcastleflag
        jeq   __l_1109
__l_1112:
        mov   @>fd64, r1                ; turn
        ci    r1, >0001
        jeq   __l_1116
        b     @__l_1110
__l_1116:
        mov   @>fd6e, r1                ; bcastleflag
        jeq   __l_1109
        b     @__l_1110
__l_1109:
        li    r1, >0060
        mov   r1, @>fffa(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fffa(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd64, r1                ; turn
        jeq   __l_1119
        b     @__l_1120
__l_1119:
        li    r1, >0f4e
        mov   r1, @>fffc(r9)            ; offset1
        li    r1, >0f56
        mov   r1, @>fffe(r9)            ; offset2
        mov   @>fd7e, r1                ; wraflag
        jne   __l_1124
__l_1126:
        mov   @>fd88, r1                ; wrookrflag
        jne   __l_1124
__l_1123:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fffc(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fff8                 ; __rettmp_316
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fff8(r9), r1            ; __rettmp_316
        jne   __l_1124
__l_1129:
        li    r1, >0001
        mov   r1, @>fd7e                ;  wraflag
__l_1124:
        mov   @>fd80, r1                ; wlaflag
        jne   __l_1134
__l_1136:
        mov   @>fd86, r1                ; wrooklflag
        jne   __l_1134
__l_1133:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fffe(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fff8                 ; __rettmp_317
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fff8(r9), r1            ; __rettmp_317
        jne   __l_1134
__l_1139:
        li    r1, >0001
        mov   r1, @>fd80                ;  wlaflag
__l_1134:
        b     @__l_1110
__l_1120:
        li    r1, >0f5e
        mov   r1, @>fffc(r9)            ; offset1
        li    r1, >0f66
        mov   r1, @>fffe(r9)            ; offset2
        mov   @>fd82, r1                ; braflag
        jne   __l_1144
__l_1146:
        mov   @>fd8c, r1                ; brookrflag
        jne   __l_1144
__l_1143:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fffc(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fff8                 ; __rettmp_318
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fff8(r9), r1            ; __rettmp_318
        jne   __l_1144
__l_1149:
        li    r1, >0001
        mov   r1, @>fd82                ;  braflag
__l_1144:
        mov   @>fd84, r1                ; blaflag
        jne   __l_1110
__l_1156:
        mov   @>fd8a, r1                ; brooklflag
        jne   __l_1110
__l_1153:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fffe(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fff8                 ; __rettmp_319
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fff8(r9), r1            ; __rettmp_319
        jne   __l_1110
__l_1159:
        li    r1, >0001
        mov   r1, @>fd84                ;  blaflag
__l_1110:
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

        bank 7, >6354

; Subroutine: checkrookmissing_40, level: 2
;   fffc      -4  __rettmp_320: boolean
;   fffc      -4  __rettmp_321: boolean
;   fffc      -4  __rettmp_322: boolean
;   fffc      -4  __rettmp_323: boolean
;   fffe      -2  offset: int16

checkrookmissing_40:
        ai    r10, >fff6
        mov   r10, r12
        mov   r1, *r12+
        ai    r12, >0004
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>fd64, r1                ; turn
        jeq   __l_1164
        b     @__l_1165
__l_1164:
        li    r1, >0f76
        mov   r1, @>fffe(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fffe(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0180
        mov   r1, @>fffe(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fffe(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fffc                 ; __rettmp_320
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fffc(r9), r1            ; __rettmp_320
        jeq   __l_1169
__l_1168:
        li    r1, >0001
        mov   r1, @>fd80                ;  wlaflag
__l_1169:
        li    r1, >01b8
        mov   r1, @>fffe(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fffe(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fffc                 ; __rettmp_321
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fffc(r9), r1            ; __rettmp_321
        jeq   __l_1173
__l_1172:
        li    r1, >0001
        mov   r1, @>fd7e                ;  wraflag
        b     @__l_1181
__l_1173:
        b     @__l_1181
__l_1165:
        li    r1, >0fa6
        mov   r1, @>fffe(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fffe(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0340
        mov   r1, @>fffe(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fffe(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fffc                 ; __rettmp_322
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fffc(r9), r1            ; __rettmp_322
        jeq   __l_1177
__l_1176:
        li    r1, >0001
        mov   r1, @>fd84                ;  blaflag
__l_1177:
        li    r1, >0378
        mov   r1, @>fffe(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fffe(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fffc                 ; __rettmp_323
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fffc(r9), r1            ; __rettmp_323
        jeq   __l_1181
__l_1180:
        li    r1, >0001
        mov   r1, @>fd82                ;  braflag
__l_1181:
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

        bank 7, >6642

; Subroutine: checkcastling_41, level: 2
;   0004       4  var movelist: reference to pointer to record (moverec)
;   fffe      -2  currentmove: pointer to record (moverec)

checkcastling_41:
        ai    r10, >fff6
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        inct  r12
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>fd6c, r1                ; wcastleflag
        jeq   __l_1188
        b     @__l_1186
__l_1188:
        mov   @>fd64, r1                ; turn
        jeq   __l_1185
        b     @__l_1186
__l_1185:
        mov   @>fd80, r1                ; wlaflag
        jne   __l_1192
__l_1194:
        mov   @>fd86, r1                ; wrooklflag
        jne   __l_1192
__l_1191:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0008
        mov   r1, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        mov   r9, r1
        dect  r1                        ; currentmove
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __new_83
        li    r1, >0008
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, *r2
        clr   r1
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0002(r2)
        li    r1, >0003
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0004(r2)
        mov   @>0004(r9), r1            ; movelist
        mov   *r1, r1
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0006(r2)
        mov   @>fffe(r9), r1            ; currentmove
        mov   @>0004(r9), r2            ; movelist
        mov   r1, *r2
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0008
        mov   r1, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        mov   r9, r1
        dect  r1                        ; currentmove
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __new_83
        li    r1, >0028
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, *r2
        li    r1, >0004
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0002(r2)
        li    r1, >0002
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0004(r2)
        mov   @>0004(r9), r1            ; movelist
        mov   *r1, r1
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0006(r2)
        mov   @>fffe(r9), r1            ; currentmove
        mov   @>0004(r9), r2            ; movelist
        mov   r1, *r2
__l_1192:
        mov   @>fd7e, r1                ; wraflag
        jeq   __l_1200
        b     @__l_1204
__l_1200:
        mov   @>fd88, r1                ; wrookrflag
        jne   __l_1198
__l_1197:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0008
        mov   r1, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        mov   r9, r1
        dect  r1                        ; currentmove
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __new_83
        li    r1, >0008
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, *r2
        li    r1, >0007
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0002(r2)
        li    r1, >0005
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0004(r2)
        mov   @>0004(r9), r1            ; movelist
        mov   *r1, r1
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0006(r2)
        mov   @>fffe(r9), r1            ; currentmove
        mov   @>0004(r9), r2            ; movelist
        mov   r1, *r2
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0008
        mov   r1, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        mov   r9, r1
        dect  r1                        ; currentmove
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __new_83
        li    r1, >0028
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, *r2
        li    r1, >0004
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0002(r2)
        li    r1, >0006
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0004(r2)
        mov   @>0004(r9), r1            ; movelist
        mov   *r1, r1
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0006(r2)
        mov   @>fffe(r9), r1            ; currentmove
        mov   @>0004(r9), r2            ; movelist
        mov   r1, *r2
        b     @__l_1204
__l_1198:
        b     @__l_1204
__l_1186:
        mov   @>fd6e, r1                ; bcastleflag
        jeq   __l_1206
        b     @__l_1204
__l_1206:
        mov   @>fd64, r1                ; turn
        ci    r1, >0001
        jeq   __l_1203
        b     @__l_1204
__l_1203:
        mov   @>fd84, r1                ; blaflag
        jne   __l_1210
__l_1212:
        mov   @>fd8a, r1                ; brooklflag
        jne   __l_1210
__l_1209:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0008
        mov   r1, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        mov   r9, r1
        dect  r1                        ; currentmove
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __new_83
        li    r1, >0008
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, *r2
        li    r1, >0038
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0002(r2)
        li    r1, >003b
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0004(r2)
        mov   @>0004(r9), r1            ; movelist
        mov   *r1, r1
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0006(r2)
        mov   @>fffe(r9), r1            ; currentmove
        mov   @>0004(r9), r2            ; movelist
        mov   r1, *r2
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0008
        mov   r1, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        mov   r9, r1
        dect  r1                        ; currentmove
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __new_83
        li    r1, >0028
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, *r2
        li    r1, >003c
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0002(r2)
        li    r1, >003a
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0004(r2)
        mov   @>0004(r9), r1            ; movelist
        mov   *r1, r1
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0006(r2)
        mov   @>fffe(r9), r1            ; currentmove
        mov   @>0004(r9), r2            ; movelist
        mov   r1, *r2
__l_1210:
        mov   @>fd82, r1                ; braflag
        jne   __l_1204
__l_1218:
        mov   @>fd8c, r1                ; brookrflag
        jne   __l_1204
__l_1215:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0008
        mov   r1, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        mov   r9, r1
        dect  r1                        ; currentmove
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __new_83
        li    r1, >0008
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, *r2
        li    r1, >003f
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0002(r2)
        li    r1, >003d
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0004(r2)
        mov   @>0004(r9), r1            ; movelist
        mov   *r1, r1
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0006(r2)
        mov   @>fffe(r9), r1            ; currentmove
        mov   @>0004(r9), r2            ; movelist
        mov   r1, *r2
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0008
        mov   r1, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        mov   r9, r1
        dect  r1                        ; currentmove
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __new_83
        li    r1, >0028
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, *r2
        li    r1, >003c
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0002(r2)
        li    r1, >003e
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0004(r2)
        mov   @>0004(r9), r1            ; movelist
        mov   *r1, r1
        mov   @>fffe(r9), r2            ; currentmove
        mov   r1, @>0006(r2)
        mov   @>fffe(r9), r1            ; currentmove
        mov   @>0004(r9), r2            ; movelist
        mov   r1, *r2
__l_1204:
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 7, >69dc

; Subroutine: checkownbackrowattack_42, level: 2
;   fffa      -6  __rettmp_324: boolean
;   fffa      -6  __rettmp_325: boolean
;   fffa      -6  __rettmp_326: boolean
;   fffa      -6  __rettmp_327: boolean
;   0004       4  var lastmove: reference to record
;   fffc      -4  offset1: int16
;   fffe      -2  offset2: int16

checkownbackrowattack_42:
        ai    r10, >fff0
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0006
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>fd64, r1                ; turn
        jne   __l_1225
__l_1226:
        mov   @>fd6c, r1                ; wcastleflag
        jeq   __l_1222
__l_1225:
        mov   @>fd64, r1                ; turn
        ci    r1, >0001
        jeq   __l_1229
        b     @__l_1223
__l_1229:
        mov   @>fd6e, r1                ; bcastleflag
        jeq   __l_1222
        b     @__l_1223
__l_1222:
        ai    r10, >fff2
        mov   @>7ffe, @>000c(r10)
        mov   @>0004(r9), r1            ; lastmove
        mov   r10, r2
        ai    r2, >0004
        li    r3, >0008
__l_1232:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1232
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6010
        data  combinetrim_45
        mov   @>fd64, r1                ; turn
        jeq   __l_1233
        b     @__l_1234
__l_1233:
        li    r1, >0f36
        mov   r1, @>fffc(r9)            ; offset1
        li    r1, >0f2e
        mov   r1, @>fffe(r9)            ; offset2
        mov   @>fd7e, r1                ; wraflag
        jne   __l_1238
__l_1240:
        mov   @>fd88, r1                ; wrookrflag
        jne   __l_1238
__l_1237:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>fffc(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fffa                 ; __rettmp_324
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fffa(r9), r1            ; __rettmp_324
        jne   __l_1238
__l_1243:
        li    r1, >0001
        mov   r1, @>fd7e                ;  wraflag
__l_1238:
        mov   @>fd80, r1                ; wlaflag
        jne   __l_1248
__l_1250:
        mov   @>fd86, r1                ; wrooklflag
        jne   __l_1248
__l_1247:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>fffe(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fffa                 ; __rettmp_325
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fffa(r9), r1            ; __rettmp_325
        jne   __l_1248
__l_1253:
        li    r1, >0001
        mov   r1, @>fd80                ;  wlaflag
__l_1248:
        b     @__l_1223
__l_1234:
        li    r1, >0f46
        mov   r1, @>fffc(r9)            ; offset1
        li    r1, >0f3e
        mov   r1, @>fffe(r9)            ; offset2
        mov   @>fd82, r1                ; braflag
        jne   __l_1258
__l_1260:
        mov   @>fd8c, r1                ; brookrflag
        jne   __l_1258
__l_1257:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>fffc(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fffa                 ; __rettmp_326
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fffa(r9), r1            ; __rettmp_326
        jne   __l_1258
__l_1263:
        li    r1, >0001
        mov   r1, @>fd82                ;  braflag
__l_1258:
        mov   @>fd84, r1                ; blaflag
        jne   __l_1223
__l_1270:
        mov   @>fd8a, r1                ; brooklflag
        jne   __l_1223
__l_1267:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>fffe(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fffa                 ; __rettmp_327
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fffa(r9), r1            ; __rettmp_327
        jne   __l_1223
__l_1273:
        li    r1, >0001
        mov   r1, @>fd84                ;  blaflag
__l_1223:
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 7, >6cd4

; Subroutine: loopallpieces_43, level: 2
;   fe8a    -374  __rettmp_328: boolean
;   fe8a    -374  __rettmp_329: set of int64
;   feaa    -342  __rettmp_330: boolean
;   feb2    -334  __rettmp_331: set of int64
;   fed2    -302  __rettmp_332: boolean
;   fe8a    -374  __rettmp_333: int16
;   fe8a    -374  __rettmp_334: boolean
;   fe8a    -374  __rettmp_335: set of int64
;   feaa    -342  __rettmp_336: boolean
;   fe8a    -374  __rettmp_337: set of int64
;   feaa    -342  __rettmp_338: boolean
;   fe8a    -374  __rettmp_339: boolean
;   fe8a    -374  __rettmp_340: boolean
;   0004       4  initoffset: int16
;   0006       6  sideoffset: int16
;   0008       8  var lastmove: reference to record
;   000a      10  attackindex: pointer to record (moverec)
;   000c      12  tailindex: pointer to record (moverec)
;   fed4    -300  j: int16
;   fed6    -298  k: int16
;   fed8    -296  l: int16
;   feda    -294  n: int16
;   fedc    -292  offset: int16
;   fede    -290  offset1: int16
;   fee0    -288  offset2: int16
;   fee2    -286  offset4: int16
;   fee4    -284  ploc: int16
;   fee6    -282  epcapflag: int16
;   fee8    -280  posarray: array [subrange (0..64) of int64] of int16
;   ff6a    -150  movearray: array [subrange (0..64) of int64] of int16
;   ffec     -20  bit8: array [subrange (0..3) of int64] of int16
;   fff4     -12  bit9: array [subrange (0..3) of int64] of int16
;   fffc      -4  currentmove: pointer to record (moverec)
;   fffe      -2  $k: int16

loopallpieces_43:
        ai    r10, >fe7e
        mov   r10, r12
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0176
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        clr   @>fed4(r9)                ; j
__l_1278:
        mov   @>0004(r9), r1            ; initoffset
        a     @>fed4(r9), r1            ; j 
        mov   r1, @>fedc(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fedc(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fe8a                 ; __rettmp_328
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fe8a(r9), r1            ; __rettmp_328
        jeq   __l_1295
        b     @__l_1296
__l_1295:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >fee8                 ; posarray
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitpos
        li    r1, >0001
        mov   r1, @>fed8(r9)            ; l
__l_1279:
        mov   r9, r1
        ai    r1, >fee8                 ; posarray
        mov   @>fed8(r9), r2            ; l
        sla   r2, 1
        a     r2, r1
        mov   *r1, @>fee4(r9)           ;  ploc
        mov   r9, r1
        ai    r1, >fee8                 ; posarray
        mov   @>fed8(r9), r2            ; l
        sla   r2, 1
        a     r2, r1
        mov   *r1, r1
        li    r2, >0008
        mpy   r1, r2
        mov   r3, @>fedc(r9)            ;  offset
        mov   @>fed4(r9), r1            ; j
; no-opt
        jeq   __c_1280
        ai    r1, >fff8
        jeq   __c_1281
        ai    r1, >fff8
        jeq   __c_1282
        ai    r1, >fff8
        jeq   __c_1283
        ai    r1, >fff8
        jeq   __c_1284
        ai    r1, >fff8
        jne   __l_1299
        jmp   __c_1285
__c_1280:
        mov   @>fd64, r1                ; turn
        jne   __l_1307
__l_1306:
        mov   @>fedc(r9), r1            ; offset
        ai    r1, >0380
        li    r2, >0040
        s     r2, r1
        mov   r1, @>fede(r9)            ; offset1
        jmp   __l_1299
__l_1307:
        mov   @>fedc(r9), r1            ; offset
        ai    r1, >0540
        mov   r1, @>fede(r9)            ; offset1
        jmp   __l_1299
__c_1281:
        mov   @>fedc(r9), r1            ; offset
        ai    r1, >0d00
        mov   r1, @>fede(r9)            ; offset1
        jmp   __l_1299
__c_1282:
        mov   @>fedc(r9), r1            ; offset
        ai    r1, >0900
        mov   r1, @>fede(r9)            ; offset1
        jmp   __l_1299
__c_1283:
        mov   @>fedc(r9), @>fede(r9)    ; offset offset1
        jmp   __l_1299
__c_1284:
        mov   @>fedc(r9), r1            ; offset
        ai    r1, >0b00
        mov   r1, @>fede(r9)            ; offset1
        jmp   __l_1299
__c_1285:
        mov   @>fedc(r9), r1            ; offset
        ai    r1, >0700
        mov   r1, @>fede(r9)            ; offset1
__l_1299:
        mov   @>fed4(r9), r1            ; j
        ci    r1, >0018
        jne   __l_1311
__l_1310:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fede(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd60, @>0002(r10)       ; spage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        jmp   __l_1312
__l_1311:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fede(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
__l_1312:
        mov   @>fed4(r9), r1            ; j
        jeq   __l_1314
        b     @__l_1315
__l_1314:
        clr   @>fee6(r9)                ; epcapflag
        li    r1, >0fce
        mov   r1, @>fede(r9)            ; offset1
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>fede(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        mov   @>fd64, r1                ; turn
        jne   __l_1319
__l_1318:
        li    r1, >0fde
        mov   r1, @>fede(r9)            ; offset1
        li    r1, >0200
        a     @>fedc(r9), r1            ; offset 
        li    r2, >0040
        s     r2, r1
        mov   r1, @>fee0(r9)            ; offset2
        jmp   __l_1320
__l_1319:
        li    r1, >0fd6
        mov   r1, @>fede(r9)            ; offset1
        li    r1, >03c0
        a     @>fedc(r9), r1            ; offset 
        mov   r1, @>fee0(r9)            ; offset2
__l_1320:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>fede(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>fee0(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd60, @>0002(r10)       ; spage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        li    r1, >0008
        mov   r1, @>fed6(r9)            ; k
        mov   @>fd64, r1                ; turn
; no-opt
        ci    r1, >0001
        jle   __l_1324
        jmp   __l_1322
__l_1324:
        sla   r1, 1
        ai    r1, __l_1325
        mov   *r1, r1
        b     *r1
__c_1286:
        mov   @>fee4(r9), r1            ; ploc
        ci    r1, >0007
        jlt   __l_1322
        jeq   __l_1322
__l_1329:
        mov   @>fee4(r9), r1            ; ploc
        ci    r1, >0010
        jgt   __l_1322
        jeq   __l_1322
__l_1326:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        clr   @>0008(r10)
        mov   r9, r1
        ai    r1, >fed6                 ; k
        mov   r1, @>0006(r10)
        mov   r9, r1
        ai    r1, >fee4                 ; ploc
        mov   r1, @>0004(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bittrim
        jmp   __l_1322
__c_1287:
        mov   @>fee4(r9), r1            ; ploc
        ci    r1, >002f
        jlt   __l_1322
        jeq   __l_1322
__l_1335:
        mov   @>fee4(r9), r1            ; ploc
        ci    r1, >0038
        jgt   __l_1322
        jeq   __l_1322
__l_1332:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        clr   @>0008(r10)
        mov   r9, r1
        ai    r1, >fed6                 ; k
        mov   r1, @>0006(r10)
        mov   r9, r1
        ai    r1, >fee4                 ; ploc
        mov   r1, @>0004(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bittrim
__l_1322:
        mov   @>fd64, r1                ; turn
        jne   __l_1341
__l_1342:
        mov   @>fedc(r9), r1            ; offset
        li    r2, >00c8
        s     r2, r1
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1345
        sla   r14, 0
__l_1345:
        sra   r1, 3
        li    r2, __set_cnst_36
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1346
        inc   r1
__l_1346:
        ci    r1, >0000
        jne   __l_1338
__l_1341:
        mov   @>fd64, r1                ; turn
        ci    r1, >0001
        jeq   __l_1347
        b     @__l_1369
__l_1347:
        mov   @>fedc(r9), r1            ; offset
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1350
        sla   r14, 0
__l_1350:
        sra   r1, 3
        li    r2, __set_cnst_37
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1351
        inc   r1
__l_1351:
        ci    r1, >0000
        jne   __l_1338
        b     @__l_1369
__l_1338:
        mov   @>0008(r9), r1            ; lastmove
        mov   *r1, r1
        jeq   __l_1352
        b     @__l_1369
__l_1352:
        mov   @>0008(r9), r1            ; lastmove
        mov   @>0004(r1), r1
        mov   @>0008(r9), r2            ; lastmove
        s     @>0002(r2), r1            ;  
        abs   r1
        ci    r1, >0010
        jeq   __l_1356
        b     @__l_1369
__l_1356:
        mov   @>fd64, r1                ; turn
        jne   __l_1361
__l_1360:
        li    r1, >05c0
        mov   @>0008(r9), r2            ; lastmove
        mov   @>0002(r2), r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        li    r2, >0180
        s     r2, r1
        mov   r1, @>fede(r9)            ; offset1
        li    r1, >0180
        mov   @>0008(r9), r2            ; lastmove
        mov   @>0002(r2), r2
        li    r3, >0008
        s     r3, r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fee0(r9)            ; offset2
        jmp   __l_1362
__l_1361:
        li    r1, >0580
        mov   @>0008(r9), r2            ; lastmove
        mov   @>0002(r2), r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        li    r2, >0040
        s     r2, r1
        mov   r1, @>fede(r9)            ; offset1
        li    r1, >0180
        mov   @>0008(r9), r2            ; lastmove
        mov   @>0002(r2), r2
        ai    r2, >0008
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fee0(r9)            ; offset2
__l_1362:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>fede(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd60, @>0002(r10)       ; spage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fe8a                 ; __rettmp_334
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fe8a(r9), r1            ; __rettmp_334
        jne   __l_1339
__l_1364:
        li    r1, >0001
        mov   r1, @>fee6(r9)            ; epcapflag
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>fee0(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        jmp   __l_1369
__l_1339:
        jmp   __l_1369
__l_1315:
        mov   @>fed4(r9), r1            ; j
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1372
        sla   r14, 0
__l_1372:
        sra   r1, 3
        li    r2, __set_cnst_38
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1373
        inc   r1
__l_1373:
        ci    r1, >0000
        jeq   __l_1369
__l_1368:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>0006(r9), @>0006(r10)   ; sideoffset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
__l_1369:
        li    r1, >fd92                 ; bit1
        mov   r9, r2
        ai    r2, >fff4                 ; bit9
        li    r3, >0008
__l_1374:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1374
        mov   @>fed4(r9), r1            ; j
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1379
        sla   r14, 0
__l_1379:
        sra   r1, 3
        li    r2, __set_cnst_39
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1380
        inc   r1
__l_1380:
        ci    r1, >0000
        jne   __l_1375
        b     @__l_1376
__l_1375:
        mov   @>fd64, r1                ; turn
        jne   __l_1382
__l_1381:
        li    r1, >0fde
        mov   r1, @>fee2(r9)            ; offset4
        jmp   __l_1383
__l_1382:
        li    r1, >0fd6
        mov   r1, @>fee2(r9)            ; offset4
__l_1383:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>fee2(r9), @>0006(r10)   ; offset4 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >0001
        mov   r1, @>0008(r10)
        mov   r9, r1
        ai    r1, >fed4                 ; j
        mov   r1, @>0006(r10)
        mov   r9, r1
        ai    r1, >fee4                 ; ploc
        mov   r1, @>0004(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0002(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bittrim
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>0006(r9), @>0006(r10)   ; sideoffset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        clr   @>0008(r10)
        mov   r9, r1
        ai    r1, >fed4                 ; j
        mov   r1, @>0006(r10)
        mov   r9, r1
        ai    r1, >fee4                 ; ploc
        mov   r1, @>0004(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bittrim
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
__l_1376:
        mov   @>fed4(r9), r1            ; j
        ci    r1, >0028
        jeq   __l_1385
        b     @__l_1386
__l_1385:
        li    r1, >fd9a                 ; bit2
        mov   r9, r2
        ai    r2, >ffec                 ; bit8
        li    r3, >0008
__l_1389:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1389
        ai    r10, >fff2
        mov   @>7ffe, @>000c(r10)
        mov   @>0008(r9), r1            ; lastmove
        mov   r10, r2
        ai    r2, >0004
        li    r3, >0008
__l_1390:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1390
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6010
        data  combinetrim_45
        mov   r9, r1
        ai    r1, >fff4                 ; bit9
        li    r2, >fd92                 ; bit1
        li    r3, >0008
__l_1391:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1391
        mov   r9, r1
        ai    r1, >ffec                 ; bit8
        li    r2, >fd9a                 ; bit2
        li    r3, >0008
__l_1392:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1392
        mov   @>fd64, r1                ; turn
        jne   __l_1394
__l_1393:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   r9, r1
        ai    r1, >ffec                 ; bit8
        mov   r1, @>0004(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        jmp   __l_1395
__l_1394:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   r9, r1
        ai    r1, >ffec                 ; bit8
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
__l_1395:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ff6a                 ; movearray
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffec                 ; bit8
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitpos
        mov   @>ff6a(r9), @>feda(r9)    ; movearray n
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ff6a                 ; movearray
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitpos
        c     @>feda(r9), @>ff6a(r9)    ; n movearray 
        jne   __l_1386
        b     @__l_1296
__l_1386:
        mov   @>fd70, r1                ; ply
        ci    r1, >0002
        jgt   __l_1402
__l_1401:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ff6a                 ; movearray
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitpos
        mov   @>fd64, r1                ; turn
        jne   __l_1406
__l_1405:
        mov   @>fd76, r1                ; wmobility
        a     @>ff6a(r9), r1            ; movearray 
        mov   r1, @>fd76                ;  wmobility
        jmp   __l_1402
__l_1406:
        mov   @>fd78, r1                ; bmobility
        a     @>ff6a(r9), r1            ; movearray 
        mov   r1, @>fd78                ;  bmobility
__l_1402:
        mov   @>fd64, r1                ; turn
        jne   __l_1410
__l_1409:
        li    r1, >0fde
        mov   r1, @>fede(r9)            ; offset1
        jmp   __l_1411
__l_1410:
        li    r1, >0fd6
        mov   r1, @>fede(r9)            ; offset1
__l_1411:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>fede(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        mov   @>fee6(r9), r1            ; epcapflag
        ci    r1, >0001
        jne   __l_1414
__l_1413:
        mov   @>fd64, r1                ; turn
        jne   __l_1418
__l_1417:
        li    r1, >0200
        mov   @>fee4(r9), r2            ; ploc
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fee0(r9)            ; offset2
        jmp   __l_1419
__l_1418:
        li    r1, >03c0
        mov   @>fee4(r9), r2            ; ploc
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fee0(r9)            ; offset2
__l_1419:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0008(r10)
        mov   @>fee0(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd60, @>0002(r10)       ; spage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
__l_1414:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fe8a                 ; __rettmp_339
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fe8a(r9), r1            ; __rettmp_339
        jne   __l_1422
__l_1421:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ff6a                 ; movearray
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitpos
        li    r1, >0001
        mov   r1, @>fed6(r9)            ; k
        mov   @>ff6a(r9), @>fffe(r9)    ; movearray $k
        c     @>fed6(r9), @>fffe(r9)    ; k $k 
        jlt   __l_1289
        jeq   __l_1289
        jmp   __l_1422
__l_1288:
        inc   @>fed6(r9)                ; k
__l_1289:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0008
        mov   r1, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fffc                 ; currentmove
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __new_83
        mov   @>fed4(r9), r1            ; j
        mov   @>000a(r9), r2            ; attackindex
        mov   r1, *r2
        mov   @>fee4(r9), r1            ; ploc
        mov   @>000a(r9), r2            ; attackindex
        mov   r1, @>0002(r2)
        mov   r9, r1
        ai    r1, >ff6a                 ; movearray
        mov   @>fed6(r9), r2            ; k
        sla   r2, 1
        a     r2, r1
        mov   *r1, r1
        mov   @>000a(r9), r2            ; attackindex
        mov   r1, @>0004(r2)
        mov   @>fffc(r9), r1            ; currentmove
        mov   @>000a(r9), r2            ; attackindex
        mov   r1, @>0006(r2)
        mov   @>fffc(r9), @>000a(r9)    ; currentmove attackindex
        clr   r1
        mov   @>000a(r9), r2            ; attackindex
        mov   r1, @>0006(r2)
        c     @>fed6(r9), @>fffe(r9)    ; k $k 
        jne   __l_1288
__l_1422:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fe8a                 ; __rettmp_340
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fe8a(r9), r1            ; __rettmp_340
        jeq   __l_1429
        b     @__l_1430
__l_1429:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ff6a                 ; movearray
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitpos
        li    r1, >0001
        mov   r1, @>fed6(r9)            ; k
        mov   @>ff6a(r9), @>fffe(r9)    ; movearray $k
        c     @>fed6(r9), @>fffe(r9)    ; k $k 
        jlt   __l_1292
        jeq   __l_1292
        jmp   __l_1430
__l_1291:
        inc   @>fed6(r9)                ; k
__l_1292:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0008
        mov   r1, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fffc                 ; currentmove
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __new_83
        mov   @>fed4(r9), r1            ; j
        mov   @>000c(r9), r2            ; tailindex
        mov   r1, *r2
        mov   @>fee4(r9), r1            ; ploc
        mov   @>000c(r9), r2            ; tailindex
        mov   r1, @>0002(r2)
        mov   r9, r1
        ai    r1, >ff6a                 ; movearray
        mov   @>fed6(r9), r2            ; k
        sla   r2, 1
        a     r2, r1
        mov   *r1, r1
        mov   @>000c(r9), r2            ; tailindex
        mov   r1, @>0004(r2)
        mov   @>fffc(r9), r1            ; currentmove
        mov   @>000c(r9), r2            ; tailindex
        mov   r1, @>0006(r2)
        mov   @>fffc(r9), @>000c(r9)    ; currentmove tailindex
        clr   r1
        mov   @>000c(r9), r2            ; tailindex
        mov   r1, @>0006(r2)
        c     @>fed6(r9), @>fffe(r9)    ; k $k 
        jne   __l_1291
__l_1430:
        mov   @>fed8(r9), r1            ; l
        inc   r1
        mov   r1, @>fed8(r9)            ; l
        c     r1, @>fee8(r9)            ; posarray 
        jgt   __l_1296
        b     @__l_1279
__l_1296:
        mov   @>fed4(r9), r1            ; j
        ai    r1, >0008
        mov   r1, @>fed4(r9)            ; j
        ci    r1, >0028
        jgt   __l_1439
        b     @__l_1278
__l_1439:
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >000a
        b     @__far_ret
; jump tables for case statements
__l_1325:
        data  __c_1286
        data  __c_1287

; ; Set Constants
__set_cnst_36:
        text >000000000000ff00ffffffffffff000100000000000000000000000000000000
__set_cnst_37:
        text >000000000000000000000000000000000000000000000000ffffffffffff01ff
__set_cnst_38:
        text >0000000101000000000000000000000000000000000000000000000000000000
__set_cnst_39:
        text >0100010000010000000000000000000000000000000000000000000000000000

        bank 8, >6060

; Subroutine: trim_44, level: 2
;   ffd2     -46  __rettmp_76: int16
;   ffd2     -46  __rettmp_77: boolean
;   ffd2     -46  __rettmp_78: set of int64
;   fff2     -14  __rettmp_79: boolean
;   ffd2     -46  __rettmp_80: set of int64
;   fff2     -14  __rettmp_81: boolean
;   0004       4  j: int16
;   0006       6  iloc: int16
;   0008       8  sideoffset: int16
;   000a      10  lastmove: record
;   0012      18  var bit2: reference to array [subrange (0..3) of int64] of int16
;   fff4     -12  k: int16
;   fff6     -10  offset: int16
;   fff8      -8  offset1: int16
;   fffa      -6  offset2: int16
;   fffc      -4  offset3: int16
;   fffe      -2  spage: int16

trim_44:
        ai    r10, >ffc6
        mov   r10, r12
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >002e
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0015
        mov   r1, @>fffe(r9)            ; spage
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        mov   @>0006(r9), r1            ; iloc
        li    r2, >0008
        mpy   r1, r2
        mov   r3, @>fff6(r9)            ;  offset
        li    r1, >0f00
        mov   r1, @>fff8(r9)            ; offset1
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>0004(r9), r1            ; j
; no-opt
        jeq   __c_1441
        ai    r1, >fff8
        jeq   __c_1442
        ai    r1, >fff8
        jeq   __c_1443
        ai    r1, >fff8
        jeq   __c_1444
        ai    r1, >fff8
        jeq   __c_1445
        ai    r1, >fff8
        jne   __l_1450
        jmp   __c_1446
__c_1441:
        mov   @>fd64, r1                ; turn
        jne   __l_1458
__l_1457:
        mov   @>fff6(r9), r1            ; offset
        ai    r1, >0380
        li    r2, >0040
        s     r2, r1
        mov   r1, @>fff8(r9)            ; offset1
        jmp   __l_1450
__l_1458:
        mov   @>fff6(r9), r1            ; offset
        ai    r1, >0540
        mov   r1, @>fff8(r9)            ; offset1
        jmp   __l_1450
__c_1442:
        mov   @>fff6(r9), r1            ; offset
        ai    r1, >0d00
        mov   r1, @>fff8(r9)            ; offset1
        jmp   __l_1450
__c_1443:
        mov   @>fff6(r9), r1            ; offset
        ai    r1, >0900
        mov   r1, @>fff8(r9)            ; offset1
        jmp   __l_1450
__c_1444:
        mov   @>fff6(r9), @>fff8(r9)    ; offset offset1
        jmp   __l_1450
__c_1445:
        mov   @>fff6(r9), r1            ; offset
        ai    r1, >0b00
        mov   r1, @>fff8(r9)            ; offset1
        jmp   __l_1450
__c_1446:
        mov   @>fff6(r9), r1            ; offset
        ai    r1, >0700
        mov   r1, @>fff8(r9)            ; offset1
__l_1450:
        mov   @>0004(r9), r1            ; j
        ci    r1, >0018
        jne   __l_1462
__l_1461:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   @>0012(r9), @>0008(r10)   ; bit2 
        mov   @>fff8(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fffe(r9), @>0002(r10)   ; spage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        jmp   __l_1463
__l_1462:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   @>0012(r9), @>0008(r10)   ; bit2 
        mov   @>fff8(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
__l_1463:
        mov   @>0004(r9), r1            ; j
        jeq   __l_1465
        b     @__l_1466
__l_1465:
        li    r1, >0060
        mov   r1, @>fff8(r9)            ; offset1
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>0012(r9), @>0004(r10)   ; bit2 
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   @>0012(r9), *r10          ; bit2 
        bl    @__far_call_1
        data  >6006
        data  bitand
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        mov   @>fd64, r1                ; turn
        jne   __l_1470
__l_1469:
        li    r1, >0070
        mov   r1, @>fff8(r9)            ; offset1
        li    r1, >0200
        a     @>fff6(r9), r1            ; offset 
        li    r2, >0040
        s     r2, r1
        mov   r1, @>fffa(r9)            ; offset2
        jmp   __l_1471
__l_1470:
        li    r1, >0068
        mov   r1, @>fff8(r9)            ; offset1
        li    r1, >03c0
        a     @>fff6(r9), r1            ; offset 
        mov   r1, @>fffa(r9)            ; offset2
__l_1471:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>fffa(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fffe(r9), @>0002(r10)   ; spage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>0012(r9), @>0004(r10)   ; bit2 
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   @>0012(r9), *r10          ; bit2 
        bl    @__far_call_1
        data  >6006
        data  bitor
        li    r1, >0008
        mov   r1, @>fff4(r9)            ; k
        mov   @>fd64, r1                ; turn
; no-opt
        ci    r1, >0001
        jle   __l_1475
        jmp   __l_1473
__l_1475:
        sla   r1, 1
        ai    r1, __l_1476
        mov   *r1, r1
        b     *r1
__c_1447:
        mov   @>0006(r9), r1            ; iloc
        ci    r1, >0007
        jlt   __l_1473
        jeq   __l_1473
__l_1480:
        mov   @>0006(r9), r1            ; iloc
        ci    r1, >0010
        jgt   __l_1473
        jeq   __l_1473
__l_1477:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        clr   @>0008(r10)
        mov   r9, r1
        ai    r1, >fff4                 ; k
        mov   r1, @>0006(r10)
        mov   r9, r1
        ai    r1, >0006                 ; iloc
        mov   r1, @>0004(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0002(r10)
        mov   @>0012(r9), *r10          ; bit2 
        bl    @__far_call_1
        data  >6006
        data  bittrim
        jmp   __l_1473
__c_1448:
        mov   @>0006(r9), r1            ; iloc
        ci    r1, >002f
        jlt   __l_1473
        jeq   __l_1473
__l_1486:
        mov   @>0006(r9), r1            ; iloc
        ci    r1, >0038
        jgt   __l_1473
        jeq   __l_1473
__l_1483:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        clr   @>0008(r10)
        mov   r9, r1
        ai    r1, >fff4                 ; k
        mov   r1, @>0006(r10)
        mov   r9, r1
        ai    r1, >0006                 ; iloc
        mov   r1, @>0004(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0002(r10)
        mov   @>0012(r9), *r10          ; bit2 
        bl    @__far_call_1
        data  >6006
        data  bittrim
__l_1473:
        mov   @>fd64, r1                ; turn
        jne   __l_1492
__l_1494:
        mov   @>fff6(r9), r1            ; offset
        ci    r1, >0100
        jlt   __l_1492
__l_1493:
        mov   @>fff6(r9), r1            ; offset
        ci    r1, >0138
        jgt   __l_1492
        jmp   __l_1489
__l_1492:
        mov   @>fd64, r1                ; turn
        ci    r1, >0001
        jeq   __l_1499
        b     @__l_1520
__l_1499:
        mov   @>fff6(r9), r1            ; offset
        ci    r1, >00c0
        jlt   __l_1501
        jmp   __l_1498
__l_1501:
        b     @__l_1520
__l_1498:
        mov   @>fff6(r9), r1            ; offset
        ci    r1, >00f8
        jgt   __l_1502
        jmp   __l_1489
__l_1502:
        b     @__l_1520
__l_1489:
        mov   @>000a(r9), r1            ; lastmove
        jeq   __l_1503
        b     @__l_1520
__l_1503:
        mov   @>000e(r9), r1            ; lastmove
        s     @>000c(r9), r1            ; lastmove 
        abs   r1
        ci    r1, >0010
        jeq   __l_1507
        b     @__l_1520
__l_1507:
        mov   @>fd64, r1                ; turn
        jne   __l_1512
__l_1511:
        li    r1, >05c0
        mov   @>000c(r9), r2            ; lastmove
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        li    r2, >0180
        s     r2, r1
        mov   r1, @>fff8(r9)            ; offset1
        li    r1, >0180
        mov   @>000c(r9), r2            ; lastmove
        li    r3, >0008
        s     r3, r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fffa(r9)            ; offset2
        clr   @>fffc(r9)                ; offset3
        jmp   __l_1513
__l_1512:
        li    r1, >0580
        mov   @>000c(r9), r2            ; lastmove
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        li    r2, >0040
        s     r2, r1
        mov   r1, @>fff8(r9)            ; offset1
        li    r1, >0180
        mov   @>000c(r9), r2            ; lastmove
        ai    r2, >0008
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fffa(r9)            ; offset2
        li    r1, >0030
        mov   r1, @>fffc(r9)            ; offset3
__l_1513:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>fff8(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fffe(r9), @>0002(r10)   ; spage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fffc(r9), @>0006(r10)   ; offset3 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd2                 ; __rettmp_77
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffd2(r9), r1            ; __rettmp_77
        jne   __l_1490
__l_1515:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>fffa(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>0012(r9), @>0004(r10)   ; bit2 
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   @>0012(r9), *r10          ; bit2 
        bl    @__far_call_1
        data  >6006
        data  bitor
        jmp   __l_1520
__l_1490:
        jmp   __l_1520
__l_1466:
        mov   @>0004(r9), r1            ; j
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1523
        sla   r14, 0
__l_1523:
        sra   r1, 3
        li    r2, __set_cnst_40
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1524
        inc   r1
__l_1524:
        ci    r1, >0000
        jeq   __l_1520
__l_1519:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>0008(r9), @>0006(r10)   ; sideoffset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>0012(r9), @>0004(r10)   ; bit2 
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   @>0012(r9), *r10          ; bit2 
        bl    @__far_call_1
        data  >6006
        data  bitand
__l_1520:
        mov   @>0004(r9), r1            ; j
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1529
        sla   r14, 0
__l_1529:
        sra   r1, 3
        li    r2, __set_cnst_41
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1530
        inc   r1
__l_1530:
        ci    r1, >0000
        jne   __l_1525
        b     @__l_1526
__l_1525:
        mov   @>fd64, r1                ; turn
        jne   __l_1532
__l_1531:
        li    r1, >0070
        mov   r1, @>fffc(r9)            ; offset3
        jmp   __l_1533
__l_1532:
        li    r1, >0068
        mov   r1, @>fffc(r9)            ; offset3
__l_1533:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>fffc(r9), @>0006(r10)   ; offset3 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   @>0012(r9), *r10          ; bit2 
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >0001
        mov   r1, @>0008(r10)
        mov   r9, r1
        ai    r1, >0004                 ; j
        mov   r1, @>0006(r10)
        mov   r9, r1
        ai    r1, >0006                 ; iloc
        mov   r1, @>0004(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0002(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bittrim
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>0008(r9), @>0006(r10)   ; sideoffset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>0012(r9), @>0004(r10)   ; bit2 
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   @>0012(r9), *r10          ; bit2 
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        clr   @>0008(r10)
        mov   r9, r1
        ai    r1, >0004                 ; j
        mov   r1, @>0006(r10)
        mov   r9, r1
        ai    r1, >0006                 ; iloc
        mov   r1, @>0004(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0002(r10)
        mov   @>0012(r9), *r10          ; bit2 
        bl    @__far_call_1
        data  >6006
        data  bittrim
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>0012(r9), @>0004(r10)   ; bit2 
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        mov   @>0012(r9), *r10          ; bit2 
        bl    @__far_call_1
        data  >6006
        data  bitand
__l_1526:
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0010
        b     @__far_ret
; jump tables for case statements
__l_1476:
        data  __c_1447
        data  __c_1448

; ; Set Constants
__set_cnst_40:
        text >0000000101000000000000000000000000000000000000000000000000000000
__set_cnst_41:
        text >0100010000010000000000000000000000000000000000000000000000000000

        bank 8, >68a4

; Subroutine: combinetrim_45, level: 2
;   ff6e    -146  __rettmp_82: boolean
;   ff6e    -146  __rettmp_83: boolean
;   0004       4  var bit3: reference to array [subrange (0..3) of int64] of int16
;   0006       6  var bit5: reference to array [subrange (0..3) of int64] of int16
;   0008       8  lastmove: record
;   ff70    -144  i: int16
;   ff72    -142  j: int16
;   ff74    -140  offset: int16
;   ff76    -138  sideoffset: int16
;   ff78    -136  iturn: int16
;   ff7a    -134  posarray: array [subrange (0..64) of int64] of int16
;   fffc      -4  $j: int16
;   fffe      -2  $i: int16

combinetrim_45:
        ai    r10, >ff62
        mov   r10, r12
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0092
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        mov   @>fd64, @>ff78(r9)        ; turn iturn
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >fdca                 ; bitres
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  clearbitboard_7
        li    r1, >0068
        mov   r1, @>ff76(r9)            ; sideoffset
        clr   @>fd64                    ;  turn
        clr   @>ff70(r9)                ; i
        li    r1, >0005
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_1539
__l_1538:
        inc   @>ff70(r9)                ; i
__l_1539:
        clr   r1
        mov   @>ff70(r9), r2            ; i
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff74(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff74(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff6e                 ; __rettmp_82
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ff6e(r9), r1            ; __rettmp_82
        jne   __l_1549
__l_1548:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ff7a                 ; posarray
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitpos
        li    r1, >0001
        mov   r1, @>ff72(r9)            ; j
        mov   @>ff7a(r9), @>fffc(r9)    ; posarray $j
        c     @>ff72(r9), @>fffc(r9)    ; j $j 
        jlt   __l_1536
        jeq   __l_1536
        jmp   __l_1549
__l_1535:
        inc   @>ff72(r9)                ; j
__l_1536:
        ai    r10, >ffee
        mov   @>7ffe, @>0010(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>000e(r10)
        mov   r9, r1
        ai    r1, >0008                 ; lastmove
        mov   r10, r2
        ai    r2, >0006
        li    r3, >0008
__l_1554:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1554
        mov   @>ff76(r9), @>0004(r10)   ; sideoffset 
        mov   r9, r1
        ai    r1, >ff7a                 ; posarray
        mov   @>ff72(r9), r2            ; j
        sla   r2, 1
        a     r2, r1
        mov   *r1, @>0002(r10)          ;  
        mov   @>ff70(r9), r1            ; i
        li    r2, >0008
        mpy   r1, r2
        mov   r3, *r10                  ;  
        bl    @__far_call_1
        data  >6010
        data  trim_44
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdca                 ; bitres
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        c     @>ff72(r9), @>fffc(r9)    ; j $j 
        jne   __l_1535
__l_1549:
        c     @>ff70(r9), @>fffe(r9)    ; i $i 
        jeq   __l_1557
        b     @__l_1538
__l_1557:
        li    r1, >fdca                 ; bitres
        li    r2, >fdc2                 ; bit7
        li    r3, >0008
__l_1559:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1559
        li    r1, >0070
        mov   r1, @>ff76(r9)            ; sideoffset
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >fdca                 ; bitres
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  clearbitboard_7
        li    r1, >0001
        mov   r1, @>fd64                ;  turn
        clr   @>ff70(r9)                ; i
        li    r1, >0005
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_1545
__l_1544:
        inc   @>ff70(r9)                ; i
__l_1545:
        li    r1, >0030
        mov   @>ff70(r9), r2            ; i
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff74(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff74(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff6e                 ; __rettmp_83
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ff6e(r9), r1            ; __rettmp_83
        jne   __l_1561
__l_1560:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ff7a                 ; posarray
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitpos
        li    r1, >0001
        mov   r1, @>ff72(r9)            ; j
        mov   @>ff7a(r9), @>fffc(r9)    ; posarray $j
        c     @>ff72(r9), @>fffc(r9)    ; j $j 
        jlt   __l_1542
        jeq   __l_1542
        jmp   __l_1561
__l_1541:
        inc   @>ff72(r9)                ; j
__l_1542:
        ai    r10, >ffee
        mov   @>7ffe, @>0010(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>000e(r10)
        mov   r9, r1
        ai    r1, >0008                 ; lastmove
        mov   r10, r2
        ai    r2, >0006
        li    r3, >0008
__l_1566:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1566
        mov   @>ff76(r9), @>0004(r10)   ; sideoffset 
        mov   r9, r1
        ai    r1, >ff7a                 ; posarray
        mov   @>ff72(r9), r2            ; j
        sla   r2, 1
        a     r2, r1
        mov   *r1, @>0002(r10)          ;  
        mov   @>ff70(r9), r1            ; i
        li    r2, >0008
        mpy   r1, r2
        mov   r3, *r10                  ;  
        bl    @__far_call_1
        data  >6010
        data  trim_44
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdca                 ; bitres
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        c     @>ff72(r9), @>fffc(r9)    ; j $j 
        jne   __l_1541
__l_1561:
        c     @>ff70(r9), @>fffe(r9)    ; i $i 
        jeq   __l_1569
        b     @__l_1544
__l_1569:
        li    r1, >fdca                 ; bitres
        mov   @>0006(r9), r2            ; bit5
        li    r3, >0008
__l_1571:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1571
        li    r1, >fdc2                 ; bit7
        mov   @>0004(r9), r2            ; bit3
        li    r3, >0008
__l_1572:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1572
        mov   @>ff78(r9), @>fd64        ; iturn  turn
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >000c
        b     @__far_ret

        bank 8, >6c08

; Subroutine: printgame_46, level: 2
;   f9ca   -1590  __rettmp_235: string [14]
;   f9ca   -1590  __rettmp_236: string [255]
;   f9ca   -1590  __rettmp_237: string [23]
;   f9ca   -1590  __rettmp_238: string [20]
;   f9ca   -1590  __rettmp_239: string [255]
;   f9ca   -1590  __rettmp_240: string [11]
;   f9ca   -1590  __rettmp_241: string [14]
;   f9ca   -1590  __rettmp_242: string [14]
;   f9ca   -1590  __rettmp_243: string [13]
;   f9ca   -1590  __rettmp_244: string [13]
;   f9ca   -1590  __rettmp_245: string [10]
;   f9ca   -1590  __rettmp_246: string [6]
;   f9ca   -1590  __rettmp_247: string [5]
;   f9ca   -1590  __rettmp_248: string [2]
;   f9cd   -1587  __rettmp_249: string [2]
;   f9ca   -1590  __rettmp_250: string [15]
;   faca   -1334  pturn: int16
;   facc   -1332  offset: int16
;   face   -1330  pcname: array [subrange (0..40) of int64] of char
;   faf7   -1289  status: boolean
;   faf8   -1288  movestore: record
;   fb00   -1280  rdir: string [255]
;   fc00   -1024  ilocstring: string [255]
;   fd00    -768  elocstring: string [255]
;   fe00    -512  gdate: string [255]
;   ff00    -256  pname: string [255]

printgame_46:
        ai    r10, >f9be
        mov   r10, r12
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0636
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, __str_cnst_42
        mov   r9, r2
        ai    r2, >fb00                 ; rdir
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_1576
        mov   r0, r3
__l_1576:
        movb  r3, *r2+
        jeq   __l_1577
        srl   r3, 8
__l_1578:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1578
__l_1577:
        li    r1, >0050
        movb  @>8303, @>face(r9)        ; pcname
        li    r1, >0052
        movb  @>8303, @>fad6(r9)        ; pcname
        li    r1, >004e
        movb  @>8303, @>fade(r9)        ; pcname
        li    r1, >0042
        movb  @>8303, @>fae6(r9)        ; pcname
        li    r1, >0051
        movb  @>8303, @>faee(r9)        ; pcname
        li    r1, >004b
        movb  @>8303, @>faf6(r9)        ; pcname
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000a
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_43
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_235
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_235
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000b
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >ff62                 ; input
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_236
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_string_74
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_236
        mov   r9, r2
        ai    r2, >ff00                 ; pname
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_1579
        mov   r0, r3
__l_1579:
        movb  r3, *r2+
        jeq   __l_1580
        srl   r3, 8
__l_1581:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1581
__l_1580:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff62                 ; input
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_lf_75
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000a
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_44
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_237
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_237
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000b
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_45
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_238
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_238
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000b
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >ff62                 ; input
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_239
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_string_74
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_239
        mov   r9, r2
        ai    r2, >fe00                 ; gdate
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_1582
        mov   r0, r3
__l_1582:
        movb  r3, *r2+
        jeq   __l_1583
        srl   r3, 8
__l_1584:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1584
__l_1583:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff62                 ; input
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_lf_75
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000c
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_46
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_240
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_240
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        li    r1, >0380
        mov   r1, @>facc(r9)            ; offset
        li    r1, >0016
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        li    r1, >0001
        mov   r1, @>faca(r9)            ; pturn
        movb  @>faf7(r9), r1            ; status
        jne   __l_1586
__l_1585:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000c
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_47
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_241
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_241
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        b     @__l_1607
__l_1586:
        li    r1, __str_cnst_48
        mov   r9, r2
        ai    r2, >fc00                 ; ilocstring
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_1589
        mov   r0, r3
__l_1589:
        movb  r3, *r2+
        jeq   __l_1590
        srl   r3, 8
__l_1591:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1591
__l_1590:
        li    r1, __str_cnst_48
        mov   r9, r2
        ai    r2, >fd00                 ; elocstring
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_1592
        mov   r0, r3
__l_1592:
        movb  r3, *r2+
        jeq   __l_1593
        srl   r3, 8
__l_1594:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1594
__l_1593:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_49
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_242
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_242
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        mov   @>fd7c, r1                ; humanside
        jne   __l_1596
__l_1595:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_50
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_243
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_243
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        jmp   __l_1597
__l_1596:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_51
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_244
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_244
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
__l_1597:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_52
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_245
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_245
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   r9, r1
        ai    r1, >ff00                 ; pname
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_53
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_246
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_246
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   r9, r1
        ai    r1, >fe00                 ; gdate
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_54
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_247
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_247
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fd74, @>0002(r10)       ; gameply 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
__l_1574:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >faf8                 ; movestore
        mov   r1, @>0008(r10)
        mov   @>facc(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>faf8(r9), r1            ; movestore
        ci    r1, >0063
        jne   __l_1600
        b     @l_1_1573
__l_1600:
        li    r1, >0041
        li    r2, >0008
        mov   @>fafa(r9), r4            ; movestore
        clr   r3
        div   r2, r3
        a     r4, r1                    ;  
        movb  @>8303, @>fc01(r9)        ; ilocstring
        li    r1, >0031
        li    r2, >0008
        mov   @>fafa(r9), r4            ; movestore
        clr   r3
        div   r2, r3
        a     r3, r1                    ;  
        movb  @>8303, @>fc02(r9)        ; ilocstring
        li    r1, >0041
        li    r2, >0008
        mov   @>fafc(r9), r4            ; movestore
        clr   r3
        div   r2, r3
        a     r4, r1                    ;  
        movb  @>8303, @>fd01(r9)        ; elocstring
        li    r1, >0031
        li    r2, >0008
        mov   @>fafc(r9), r4            ; movestore
        clr   r3
        div   r2, r3
        a     r3, r1                    ;  
        movb  @>8303, @>fd02(r9)        ; elocstring
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>faca(r9), @>0002(r10)   ; pturn 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_55
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_248
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_248
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   r9, r1
        ai    r1, >face                 ; pcname
        a     @>faf8(r9), r1            ; movestore 
        movb  *r1, @>0002(r10)          ;  
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >5d00
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   r9, r1
        ai    r1, >fc00                 ; ilocstring
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >2d00
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   r9, r1
        ai    r1, >fd00                 ; elocstring
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_48
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9cd                 ; __rettmp_249
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >f9cd                 ; __rettmp_249
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        mov   @>facc(r9), r1            ; offset
        ai    r1, >0008
        mov   r1, @>facc(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >faf8                 ; movestore
        mov   r1, @>0008(r10)
        mov   @>facc(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>faf8(r9), r1            ; movestore
        ci    r1, >0063
        jne   __l_1604
        b     @l_1_1573
__l_1604:
        li    r1, >0041
        li    r2, >0008
        mov   @>fafa(r9), r4            ; movestore
        clr   r3
        div   r2, r3
        a     r4, r1                    ;  
        movb  @>8303, @>fc01(r9)        ; ilocstring
        li    r1, >0031
        li    r2, >0008
        mov   @>fafa(r9), r4            ; movestore
        clr   r3
        div   r2, r3
        a     r3, r1                    ;  
        movb  @>8303, @>fc02(r9)        ; ilocstring
        li    r1, >0041
        li    r2, >0008
        mov   @>fafc(r9), r4            ; movestore
        clr   r3
        div   r2, r3
        a     r4, r1                    ;  
        movb  @>8303, @>fd01(r9)        ; elocstring
        li    r1, >0031
        li    r2, >0008
        mov   @>fafc(r9), r4            ; movestore
        clr   r3
        div   r2, r3
        a     r3, r1                    ;  
        movb  @>8303, @>fd02(r9)        ; elocstring
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   r9, r1
        ai    r1, >face                 ; pcname
        a     @>faf8(r9), r1            ; movestore 
        movb  *r1, @>0002(r10)          ;  
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >5d00
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   r9, r1
        ai    r1, >fc00                 ; ilocstring
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >2d00
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   r9, r1
        ai    r1, >fd00                 ; elocstring
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        mov   @>facc(r9), r1            ; offset
        ai    r1, >0008
        mov   r1, @>facc(r9)            ; offset
        mov   @>faca(r9), r1            ; pturn
        inc   r1
        mov   r1, @>faca(r9)            ; pturn
l_1_1573:
        mov   @>faf8(r9), r1            ; movestore
        ci    r1, >0063
        jeq   __l_1607
        b     @__l_1574
__l_1607:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000c
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_56
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_250
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >f9ca                 ; __rettmp_250
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

__str_cnst_42 text >0b504f3d5052494e5445523a    ; PO=PRINTER:
__str_cnst_43 text >0e6f70706f6e656e74206e616d653a    ; opponent name:
__str_cnst_44 text >17646174653a202020202020202020202020202020202020    ; date:                  
__str_cnst_45 text >142020202020202020202020202020202020202020    ;                     
__str_cnst_46 text >0b7072696e74696e672e2e2e    ; printing...
__str_cnst_47 text >0e7072696e746572206572726f7221    ; printer error!
__str_cnst_48 text >022020    ;   
__str_cnst_49 text >0e50686f656e697820436865737320    ; Phoenix Chess 
__str_cnst_50 text >0d706c6179696e6720626c61636b    ; playing black
__str_cnst_51 text >0d706c6179696e67207768697465    ; playing white
__str_cnst_52 text >0a4f70706f6e656e743a20    ; Opponent: 
__str_cnst_53 text >06446174653a20    ; Date: 
__str_cnst_54 text >05506c793a20    ; Ply: 
__str_cnst_55 text >023a20    ; : 
__str_cnst_56 text >0f202020202020202020202020202020    ;                
        even 

        bank 8, >77f4

; Subroutine: boarddisplay_47, level: 2
;   ff68    -152  __rettmp_258: boolean
;   ff6a    -150  i: int16
;   ff6c    -148  j: int16
;   ff6e    -146  x: int16
;   ff70    -144  y: int16
;   ff72    -142  side: int16
;   ff74    -140  offset: int16
;   ff76    -138  offset1: int16
;   ff78    -136  ploc: int16
;   ff7a    -134  posarray: array [subrange (0..64) of int64] of int16
;   fffc      -4  $i: int16
;   fffe      -2  $side: int16

boarddisplay_47:
        ai    r10, >ff5c
        mov   r10, r12
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0098
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6014
        data  newboard_50
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        clr   @>ff72(r9)                ; side
        li    r1, >0001
        mov   r1, @>fffe(r9)            ; $side
        jmp   __l_1620
__l_1619:
        inc   @>ff72(r9)                ; side
__l_1620:
        mov   @>ff72(r9), r1            ; side
        jne   __l_1624
__l_1623:
        clr   @>ff74(r9)                ; offset
        jmp   __l_1625
__l_1624:
        li    r1, >0030
        mov   r1, @>ff74(r9)            ; offset
__l_1625:
        clr   @>ff6c(r9)                ; j
__l_1609:
        mov   @>ff74(r9), r1            ; offset
        li    r2, >0008
        mov   @>ff6c(r9), r4            ; j
        clr   r3
        div   r2, r3
        mov   r3, r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff76(r9)            ; offset1
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff76(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff68                 ; __rettmp_258
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ff68(r9), r1            ; __rettmp_258
        jeq   __l_1627
        b     @__l_1628
__l_1627:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ff7a                 ; posarray
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitpos
        li    r1, >0001
        mov   r1, @>ff6a(r9)            ; i
        mov   @>ff7a(r9), @>fffc(r9)    ; posarray $i
        c     @>ff6a(r9), @>fffc(r9)    ; i $i 
        jlt   __l_1617
        jeq   __l_1617
        b     @__l_1628
__l_1616:
        inc   @>ff6a(r9)                ; i
__l_1617:
        mov   r9, r1
        ai    r1, >ff7a                 ; posarray
        mov   @>ff6a(r9), r2            ; i
        sla   r2, 1
        a     r2, r1
        mov   *r1, @>ff78(r9)           ;  ploc
        li    r1, >000b
        li    r2, >0008
        mov   @>ff78(r9), r4            ; ploc
        clr   r3
        div   r2, r3
        s     r3, r1                    ;  
        mov   r1, @>ff70(r9)            ; y
        li    r1, >0008
        mov   @>ff78(r9), r3            ; ploc
        clr   r2
        div   r1, r2
        mov   r3, r1
        li    r2, >0002
        mpy   r1, r2
        mov   r3, r1
        inct  r1
        mov   r1, @>ff6e(r9)            ; x
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>ff70(r9), @>0002(r10)   ; y 
        mov   @>ff6e(r9), *r10          ; x 
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        mov   @>ff6c(r9), r1            ; j
; no-opt
        jeq   __c_1610
        ai    r1, >fff8
        jeq   __c_1611
        ai    r1, >fff8
        jeq   __c_1612
        ai    r1, >fff8
        jeq   __c_1613
        ai    r1, >fff8
        jne   __l_1638
        b     @__c_1614
__l_1638:
        ai    r1, >fff8
        jne   __l_1639
        b     @__c_1615
__l_1639:
        b     @__l_1633
__c_1610:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0050
        mov   @>ff72(r9), r2            ; side
        li    r3, >0020
        mpy   r2, r3
        a     r4, r1                    ;  
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        b     @__l_1633
__c_1611:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0052
        mov   @>ff72(r9), r2            ; side
        li    r3, >0020
        mpy   r2, r3
        a     r4, r1                    ;  
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        b     @__l_1633
__c_1612:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >004e
        mov   @>ff72(r9), r2            ; side
        li    r3, >0020
        mpy   r2, r3
        a     r4, r1                    ;  
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        jmp   __l_1633
__c_1613:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0042
        mov   @>ff72(r9), r2            ; side
        li    r3, >0020
        mpy   r2, r3
        a     r4, r1                    ;  
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        jmp   __l_1633
__c_1614:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0051
        mov   @>ff72(r9), r2            ; side
        li    r3, >0020
        mpy   r2, r3
        a     r4, r1                    ;  
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        jmp   __l_1633
__c_1615:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >004b
        mov   @>ff72(r9), r2            ; side
        li    r3, >0020
        mpy   r2, r3
        a     r4, r1                    ;  
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
__l_1633:
        c     @>ff6a(r9), @>fffc(r9)    ; i $i 
        jeq   __l_1628
        b     @__l_1616
__l_1628:
        mov   @>ff6c(r9), r1            ; j
        ai    r1, >0008
        mov   r1, @>ff6c(r9)            ; j
        ci    r1, >0028
        jgt   __l_1642
        b     @__l_1609
__l_1642:
        c     @>ff72(r9), @>fffe(r9)    ; side $side 
        jeq   __l_1644
        b     @__l_1619
__l_1644:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000e
        mov   r1, @>0002(r10)
        clr   *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

        bank 9, >6060

; Subroutine: enterpos_48, level: 2
;   fec0    -320  __rettmp_260: string [29]
;   fec0    -320  __rettmp_261: string [13]
;   fec0    -320  __rettmp_262: int16
;   fec0    -320  __rettmp_263: set of int64
;   fee0    -288  __rettmp_264: boolean
;   fec0    -320  __rettmp_265: string [22]
;   fec0    -320  __rettmp_266: string [22]
;   fec0    -320  __rettmp_267: string [35]
;   fec0    -320  __rettmp_268: int16
;   fec0    -320  __rettmp_269: set of int64
;   fee0    -288  __rettmp_270: boolean
;   fec0    -320  __rettmp_271: string [4]
;   fec5    -315  __rettmp_272: string [13]
;   fec0    -320  __rettmp_273: string [31]
;   fec0    -320  __rettmp_274: string [23]
;   fec0    -320  __rettmp_275: string [36]
;   fec0    -320  __rettmp_276: int16
;   fec0    -320  __rettmp_277: set of int64
;   fee0    -288  __rettmp_278: boolean
;   fec0    -320  __rettmp_279: int16
;   fec0    -320  __rettmp_280: set of int64
;   fee0    -288  __rettmp_281: boolean
;   fec0    -320  __rettmp_282: string [31]
;   fec0    -320  __rettmp_283: int16
;   fec0    -320  __rettmp_284: set of int64
;   fee0    -288  __rettmp_285: boolean
;   fec0    -320  __rettmp_286: string [27]
;   fec0    -320  __rettmp_287: int16
;   fec0    -320  __rettmp_288: set of int64
;   fee0    -288  __rettmp_289: boolean
;   fec0    -320  __rettmp_290: boolean
;   fec0    -320  __rettmp_291: boolean
;   fec0    -320  __rettmp_292: string [27]
;   fec0    -320  __rettmp_293: int16
;   fec0    -320  __rettmp_294: set of int64
;   fee0    -288  __rettmp_295: boolean
;   fec0    -320  __rettmp_296: boolean
;   fec0    -320  __rettmp_297: boolean
;   fec0    -320  __rettmp_298: string [30]
;   fec0    -320  __rettmp_299: int16
;   fec0    -320  __rettmp_300: set of int64
;   fee0    -288  __rettmp_301: boolean
;   fec0    -320  __rettmp_302: string [21]
;   fec0    -320  __rettmp_303: string [21]
;   fec0    -320  __rettmp_304: int16
;   fec0    -320  __rettmp_305: string [19]
;   fec0    -320  __rettmp_306: int16
;   fee6    -282  x: int16
;   fee8    -280  y: int16
;   feea    -278  orgx: int16
;   feec    -276  orgy: int16
;   feee    -274  row: int16
;   fef0    -272  column: int16
;   fef2    -270  sidekey: int16
;   fef4    -268  piecekey: int16
;   fef6    -266  offset: int16
;   fef8    -264  offset1: int16
;   fefa    -262  offset2: int16
;   fefc    -260  ans: int16
;   fefe    -258  ploc: int16
;   ff00    -256  pname: string [255]

enterpos_48:
        ai    r10, >feb4
        mov   r10, r12
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0140
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6014
        data  newboard_50
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        li    r1, >0002
        mov   r1, @>feea(r9)            ; orgx
        li    r1, >000b
        mov   r1, @>feec(r9)            ; orgy
        clr   @>fef6(r9)                ; offset
__l_1647:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  clearbitboard_7
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fef6(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fef6(r9), r1            ; offset
        ai    r1, >0008
        mov   r1, @>fef6(r9)            ; offset
        ci    r1, >0028
        jlt   __l_1647
        jeq   __l_1647
__l_1665:
        li    r1, >0030
        mov   r1, @>fef6(r9)            ; offset
__l_1648:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  clearbitboard_7
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fef6(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fef6(r9), r1            ; offset
        ai    r1, >0008
        mov   r1, @>fef6(r9)            ; offset
        ci    r1, >0058
        jlt   __l_1648
        jeq   __l_1648
__l_1667:
        li    r1, >0068
        mov   r1, @>fef6(r9)            ; offset
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  clearbitboard_7
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fef6(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0070
        mov   r1, @>fef6(r9)            ; offset
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  clearbitboard_7
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fef6(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0060
        mov   r1, @>fef6(r9)            ; offset
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  clearbitboard_7
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fef6(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000e
        mov   r1, @>0002(r10)
        clr   *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
__l_1649:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_57
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_260
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_260
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_58
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_261
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_261
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_1650:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_262
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>fec0(r9), @>fef2(r9)    ; __rettmp_262 sidekey
        mov   @>fef2(r9), r1            ; sidekey
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1671
        sla   r14, 0
__l_1671:
        sra   r1, 3
        li    r2, __set_cnst_59
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1672
        inc   r1
__l_1672:
        ci    r1, >0000
        jeq   __l_1650
__l_1669:
        mov   @>fef2(r9), r1            ; sidekey
        ci    r1, >0051
        jne   __l_1673
        b     @__l_1674
__l_1673:
        mov   @>fef2(r9), r1            ; sidekey
        ci    r1, >0057
        jne   __l_1678
__l_1677:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_60
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_265
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_265
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        jmp   __l_1679
__l_1678:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_61
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_266
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_266
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
__l_1679:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_62
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_267
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_267
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
__l_1651:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_268
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>fec0(r9), @>fef4(r9)    ; __rettmp_268 piecekey
        mov   @>fef4(r9), r1            ; piecekey
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1683
        sla   r14, 0
__l_1683:
        sra   r1, 3
        li    r2, __set_cnst_63
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1684
        inc   r1
__l_1684:
        ci    r1, >0000
        jeq   __l_1651
__l_1681:
        mov   @>fef4(r9), r1            ; piecekey
        ai    r1, >ffbe
; no-opt
        ci    r1, >0010
        jle   __l_1687
        b     @__l_1685
__l_1687:
        sla   r1, 1
        ai    r1, __l_1688
        mov   *r1, r1
        b     *r1
__c_1652:
        mov   @>fef2(r9), r1            ; sidekey
        ci    r1, >0057
        jne   __l_1690
__l_1689:
        li    r1, >0018
        mov   r1, @>fef6(r9)            ; offset
        jmp   __l_1691
__l_1690:
        li    r1, >0048
        mov   r1, @>fef6(r9)            ; offset
__l_1691:
        li    r1, __str_cnst_64
        mov   r9, r2
        ai    r2, >ff00                 ; pname
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_1693
        mov   r0, r3
__l_1693:
        movb  r3, *r2+
        jeq   __l_1694
        srl   r3, 8
__l_1695:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1695
__l_1694:
        b     @__l_1685
__c_1653:
        mov   @>fef2(r9), r1            ; sidekey
        ci    r1, >0057
        jne   __l_1697
__l_1696:
        li    r1, >0028
        mov   r1, @>fef6(r9)            ; offset
        jmp   __l_1698
__l_1697:
        li    r1, >0058
        mov   r1, @>fef6(r9)            ; offset
__l_1698:
        li    r1, __str_cnst_65
        mov   r9, r2
        ai    r2, >ff00                 ; pname
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_1700
        mov   r0, r3
__l_1700:
        movb  r3, *r2+
        jeq   __l_1701
        srl   r3, 8
__l_1702:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1702
__l_1701:
        b     @__l_1685
__c_1654:
        mov   @>fef2(r9), r1            ; sidekey
        ci    r1, >0057
        jne   __l_1704
__l_1703:
        li    r1, >0010
        mov   r1, @>fef6(r9)            ; offset
        jmp   __l_1705
__l_1704:
        li    r1, >0040
        mov   r1, @>fef6(r9)            ; offset
__l_1705:
        li    r1, __str_cnst_66
        mov   r9, r2
        ai    r2, >ff00                 ; pname
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_1707
        mov   r0, r3
__l_1707:
        movb  r3, *r2+
        jeq   __l_1685
        srl   r3, 8
__l_1709:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1709
        jmp   __l_1685
__c_1655:
        mov   @>fef2(r9), r1            ; sidekey
        ci    r1, >0057
        jne   __l_1711
__l_1710:
        clr   @>fef6(r9)                ; offset
        jmp   __l_1712
__l_1711:
        li    r1, >0030
        mov   r1, @>fef6(r9)            ; offset
__l_1712:
        li    r1, __str_cnst_67
        mov   r9, r2
        ai    r2, >ff00                 ; pname
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_1714
        mov   r0, r3
__l_1714:
        movb  r3, *r2+
        jeq   __l_1685
        srl   r3, 8
__l_1716:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1716
        jmp   __l_1685
__c_1656:
        mov   @>fef2(r9), r1            ; sidekey
        ci    r1, >0057
        jne   __l_1718
__l_1717:
        li    r1, >0020
        mov   r1, @>fef6(r9)            ; offset
        jmp   __l_1719
__l_1718:
        li    r1, >0050
        mov   r1, @>fef6(r9)            ; offset
__l_1719:
        li    r1, __str_cnst_68
        mov   r9, r2
        ai    r2, >ff00                 ; pname
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_1721
        mov   r0, r3
__l_1721:
        movb  r3, *r2+
        jeq   __l_1685
        srl   r3, 8
__l_1723:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1723
        jmp   __l_1685
__c_1657:
        mov   @>fef2(r9), r1            ; sidekey
        ci    r1, >0057
        jne   __l_1725
__l_1724:
        li    r1, >0008
        mov   r1, @>fef6(r9)            ; offset
        jmp   __l_1726
__l_1725:
        li    r1, >0038
        mov   r1, @>fef6(r9)            ; offset
__l_1726:
        li    r1, __str_cnst_69
        mov   r9, r2
        ai    r2, >ff00                 ; pname
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_1728
        mov   r0, r3
__l_1728:
        movb  r3, *r2+
        jeq   __l_1685
        srl   r3, 8
__l_1730:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1730
__l_1685:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_70
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_271
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_271
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   r9, r1
        ai    r1, >ff00                 ; pname
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_71
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec5                 ; __rettmp_272
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec5                 ; __rettmp_272
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_72
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_273
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_273
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
l_1_1646:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0013
        mov   r1, @>0002(r10)
        clr   *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_73
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_274
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_274
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0014
        mov   r1, @>0002(r10)
        clr   *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_74
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_275
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_275
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0013
        mov   r1, @>0002(r10)
        clr   *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
__l_1658:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_276
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>fec0(r9), @>fef0(r9)    ; __rettmp_276 column
        mov   @>fef0(r9), r1            ; column
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1733
        sla   r14, 0
__l_1733:
        sra   r1, 3
        li    r2, __set_cnst_75
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1734
        inc   r1
__l_1734:
        ci    r1, >0000
        jeq   __l_1658
__l_1731:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fef0(r9), r1            ; column
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
__l_1659:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_279
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>fec0(r9), @>feee(r9)    ; __rettmp_279 row
        mov   @>feee(r9), r1            ; row
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1737
        sla   r14, 0
__l_1737:
        sra   r1, 3
        li    r2, __set_cnst_76
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1738
        inc   r1
__l_1738:
        ci    r1, >0000
        jeq   __l_1659
__l_1735:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>feee(r9), r1            ; row
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_77
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_282
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_282
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_1660:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_283
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>fec0(r9), @>fefc(r9)    ; __rettmp_283 ans
        mov   @>fefc(r9), r1            ; ans
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1741
        sla   r14, 0
__l_1741:
        sra   r1, 3
        li    r2, __set_cnst_78
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1742
        inc   r1
__l_1742:
        ci    r1, >0000
        jeq   __l_1660
__l_1739:
        mov   @>fefc(r9), r1            ; ans
        ci    r1, >0052
        jne   __l_1744
        b     @l_1_1646
__l_1744:
        mov   @>feee(r9), r1            ; row
        li    r2, >0031
        s     r2, r1
        li    r2, >0008
        mpy   r1, r2
        mov   r3, r1
        mov   @>fef0(r9), r2            ; column
        li    r3, >0041
        s     r3, r2
        a     r2, r1
        mov   r1, @>fefe(r9)            ; ploc
        mov   @>fef0(r9), r1            ; column
        li    r2, >0041
        s     r2, r1
        li    r2, >0002
        mpy   r1, r2
        mov   r3, r1
        a     @>feea(r9), r1            ; orgx 
        mov   r1, @>fee6(r9)            ; x
        mov   @>feec(r9), r1            ; orgy
        mov   @>feee(r9), r2            ; row
        li    r3, >0031
        s     r3, r2
        s     r2, r1
        mov   r1, @>fee8(r9)            ; y
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>fee8(r9), @>0002(r10)   ; y 
        mov   @>fee6(r9), *r10          ; x 
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        mov   @>fefc(r9), r1            ; ans
        ci    r1, >0043
        jne   __l_1748
__l_1747:
        mov   @>fef2(r9), r1            ; sidekey
        ci    r1, >0057
        jne   __l_1752
__l_1751:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fef4(r9), r1            ; piecekey
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        b     @__l_1765
__l_1752:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fef4(r9), r1            ; piecekey
        ai    r1, >0020
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        jmp   __l_1765
__l_1748:
        mov   @>feee(r9), r1            ; row
        andi  r1, >0001
        ci    r1, >0000
        jeq   __l_1756
__l_1755:
        mov   @>fef0(r9), r1            ; column
        andi  r1, >0001
        ci    r1, >0000
        jeq   __l_1760
__l_1759:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >3d00
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        jmp   __l_1765
__l_1760:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >2000
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        jmp   __l_1765
__l_1756:
        mov   @>fef0(r9), r1            ; column
        andi  r1, >0001
        ci    r1, >0000
        jeq   __l_1764
__l_1763:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >2000
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        jmp   __l_1765
__l_1764:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >3d00
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
__l_1765:
        li    r1, >0180
        mov   @>fefe(r9), r2            ; ploc
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>fef8(r9)            ; offset1
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fef6(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fef8(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0060
        mov   r1, @>fef8(r9)            ; offset1
        mov   @>fef2(r9), r1            ; sidekey
        ci    r1, >0057
        jne   __l_1768
__l_1767:
        li    r1, >0068
        mov   r1, @>fefa(r9)            ; offset2
        jmp   __l_1769
__l_1768:
        li    r1, >0070
        mov   r1, @>fefa(r9)            ; offset2
__l_1769:
        mov   @>fefc(r9), r1            ; ans
        ci    r1, >0044
        jeq   __l_1771
        b     @__l_1772
__l_1771:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fef6(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fef8(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fef8(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fefa(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fefa(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        b     @__l_1773
__l_1772:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fef6(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fef8(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fef8(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fefa(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fefa(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
__l_1773:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6014
        data  clearprompts_51
__l_1674:
        mov   @>fef2(r9), r1            ; sidekey
        ci    r1, >0051
        jeq   __l_1775
        b     @__l_1649
__l_1775:
        clr   @>fd6c                    ;  wcastleflag
        clr   @>fd6e                    ;  bcastleflag
        clr   @>fd80                    ;  wlaflag
        clr   @>fd7e                    ;  wraflag
        clr   @>fd84                    ;  blaflag
        clr   @>fd7e                    ;  wraflag
        clr   @>fd88                    ;  wrookrflag
        clr   @>fd86                    ;  wrooklflag
        clr   @>fd8a                    ;  brooklflag
        clr   @>fd8c                    ;  brookrflag
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_79
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_286
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_286
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
__l_1661:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_287
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>fec0(r9), @>fefc(r9)    ; __rettmp_287 ans
        mov   @>fefc(r9), r1            ; ans
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1779
        sla   r14, 0
__l_1779:
        sra   r1, 3
        li    r2, __set_cnst_80
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1780
        inc   r1
__l_1780:
        ci    r1, >0000
        jeq   __l_1661
__l_1777:
        mov   @>fefc(r9), r1            ; ans
        ci    r1, >004e
        jne   __l_1782
__l_1781:
        li    r1, >0001
        mov   r1, @>fd6c                ;  wcastleflag
        b     @__l_1790
__l_1782:
        li    r1, >0008
        mov   r1, @>fef6(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fef6(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0180
        mov   r1, @>fef6(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fef6(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_290
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fec0(r9), r1            ; __rettmp_290
        jeq   __l_1786
__l_1785:
        li    r1, >0001
        mov   r1, @>fd86                ;  wrooklflag
__l_1786:
        li    r1, >01b8
        mov   r1, @>fef6(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fef6(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_291
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fec0(r9), r1            ; __rettmp_291
        jeq   __l_1790
__l_1789:
        li    r1, >0001
        mov   r1, @>fd88                ;  wrookrflag
__l_1790:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_81
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_292
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_292
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
__l_1662:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_293
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>fec0(r9), @>fefc(r9)    ; __rettmp_293 ans
        mov   @>fefc(r9), r1            ; ans
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1795
        sla   r14, 0
__l_1795:
        sra   r1, 3
        li    r2, __set_cnst_82
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1796
        inc   r1
__l_1796:
        ci    r1, >0000
        jeq   __l_1662
__l_1793:
        mov   @>fefc(r9), r1            ; ans
        ci    r1, >004e
        jne   __l_1798
__l_1797:
        li    r1, >0001
        mov   r1, @>fd6e                ;  bcastleflag
        b     @__l_1806
__l_1798:
        li    r1, >0038
        mov   r1, @>fef6(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>fef6(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0340
        mov   r1, @>fef6(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fef6(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_296
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fec0(r9), r1            ; __rettmp_296
        jeq   __l_1802
__l_1801:
        li    r1, >0001
        mov   r1, @>fd8a                ;  brooklflag
__l_1802:
        li    r1, >0378
        mov   r1, @>fef6(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fef6(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_297
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>fec0(r9), r1            ; __rettmp_297
        jeq   __l_1806
__l_1805:
        li    r1, >0001
        mov   r1, @>fd8c                ;  brookrflag
__l_1806:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_83
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_298
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_298
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
__l_1663:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_299
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>fec0(r9), @>fefc(r9)    ; __rettmp_299 ans
        mov   @>fefc(r9), r1            ; ans
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1811
        sla   r14, 0
__l_1811:
        sra   r1, 3
        li    r2, __set_cnst_84
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1812
        inc   r1
__l_1812:
        ci    r1, >0000
        jeq   __l_1663
__l_1809:
        mov   @>fefc(r9), r1            ; ans
        ci    r1, >0057
        jne   __l_1814
__l_1813:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_85
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_302
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_302
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        clr   @>fd64                    ;  turn
        jmp   __l_1815
__l_1814:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_86
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_303
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_303
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        li    r1, >0001
        mov   r1, @>fd64                ;  turn
__l_1815:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_304
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>fec0(r9), @>fefc(r9)    ; __rettmp_304 ans
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_87
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_305
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_305
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >ff62                 ; input
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fec0                 ; __rettmp_306
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_int_73
        mov   @>fec0(r9), @>fd7a        ; __rettmp_306  gamemove
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff62                 ; input
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_lf_75
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret
; jump tables for case statements
__l_1688:
        data  __c_1652
        data  __l_1685
        data  __l_1685
        data  __l_1685
        data  __l_1685
        data  __l_1685
        data  __l_1685
        data  __l_1685
        data  __l_1685
        data  __c_1653
        data  __l_1685
        data  __l_1685
        data  __c_1654
        data  __l_1685
        data  __c_1655
        data  __c_1656
        data  __c_1657

__str_cnst_57 text >1d73656c65637420736964653a205b775d686974652f5b625d626c61636b    ; select side: [w]hite/[b]black
__str_cnst_58 text >0d5b715d20746f20657869742020    ; [q] to exit  
__str_cnst_60 text >162a2a2a2077686974652073656c6563746564202a2a2a    ; *** white selected ***
__str_cnst_61 text >162a2a2a20626c61636b2073656c6563746564202a2a2a    ; *** black selected ***
__str_cnst_62 text >2373656c6563742070696563653a2050202f2052202f204e202f2042202f2051202f204b    ; select piece: P / R / N / B / Q / K
__str_cnst_64 text >06626973686f70    ; bishop
__str_cnst_65 text >046b696e67    ; king
__str_cnst_66 text >066b6e69676874    ; knight
__str_cnst_67 text >047061776e    ; pawn
__str_cnst_68 text >05717565656e    ; queen
__str_cnst_69 text >04726f6f6b    ; rook
__str_cnst_70 text >042a2a2a20    ; *** 
__str_cnst_71 text >0d2073656c6563746564202a2a2a    ;  selected ***
__str_cnst_72 text >1f656e74657220626f61726420737175617265205b636f6c756d6e7c726f775d    ; enter board square [column|row]
__str_cnst_73 text >172020202020202020202020202020202020202020202020    ;                        
__str_cnst_74 text >24202020202020202020202020202020202020202020202020202020202020202020202020    ;                                     
__str_cnst_77 text >1f5b635d6f6e6669726d205b725d65646f205b645d656c657465207069656365    ; [c]onfirm [r]edo [d]elete piece
__str_cnst_79 text >1b616c6c6f7720776869746520636173746c696e673f2028792f6e29    ; allow white castling? (y/n)
__str_cnst_81 text >1b616c6c6f7720626c61636b20636173746c696e673f2028792f6e29    ; allow black castling? (y/n)
__str_cnst_83 text >1e7369646520746f2073746172743f205b775d686974652f5b625d6c61636b    ; side to start? [w]hite/[b]lack
__str_cnst_85 text >152a2a2a20776869746520746f206d6f7665202a2a2a    ; *** white to move ***
__str_cnst_86 text >152a2a2a20626c61636b20746f206d6f7665202a2a2a    ; *** black to move ***
__str_cnst_87 text >13656e746572206d6f7665206e756d6265723a20    ; enter move number: 
        even 

; ; Set Constants
__set_cnst_59:
        text >0000000000000000000400820000000000000000000000000000000000000000
__set_cnst_63:
        text >0000000000000000480401070000000000000000000000000000000000000000
__set_cnst_75:
        text >000000000000000001fe00000000000000000000000000000000000000000000
__set_cnst_76:
        text >00000000000001fe000000000000000000000000000000000000000000000000
__set_cnst_78:
        text >0000000000000000001800040000000000000000000000000000000000000000
__set_cnst_80:
        text >0000000000000000400002000000000000000000000000000000000000000000
__set_cnst_82:
        text >0000000000000000400002000000000000000000000000000000000000000000
__set_cnst_84:
        text >0000000000000000000400800000000000000000000000000000000000000000

        bank 9, >79ec

; Subroutine: movecoord_49, level: 2
;   fde0    -544  __rettmp_307: string [11]
;   fdec    -532  __rettmp_308: string [4]
;   fde0    -544  __rettmp_309: string [8]
;   fde0    -544  __rettmp_310: string [12]
;   fde0    -544  __rettmp_311: string [31]
;   fde0    -544  __rettmp_312: string [3]
;   fde0    -544  __rettmp_313: int16
;   fde2    -542  __rettmp_314: int16
;   fde0    -544  __rettmp_315: string [16]
;   0004       4  score: int16
;   0006       6  iloc: int16
;   0008       8  eloc: int16
;   000a      10  flag: boolean
;   fe00    -512  ilocstring: string [255]
;   ff00    -256  elocstring: string [255]

movecoord_49:
        ai    r10, >fdd4
        mov   r10, r12
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0220
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, __str_cnst_88
        mov   r9, r2
        ai    r2, >fe00                 ; ilocstring
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_1818
        mov   r0, r3
__l_1818:
        movb  r3, *r2+
        jeq   __l_1819
        srl   r3, 8
__l_1820:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1820
__l_1819:
        li    r1, __str_cnst_88
        mov   r9, r2
        ai    r2, >ff00                 ; elocstring
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_1821
        mov   r0, r3
__l_1821:
        movb  r3, *r2+
        jeq   __l_1822
        srl   r3, 8
__l_1823:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1823
__l_1822:
        li    r1, >0041
        li    r2, >0008
        mov   @>0006(r9), r4            ; iloc
        clr   r3
        div   r2, r3
        a     r4, r1                    ;  
        movb  @>8303, @>fe01(r9)        ; ilocstring
        li    r1, >0031
        li    r2, >0008
        mov   @>0006(r9), r4            ; iloc
        clr   r3
        div   r2, r3
        a     r3, r1                    ;  
        movb  @>8303, @>fe02(r9)        ; ilocstring
        li    r1, >0041
        li    r2, >0008
        mov   @>0008(r9), r4            ; eloc
        clr   r3
        div   r2, r3
        a     r4, r1                    ;  
        movb  @>8303, @>ff01(r9)        ; elocstring
        li    r1, >0031
        li    r2, >0008
        mov   @>0008(r9), r4            ; eloc
        clr   r3
        div   r2, r3
        a     r3, r1                    ;  
        movb  @>8303, @>ff02(r9)        ; elocstring
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0004
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_89
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fde0                 ; __rettmp_307
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fde0                 ; __rettmp_307
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   r9, r1
        ai    r1, >fe00                 ; ilocstring
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_90
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fdec                 ; __rettmp_308
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fdec                 ; __rettmp_308
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   r9, r1
        ai    r1, >ff00                 ; elocstring
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        movb  @>000a(r9), r1            ; flag
        jeq   __l_1824
        b     @__l_1825
__l_1824:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0010
        mov   r1, @>0002(r10)
        li    r1, >001e
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_91
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fde0                 ; __rettmp_309
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fde0                 ; __rettmp_309
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0011
        mov   r1, @>0002(r10)
        li    r1, >000f
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_92
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fde0                 ; __rettmp_310
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fde0                 ; __rettmp_310
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0010
        mov   r1, @>0002(r10)
        clr   *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_93
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fde0                 ; __rettmp_311
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fde0                 ; __rettmp_311
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        mov   @>fd8e, r1                ; movenumhi
        jgt   __l_1828
        b     @__l_1829
__l_1828:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fd8e, @>0002(r10)       ; movenumhi 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_94
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fde0                 ; __rettmp_312
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fde0                 ; __rettmp_312
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fde2                 ; __rettmp_314
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  wherey_21
        mov   @>fde2(r9), @>0002(r10)   ; __rettmp_314 
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fde0                 ; __rettmp_313
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  wherex_20
        mov   @>fde0(r9), r1            ; __rettmp_313
        li    r2, >0003
        s     r2, r1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fd90, @>0002(r10)       ; movenumlo 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        jmp   __l_1830
__l_1829:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fd90, @>0002(r10)       ; movenumlo 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
__l_1830:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_95
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fde0                 ; __rettmp_315
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fde0                 ; __rettmp_315
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>0004(r9), @>0002(r10)   ; score 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
__l_1825:
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0008
        b     @__far_ret

__str_cnst_88 text >022020    ;   
__str_cnst_89 text >0b6c617374206d6f76653a20    ; last move: 
__str_cnst_90 text >0420746f20    ;  to 
__str_cnst_91 text >082020202020202020    ;         
__str_cnst_92 text >0c202020202020202020202020    ;             
__str_cnst_93 text >1f6e756d626572206f6620706f736974696f6e73206576616c75617465643a20    ; number of positions evaluated: 
__str_cnst_94 text >03303030    ; 000
__str_cnst_95 text >10706f736974696f6e2073636f72653a20    ; position score: 
        even 

        bank 10, >6060

; Subroutine: newboard_50, level: 2
;   ffe8     -24  __rettmp_251: string [13]
;   ffe8     -24  __rettmp_252: string [6]
;   ffe8     -24  __rettmp_253: string [18]
;   ffe8     -24  __rettmp_254: string [17]
;   ffe8     -24  __rettmp_255: string [17]
;   ffe8     -24  __rettmp_256: string [18]
;   ffe8     -24  __rettmp_257: string [17]
;   fffc      -4  y: int16
;   fffe      -2  row: int16

newboard_50:
        ai    r10, >ffe2
        mov   r10, r12
        mov   r1, *r12+
        ai    r12, >0018
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  clrscr_23
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_96
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffe8                 ; __rettmp_251
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffe8                 ; __rettmp_251
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_97
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffe8                 ; __rettmp_252
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffe8                 ; __rettmp_252
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fd74, @>0002(r10)       ; gameply 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        li    r1, >0004
        mov   r1, @>fffc(r9)            ; y
        li    r1, >0008
        mov   r1, @>fffe(r9)            ; row
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_98
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffe8                 ; __rettmp_253
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffe8                 ; __rettmp_253
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
__l_1832:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>fffc(r9), @>0002(r10)   ; y 
        clr   *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fffe(r9), @>0002(r10)   ; row 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_99
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffe8                 ; __rettmp_254
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffe8                 ; __rettmp_254
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fffe(r9), r1            ; row
        dec   r1
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_100
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffe8                 ; __rettmp_255
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffe8                 ; __rettmp_255
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        mov   @>fffc(r9), r1            ; y
        inct  r1
        mov   r1, @>fffc(r9)            ; y
        mov   @>fffe(r9), r1            ; row
        dect  r1
        mov   r1, @>fffe(r9)            ; row
        mov   @>fffc(r9), r1            ; y
        ci    r1, >000a
        jgt   __l_1834
        b     @__l_1832
__l_1834:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_98
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffe8                 ; __rettmp_256
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffe8                 ; __rettmp_256
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_101
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffe8                 ; __rettmp_257
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffe8                 ; __rettmp_257
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

__str_cnst_96 text >0d50686f656e6978204368657373    ; Phoenix Chess
__str_cnst_97 text >06706c79203a20    ; ply : 
__str_cnst_98 text >122d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d    ; ------------------
__str_cnst_99 text >117c207c3d7c207c3d7c207c3d7c207c3d7c    ; | |=| |=| |=| |=|
__str_cnst_100 text >117c3d7c207c3d7c207c3d7c207c3d7c207c    ; |=| |=| |=| |=| |
__str_cnst_101 text >112020412042204320442045204620472048    ;   A B C D E F G H
        even 

        bank 10, >643c

; Subroutine: clearprompts_51, level: 2
;   ffd6     -42  __rettmp_259: string [36]
;   fffc      -4  y: int16
;   fffe      -2  $y: int16

clearprompts_51:
        ai    r10, >ffd0
        mov   r10, r12
        mov   r1, *r12+
        ai    r12, >002a
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, >000e
        mov   r1, @>fffc(r9)            ; y
        li    r1, >0014
        mov   r1, @>fffe(r9)            ; $y
        jmp   __l_1837
__l_1836:
        inc   @>fffc(r9)                ; y
__l_1837:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>fffc(r9), @>0002(r10)   ; y 
        clr   *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_102
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; __rettmp_259
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffd6                 ; __rettmp_259
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        c     @>fffc(r9), @>fffe(r9)    ; y $y 
        jne   __l_1836
__l_1840:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000e
        mov   r1, @>0002(r10)
        clr   *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

__str_cnst_102 text >24202020202020202020202020202020202020202020202020202020202020202020202020    ;                                     
        even 

        bank 10, >6518

; Subroutine: playermove_52, level: 2
;   ffbe     -66  __rettmp_202: string [10]
;   ffbe     -66  __rettmp_203: string [14]
;   ffbe     -66  __rettmp_204: string [6]
;   ffbe     -66  __rettmp_205: int16
;   ffbe     -66  __rettmp_206: set of int64
;   ffde     -34  __rettmp_207: boolean
;   ffbe     -66  __rettmp_208: int16
;   ffbe     -66  __rettmp_209: set of int64
;   ffde     -34  __rettmp_210: boolean
;   ffbe     -66  __rettmp_211: boolean
;   ffbe     -66  __rettmp_212: string [2]
;   ffbe     -66  __rettmp_213: boolean
;   ffbe     -66  __rettmp_214: string [4]
;   ffbe     -66  __rettmp_215: int16
;   ffbe     -66  __rettmp_216: set of int64
;   ffde     -34  __rettmp_217: boolean
;   ffbe     -66  __rettmp_218: int16
;   ffbe     -66  __rettmp_219: set of int64
;   ffde     -34  __rettmp_220: boolean
;   ffbe     -66  __rettmp_221: boolean
;   ffbe     -66  __rettmp_222: int16
;   ffbe     -66  __rettmp_223: boolean
;   ffbe     -66  __rettmp_224: boolean
;   ffbe     -66  __rettmp_225: boolean
;   ffbe     -66  __rettmp_226: boolean
;   ffbe     -66  __rettmp_227: boolean
;   ffbe     -66  __rettmp_228: boolean
;   ffbe     -66  __rettmp_229: boolean
;   ffbe     -66  __rettmp_230: boolean
;   ffbe     -66  __rettmp_231: boolean
;   ffbe     -66  __rettmp_232: string [2]
;   ffbe     -66  __rettmp_233: boolean
;   ffbe     -66  __rettmp_234: string [2]
;   0004       4  var playmove: reference to record
;   0006       6  lastmove: record
;   000e      14  pturn: int16
;   ffe0     -32  i: int16
;   ffe2     -30  j: int16
;   ffe4     -28  k: int16
;   ffe6     -26  iloc: int16
;   ffe8     -24  eloc: int16
;   ffea     -22  initoffset: int16
;   ffec     -20  offset: int16
;   ffee     -18  offset1: int16
;   fff0     -16  ans: int16
;   fff2     -14  sideoffset: int16
;   fff4     -12  offset2: int16
;   fff6     -10  offset3: int16
;   fff8      -8  offset4: int16
;   fffa      -6  switchstate: int16
;   fffc      -4  validsq: boolean
;   fffd      -3  foundflag: boolean
;   fffe      -2  $i: int16

playermove_52:
        ai    r10, >ffb2
        mov   r10, r12
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0042
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>000e(r9), @>fd64        ; pturn  turn
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        clr   @>ffe0(r9)                ; i
        li    r1, >000e
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_1845
__l_1844:
        inc   @>ffe0(r9)                ; i
__l_1845:
        clr   r1
        mov   @>ffe0(r9), r2            ; i
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ffec(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0f6e
        mov   @>ffe0(r9), r2            ; i
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ffec(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        c     @>ffe0(r9), @>fffe(r9)    ; i $i 
        jne   __l_1844
__l_1859:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0006
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_103
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_202
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_202
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0007
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_104
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_203
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_203
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0007
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        clr   r1
        movb  @>8303, @>fffc(r9)        ; validsq
__l_1847:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0007
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_105
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_204
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_204
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_1848:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_205
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ffbe(r9), @>fff0(r9)    ; __rettmp_205 ans
        mov   @>fff0(r9), r1            ; ans
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1863
        sla   r14, 0
__l_1863:
        sra   r1, 3
        li    r2, __set_cnst_106
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1864
        inc   r1
__l_1864:
        ci    r1, >0000
        jeq   __l_1848
__l_1861:
        mov   @>fff0(r9), r1            ; ans
        ci    r1, >0055
        jne   __l_1866
__l_1865:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fffa                 ; switchstate
        mov   r1, *r10
        bl    @__far_call_1
        data  >6016
        data  utility_53
        mov   @>fffa(r9), r1            ; switchstate
        ci    r1, >0001
        jne   __l_1870
__l_1869:
        c     @>fd7c, @>fd66            ; humanside gameside 
        jeq   __l_1870
        b     @__l_2115
__l_1870:
        mov   @>fd6a, r1                ; piececount
        ci    r1, >ffff
        jne   __l_1878
        b     @__l_2115
__l_1878:
        b     @__l_1859
__l_1866:
        mov   @>fff0(r9), r1            ; ans
        li    r2, >0041
        s     r2, r1
        mov   r1, @>ffe6(r9)            ; iloc
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fff0(r9), r1            ; ans
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
__l_1849:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_208
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ffbe(r9), @>fff0(r9)    ; __rettmp_208 ans
        mov   @>fff0(r9), r1            ; ans
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1883
        sla   r14, 0
__l_1883:
        sra   r1, 3
        li    r2, __set_cnst_107
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1884
        inc   r1
__l_1884:
        ci    r1, >0000
        jeq   __l_1849
__l_1881:
        mov   @>fff0(r9), r1            ; ans
        ci    r1, >0052
        jne   __l_1886
        b     @__l_1859
__l_1886:
        mov   @>ffe6(r9), r1            ; iloc
        mov   @>fff0(r9), r2            ; ans
        li    r3, >0031
        s     r3, r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ffe6(r9)            ; iloc
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fff0(r9), r1            ; ans
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        mov   @>fd64, r1                ; turn
        jne   __l_1890
__l_1889:
        li    r1, >0068
        mov   r1, @>ffec(r9)            ; offset
        mov   r1, @>fff2(r9)            ; sideoffset
        jmp   __l_1891
__l_1890:
        li    r1, >0070
        mov   r1, @>ffec(r9)            ; offset
        mov   r1, @>fff2(r9)            ; sideoffset
__l_1891:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0180
        mov   @>ffe6(r9), r2            ; iloc
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ffec(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_211
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffbe(r9), r1            ; __rettmp_211
        jne   __l_1894
__l_1893:
        li    r1, >0001
        movb  @>8303, @>fffc(r9)        ; validsq
        jmp   __l_1895
__l_1894:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0800
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0800
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
__l_1895:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_108
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_212
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_212
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0800
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0800
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        movb  @>fffc(r9), r1            ; validsq
        srl   r1, 8
        ci    r1, >0001
        jeq   __l_1897
        b     @__l_1847
__l_1897:
        mov   @>ffe6(r9), r1            ; iloc
        mov   @>0004(r9), r2            ; playmove
        mov   r1, @>0002(r2)
        clr   @>ffe0(r9)                ; i
        clr   r1
        movb  @>8303, @>fffd(r9)        ; foundflag
        mov   @>fd64, r1                ; turn
        jne   __l_1900
__l_1899:
        clr   @>ffea(r9)                ; initoffset
        jmp   __l_1901
__l_1900:
        li    r1, >0030
        mov   r1, @>ffea(r9)            ; initoffset
__l_1901:
        mov   @>ffea(r9), r1            ; initoffset
        a     @>ffe0(r9), r1            ; i 
        mov   r1, @>ffec(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_213
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffbe(r9), r1            ; __rettmp_213
        jne   __l_1904
__l_1903:
        li    r1, >0001
        movb  @>8303, @>fffd(r9)        ; foundflag
        mov   @>ffe0(r9), r1            ; i
        mov   @>0004(r9), r2            ; playmove
        mov   r1, *r2
        jmp   __l_1905
__l_1904:
        mov   @>ffe0(r9), r1            ; i
        ai    r1, >0008
        mov   r1, @>ffe0(r9)            ; i
__l_1905:
        movb  @>fffd(r9), r1            ; foundflag
        srl   r1, 8
        ci    r1, >0001
        jne   __l_1901
__l_1907:
        clr   r1
        movb  @>8303, @>fffc(r9)        ; validsq
__l_1851:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0007
        mov   r1, @>0002(r10)
        li    r1, >001e
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_109
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_214
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_214
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_1852:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_215
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ffbe(r9), @>fff0(r9)    ; __rettmp_215 ans
        mov   @>fff0(r9), r1            ; ans
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1911
        sla   r14, 0
__l_1911:
        sra   r1, 3
        li    r2, __set_cnst_110
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1912
        inc   r1
__l_1912:
        ci    r1, >0000
        jeq   __l_1852
__l_1909:
        mov   @>fff0(r9), r1            ; ans
        ci    r1, >0052
        jne   __l_1914
        b     @__l_1859
__l_1914:
        mov   @>fff0(r9), r1            ; ans
        li    r2, >0041
        s     r2, r1
        mov   r1, @>ffe8(r9)            ; eloc
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fff0(r9), r1            ; ans
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
__l_1853:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_218
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ffbe(r9), @>fff0(r9)    ; __rettmp_218 ans
        mov   @>fff0(r9), r1            ; ans
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_1919
        sla   r14, 0
__l_1919:
        sra   r1, 3
        li    r2, __set_cnst_111
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_1920
        inc   r1
__l_1920:
        ci    r1, >0000
        jeq   __l_1853
__l_1917:
        mov   @>fff0(r9), r1            ; ans
        ci    r1, >0052
        jne   __l_1922
        b     @__l_1859
__l_1922:
        mov   @>ffe8(r9), r1            ; eloc
        mov   @>fff0(r9), r2            ; ans
        li    r3, >0031
        s     r3, r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ffe8(r9)            ; eloc
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fff0(r9), r1            ; ans
        swpb  r1
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        li    r1, >0180
        mov   @>ffe8(r9), r2            ; eloc
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ffec(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_221
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffbe(r9), r1            ; __rettmp_221
        jne   __l_1925
        b     @__l_1926
__l_1925:
        mov   @>0004(r9), r1            ; playmove
        mov   *r1, r1
        ci    r1, >0028
        jeq   __l_1932
        b     @__l_1930
__l_1932:
        mov   @>ffe6(r9), r1            ; iloc
        s     @>ffe8(r9), r1            ; eloc 
        abs   r1
        ci    r1, >0002
        jeq   __l_1929
        b     @__l_1930
__l_1929:
        mov   @>fd64, r1                ; turn
        jne   __l_1938
__l_1939:
        mov   @>fd6c, r1                ; wcastleflag
        jeq   __l_1935
__l_1938:
        mov   @>fd64, r1                ; turn
        ci    r1, >0001
        jeq   __l_1942
        b     @__l_1936
__l_1942:
        mov   @>fd6e, r1                ; bcastleflag
        jeq   __l_1935
        b     @__l_1936
__l_1935:
        li    r1, >0060
        mov   r1, @>ffec(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd64, r1                ; turn
        jeq   __l_1945
        b     @__l_1946
__l_1945:
        li    r1, >0f4e
        mov   r1, @>ffee(r9)            ; offset1
        li    r1, >0f56
        mov   r1, @>fff4(r9)            ; offset2
        mov   @>fd7e, r1                ; wraflag
        jne   __l_1950
__l_1952:
        mov   @>fd88, r1                ; wrookrflag
        jne   __l_1950
__l_1949:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>ffee(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_223
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffbe(r9), r1            ; __rettmp_223
        jne   __l_1950
__l_1955:
        li    r1, >0001
        mov   r1, @>fd7e                ;  wraflag
__l_1950:
        mov   @>fd80, r1                ; wlaflag
        jne   __l_1960
__l_1962:
        mov   @>fd86, r1                ; wrooklflag
        jne   __l_1960
__l_1959:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff4(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_224
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffbe(r9), r1            ; __rettmp_224
        jne   __l_1960
__l_1965:
        li    r1, >0001
        mov   r1, @>fd80                ;  wlaflag
__l_1960:
        b     @__l_1936
__l_1946:
        li    r1, >0f5e
        mov   r1, @>ffee(r9)            ; offset1
        li    r1, >0f66
        mov   r1, @>fff4(r9)            ; offset2
        mov   @>fd82, r1                ; braflag
        jne   __l_1970
__l_1972:
        mov   @>fd8c, r1                ; brookrflag
        jne   __l_1970
__l_1969:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>ffee(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_225
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffbe(r9), r1            ; __rettmp_225
        jne   __l_1970
__l_1975:
        li    r1, >0001
        mov   r1, @>fd82                ;  braflag
__l_1970:
        mov   @>fd84, r1                ; blaflag
        jne   __l_1936
__l_1982:
        mov   @>fd8a, r1                ; brooklflag
        jne   __l_1936
__l_1979:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>fff4(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_226
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffbe(r9), r1            ; __rettmp_226
        jne   __l_1936
__l_1985:
        li    r1, >0001
        mov   r1, @>fd84                ;  blaflag
__l_1936:
        mov   @>fd64, r1                ; turn
        jne   __l_1992
__l_1993:
        mov   @>fd6c, r1                ; wcastleflag
        jeq   __l_1989
__l_1992:
        mov   @>fd64, r1                ; turn
        ci    r1, >0001
        jeq   __l_1996
        b     @__l_1990
__l_1996:
        mov   @>fd6e, r1                ; bcastleflag
        jeq   __l_1989
        b     @__l_1990
__l_1989:
        ai    r10, >fff2
        mov   @>7ffe, @>000c(r10)
        mov   r9, r1
        ai    r1, >0006                 ; lastmove
        mov   r10, r2
        ai    r2, >0004
        li    r3, >0008
__l_1999:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_1999
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6010
        data  combinetrim_45
        mov   @>fd64, r1                ; turn
        jeq   __l_2000
        b     @__l_2001
__l_2000:
        li    r1, >0f36
        mov   r1, @>ffee(r9)            ; offset1
        li    r1, >0f2e
        mov   r1, @>fff4(r9)            ; offset2
        mov   @>fd7e, r1                ; wraflag
        jne   __l_2005
__l_2007:
        mov   @>fd88, r1                ; wrookrflag
        jne   __l_2005
__l_2004:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>ffee(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_227
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffbe(r9), r1            ; __rettmp_227
        jne   __l_2005
__l_2010:
        li    r1, >0001
        mov   r1, @>fd7e                ;  wraflag
__l_2005:
        mov   @>fd80, r1                ; wlaflag
        jne   __l_2015
__l_2017:
        mov   @>fd86, r1                ; wrooklflag
        jne   __l_2015
__l_2014:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>fff4(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_228
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffbe(r9), r1            ; __rettmp_228
        jne   __l_2015
__l_2020:
        li    r1, >0001
        mov   r1, @>fd80                ;  wlaflag
__l_2015:
        b     @__l_1990
__l_2001:
        li    r1, >0f46
        mov   r1, @>ffee(r9)            ; offset1
        li    r1, >0f3e
        mov   r1, @>fff4(r9)            ; offset2
        mov   @>fd82, r1                ; braflag
        jne   __l_2025
__l_2027:
        mov   @>fd8c, r1                ; brookrflag
        jne   __l_2025
__l_2024:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>ffee(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_229
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffbe(r9), r1            ; __rettmp_229
        jne   __l_2025
__l_2030:
        li    r1, >0001
        mov   r1, @>fd82                ;  braflag
__l_2025:
        mov   @>fd84, r1                ; blaflag
        jne   __l_1990
__l_2037:
        mov   @>fd8a, r1                ; brooklflag
        jne   __l_1990
__l_2034:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0008(r10)
        mov   @>fff4(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdba                 ; bit6
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_230
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffbe(r9), r1            ; __rettmp_230
        jne   __l_1990
__l_2040:
        li    r1, >0001
        mov   r1, @>fd84                ;  blaflag
__l_1990:
        mov   @>fd64, r1                ; turn
        jne   __l_2045
__l_2047:
        mov   @>fd6c, r1                ; wcastleflag
        jne   __l_2045
__l_2044:
        mov   @>ffe6(r9), r1            ; iloc
        s     @>ffe8(r9), r1            ; eloc 
        ci    r1, >0000
        jlt   __l_2053
        jeq   __l_2053
__l_2055:
        mov   @>fd80, r1                ; wlaflag
        jne   __l_2053
__l_2054:
        mov   @>fd86, r1                ; wrooklflag
        jeq   __l_2050
__l_2053:
        mov   @>ffe6(r9), r1            ; iloc
        s     @>ffe8(r9), r1            ; eloc 
        ci    r1, >0000
        jgt   __l_2065
        jeq   __l_2065
__l_2060:
        mov   @>fd7e, r1                ; wraflag
        jne   __l_2065
__l_2059:
        mov   @>fd88, r1                ; wrookrflag
        jne   __l_2065
__l_2050:
        li    r1, >0001
        movb  @>8303, @>fffc(r9)        ; validsq
        jmp   __l_2065
__l_2045:
        mov   @>fd64, r1                ; turn
        ci    r1, >0001
        jne   __l_2065
__l_2067:
        mov   @>fd6e, r1                ; bcastleflag
        jne   __l_2065
__l_2064:
        mov   @>ffe6(r9), r1            ; iloc
        s     @>ffe8(r9), r1            ; eloc 
        ci    r1, >0000
        jlt   __l_2073
        jeq   __l_2073
__l_2075:
        mov   @>fd84, r1                ; blaflag
        jne   __l_2073
__l_2074:
        mov   @>fd8a, r1                ; brooklflag
        jeq   __l_2070
__l_2073:
        mov   @>ffe6(r9), r1            ; iloc
        s     @>ffe8(r9), r1            ; eloc 
        ci    r1, >0000
        jgt   __l_2065
        jeq   __l_2065
__l_2080:
        mov   @>fd82, r1                ; braflag
        jne   __l_2065
__l_2079:
        mov   @>fd8c, r1                ; brookrflag
        jne   __l_2065
__l_2070:
        li    r1, >0001
        movb  @>8303, @>fffc(r9)        ; validsq
__l_2065:
        b     @__l_1926
__l_1930:
        ai    r10, >ffee
        mov   @>7ffe, @>0010(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>000e(r10)
        mov   r9, r1
        ai    r1, >0006                 ; lastmove
        mov   r10, r2
        ai    r2, >0006
        li    r3, >0008
__l_2084:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_2084
        mov   @>fff2(r9), @>0004(r10)   ; sideoffset 
        mov   @>ffe6(r9), @>0002(r10)   ; iloc 
        mov   @>0004(r9), r1            ; playmove
        mov   *r1, *r10                 ;  
        bl    @__far_call_1
        data  >6010
        data  trim_44
        li    r1, >0180
        mov   @>ffe8(r9), r2            ; eloc
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ffec(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_231
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffbe(r9), r1            ; __rettmp_231
        jne   __l_1926
__l_2085:
        li    r1, >0001
        movb  @>8303, @>fffc(r9)        ; validsq
__l_1926:
        movb  @>fffc(r9), r1            ; validsq
        jeq   __l_2089
        b     @__l_2090
__l_2089:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0800
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0800
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_108
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_232
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_232
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0800
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0800
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
__l_2090:
        movb  @>fffc(r9), r1            ; validsq
        srl   r1, 8
        ci    r1, >0001
        jeq   __l_2093
        b     @__l_1851
__l_2093:
        mov   @>ffe8(r9), r1            ; eloc
        mov   @>0004(r9), r2            ; playmove
        mov   r1, @>0004(r2)
        li    r1, >0180
        mov   @>ffe6(r9), r2            ; iloc
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ffec(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0180
        mov   @>ffe8(r9), r2            ; eloc
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ffec(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        li    r1, >0060
        mov   r1, @>ffec(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd64, r1                ; turn
        jne   __l_2096
__l_2095:
        clr   r1
        mov   @>0004(r9), r2            ; playmove
        a     *r2, r1                   ;  
        mov   r1, @>ffec(r9)            ; offset
        li    r1, >0068
        mov   r1, @>ffee(r9)            ; offset1
        li    r1, >0070
        mov   r1, @>fff4(r9)            ; offset2
        jmp   __l_2097
__l_2096:
        li    r1, >0030
        mov   @>0004(r9), r2            ; playmove
        a     *r2, r1                   ;  
        mov   r1, @>ffec(r9)            ; offset
        li    r1, >0070
        mov   r1, @>ffee(r9)            ; offset1
        li    r1, >0068
        mov   r1, @>fff4(r9)            ; offset2
__l_2097:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>ffee(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitor
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>ffee(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>fff4(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitnot
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>fff4(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        clr   @>ffe0(r9)                ; i
        mov   @>fd64, r1                ; turn
        jne   __l_2100
__l_2099:
        li    r1, >0030
        mov   r1, @>ffec(r9)            ; offset
        jmp   __l_2101
__l_2100:
        clr   @>ffec(r9)                ; offset
__l_2101:
        mov   @>ffec(r9), r1            ; offset
        a     @>ffe0(r9), r1            ; i 
        mov   r1, @>ffee(r9)            ; offset1
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ffee(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ffee(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>ffe0(r9), r1            ; i
        ai    r1, >0008
        mov   r1, @>ffe0(r9)            ; i
        ci    r1, >0028
        jlt   __l_2101
        jeq   __l_2101
__l_2103:
        ai    r10, >fff2
        mov   @>7ffe, @>000c(r10)
        mov   r9, r1
        ai    r1, >0006                 ; lastmove
        mov   r10, r2
        ai    r2, >0004
        li    r3, >0008
__l_2105:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_2105
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, *r10
        bl    @__far_call_1
        data  >6010
        data  combinetrim_45
        mov   @>fd64, r1                ; turn
        jne   __l_2107
__l_2106:
        li    r1, >0028
        mov   r1, @>ffec(r9)            ; offset
        jmp   __l_2108
__l_2107:
        li    r1, >0058
        mov   r1, @>ffec(r9)            ; offset
__l_2108:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>fd64, r1                ; turn
        jne   __l_2111
__l_2110:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        jmp   __l_2112
__l_2111:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
__l_2112:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_233
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ffbe(r9), r1            ; __rettmp_233
        jeq   __l_2114
        b     @__l_2115
__l_2114:
        clr   @>ffe0(r9)                ; i
        li    r1, >000e
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_1856
__l_1855:
        inc   @>ffe0(r9)                ; i
__l_1856:
        li    r1, >0f6e
        mov   @>ffe0(r9), r2            ; i
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ffec(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        clr   r1
        mov   @>ffe0(r9), r2            ; i
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ffec(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ffec(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        c     @>ffe0(r9), @>fffe(r9)    ; i $i 
        jne   __l_1855
__l_2118:
        clr   r1
        movb  @>8303, @>fffc(r9)        ; validsq
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0800
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0800
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_108
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_234
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffbe                 ; __rettmp_234
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0800
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0800
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        b     @__l_1907
__l_2115:
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >000c
        b     @__far_ret

__str_cnst_103 text >0a656e746572206d6f7665    ; enter move
__str_cnst_104 text >0e2020202020202020202020202020    ;               
__str_cnst_105 text >0666726f6d3a20    ; from: 
__str_cnst_108 text >022020    ;   
__str_cnst_109 text >04746f3a20    ; to: 
        even 

; ; Set Constants
__set_cnst_106:
        text >000000000000000001fe00300000000000000000000000000000000000000000
__set_cnst_107:
        text >00000000000001fe000000040000000000000000000000000000000000000000
__set_cnst_110:
        text >000000000000000001fe00040000000000000000000000000000000000000000
__set_cnst_111:
        text >00000000000001fe000000040000000000000000000000000000000000000000

        bank 11, >6060

; Subroutine: utility_53, level: 2
;   ed2e   -4818  __rettmp_162: string [13]
;   ed2e   -4818  __rettmp_163: string [19]
;   ed2e   -4818  __rettmp_164: string [10]
;   ed2e   -4818  __rettmp_165: string [11]
;   ed2e   -4818  __rettmp_166: string [14]
;   ed2e   -4818  __rettmp_167: string [13]
;   ed2e   -4818  __rettmp_168: string [16]
;   ed2e   -4818  __rettmp_169: string [14]
;   ed2e   -4818  __rettmp_170: string [8]
;   ed2e   -4818  __rettmp_171: string [12]
;   ed2e   -4818  __rettmp_172: string [14]
;   ed2e   -4818  __rettmp_173: int16
;   ed2e   -4818  __rettmp_174: set of int64
;   ed4e   -4786  __rettmp_175: boolean
;   ed2e   -4818  __rettmp_176: string [11]
;   ed2e   -4818  __rettmp_177: int16
;   ed2e   -4818  __rettmp_178: string [255]
;   ed2e   -4818  __rettmp_179: int16
;   ed2e   -4818  __rettmp_180: string [10]
;   ed2e   -4818  __rettmp_181: string [12]
;   ed2e   -4818  __rettmp_182: string [18]
;   ed2e   -4818  __rettmp_183: string [11]
;   ed2e   -4818  __rettmp_184: string [11]
;   ed2e   -4818  __rettmp_185: int16
;   ed2e   -4818  __rettmp_186: string [255]
;   ed2e   -4818  __rettmp_187: int16
;   ed2e   -4818  __rettmp_188: string [9]
;   ed2e   -4818  __rettmp_189: string [12]
;   ed2e   -4818  __rettmp_190: string [18]
;   ed2e   -4818  __rettmp_191: string [11]
;   ed2e   -4818  __rettmp_192: string [5]
;   ed2e   -4818  __rettmp_193: int16
;   ed2e   -4818  __rettmp_194: int16
;   ed2e   -4818  __rettmp_195: set of int64
;   ed4e   -4786  __rettmp_196: boolean
;   ed2e   -4818  __rettmp_197: string [6]
;   ed2e   -4818  __rettmp_198: string [15]
;   ed2e   -4818  __rettmp_199: int16
;   ed2e   -4818  __rettmp_200: set of int64
;   ed4e   -4786  __rettmp_201: boolean
;   0004       4  var switch: reference to int16
;   ee2e   -4562  y: int16
;   ee30   -4560  i: int16
;   ee32   -4558  ans: int16
;   ee34   -4556  offset: int16
;   ee36   -4554  storebase: int16
;   ee38   -4552  storeptr: int16
;   ee3a   -4550  tmpptr: int16
;   ee3c   -4548  tmpbase: int16
;   ee3e   -4546  iocheck: int16
;   ee40   -4544  tempgpointer: int16
;   ee42   -4542  utilflag: boolean
;   ee44   -4540  gbuffer: array [subrange (0..67) of int64] of int16
;   eecc   -4404  mbuffer: array [subrange (0..2048) of int64] of int16
;   fece    -306  gname: string [255]
;   ffce     -50  tempstore: record
;   ffd6     -42  gamefile: file of int16
;   fffe      -2  $i: int16

utility_53:
        ai    r10, >ed24
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >12d2
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>fd68, @>ee40(r9)        ; gamepointer tempgpointer
        clr   r1
        movb  @>8303, @>ee42(r9)        ; utilflag
        clr   r1
        mov   @>0004(r9), r2            ; switch
        mov   r1, *r2
        li    r1, >0016
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0002
        mov   r1, @>fd62                ;  datasize
        li    r1, >0fa0
        mov   r1, @>ee34(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ee38                 ; storeptr
        mov   r1, @>0008(r10)
        mov   @>ee34(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0fa2
        mov   r1, @>ee34(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ee36                 ; storebase
        mov   r1, @>0008(r10)
        mov   @>ee34(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>ee38(r9), r1            ; storeptr
        li    r2, >0088
        s     r2, r1
        mov   r1, @>ee3a(r9)            ; tmpptr
        mov   @>ee36(r9), @>ee3c(r9)    ; storebase tmpbase
__l_2122:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0003
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_112
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_162
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_162
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0004
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_113
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_163
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_163
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0005
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_114
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_164
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_164
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0006
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_115
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_165
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_165
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0007
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_116
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_166
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_166
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0008
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_117
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_167
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_167
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0009
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_118
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_168
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_168
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000a
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_119
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_169
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_169
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000b
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_120
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_170
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_170
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000c
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_121
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_171
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_171
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000d
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_122
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_172
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_172
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_2123:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_173
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ed2e(r9), @>ee32(r9)    ; __rettmp_173 ans
        mov   @>ee32(r9), r1            ; ans
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_2154
        sla   r14, 0
__l_2154:
        sra   r1, 3
        li    r2, __set_cnst_123
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_2155
        inc   r1
__l_2155:
        ci    r1, >0000
        jeq   __l_2123
__l_2152:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6016
        data  clearfields_55
        mov   @>ee32(r9), r1            ; ans
; no-opt
        ai    r1, >ffd0
        jne   __l_2157
        b     @__c_2149
__l_2157:
        dec   r1
        jeq   __c_2125
        dec   r1
        jne   __l_2159
        b     @__c_2133
__l_2159:
        dec   r1
        jne   __l_2160
        b     @__c_2141
__l_2160:
        dec   r1
        jne   __l_2161
        b     @__c_2142
__l_2161:
        dec   r1
        jne   __l_2162
        b     @__c_2144
__l_2162:
        dec   r1
        jne   __l_2163
        b     @__c_2143
__l_2163:
        dec   r1
        jne   __l_2164
        b     @__c_2145
__l_2164:
        dec   r1
        jne   __l_2165
        b     @__c_2146
__l_2165:
        dec   r1
        jne   __l_2166
        b     @__c_2148
__l_2166:
        ai    r1, >ffe9
        jeq   __c_2124
        b     @__l_2156
__c_2124:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6010
        data  printgame_46
        b     @__l_2156
__c_2125:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0009
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_124
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_176
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_176
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_177
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ed2e(r9), @>ee32(r9)    ; __rettmp_177 ans
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000a
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >ff62                 ; input
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_178
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_string_74
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_178
        mov   r9, r2
        ai    r2, >fece                 ; gname
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_2168
        mov   r0, r3
__l_2168:
        movb  r3, *r2+
        jeq   __l_2169
        srl   r3, 8
__l_2170:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_2170
__l_2169:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff62                 ; input
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_lf_75
        ai    r10, >fefc
        mov   @>7ffe, @>0102(r10)
        mov   r9, r1
        ai    r1, >fece                 ; gname
        mov   r10, r2
        inct  r2
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_2171
        mov   r0, r3
__l_2171:
        movb  r3, *r2+
        jeq   __l_2172
        srl   r3, 8
__l_2173:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_2173
__l_2172:
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __assign_64
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0002
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __reset_bin_66
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_179
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  ioresult_76
        mov   @>ed2e(r9), @>ee3e(r9)    ; __rettmp_179 iocheck
        mov   @>ee3e(r9), r1            ; iocheck
        jeq   __l_2174
        b     @__l_2175
__l_2174:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000b
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_125
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_180
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_180
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        li    r1, >0016
        mov   r1, @>fd5e                ;  startpage
        li    r1, >1000
        mov   r1, @>fd62                ;  datasize
        clr   @>ee34(r9)                ; offset
        clr   @>ee30(r9)                ; i
        li    r1, >07ff
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_2127
__l_2126:
        inc   @>ee30(r9)                ; i
__l_2127:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >eecc                 ; mbuffer
        mov   @>ee30(r9), r2            ; i
        sla   r2, 1
        a     r2, r1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_bin_typed_69
        c     @>ee30(r9), @>fffe(r9)    ; i $i 
        jne   __l_2126
__l_2178:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >eecc                 ; mbuffer
        mov   r1, @>0008(r10)
        mov   @>ee34(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ee38                 ; storeptr
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_bin_typed_69
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ee36                 ; storebase
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_bin_typed_69
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd74                 ; gameply
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_bin_typed_69
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd66                 ; gameside
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_bin_typed_69
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd68                 ; gamepointer
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_bin_typed_69
        mov   @>fd68, @>ee40(r9)        ; gamepointer tempgpointer
        mov   @>ee38(r9), r1            ; storeptr
        li    r2, >0088
        s     r2, r1
        mov   r1, @>ee3a(r9)            ; tmpptr
        mov   @>ee36(r9), @>ee3c(r9)    ; storebase tmpbase
        li    r1, >0016
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0002
        mov   r1, @>fd62                ;  datasize
        li    r1, >0fa0
        mov   r1, @>ee34(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ee38                 ; storeptr
        mov   r1, @>0008(r10)
        mov   @>ee34(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0fa2
        mov   r1, @>ee34(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ee36                 ; storebase
        mov   r1, @>0008(r10)
        mov   @>ee34(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0018
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0088
        mov   r1, @>fd62                ;  datasize
        clr   @>ee34(r9)                ; offset
__l_2129:
        clr   @>ee30(r9)                ; i
        li    r1, >0043
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_2131
__l_2130:
        inc   @>ee30(r9)                ; i
__l_2131:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ee44                 ; gbuffer
        mov   @>ee30(r9), r2            ; i
        sla   r2, 1
        a     r2, r1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_bin_typed_69
        c     @>ee30(r9), @>fffe(r9)    ; i $i 
        jne   __l_2130
__l_2180:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ee44                 ; gbuffer
        mov   r1, @>0008(r10)
        mov   @>ee34(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>ee34(r9), r1            ; offset
        ai    r1, >0088
        mov   r1, @>ee34(r9)            ; offset
        ci    r1, >0fef
        jlt   __l_2183
        jeq   __l_2183
__l_2182:
        clr   @>ee34(r9)                ; offset
        mov   @>fd5e, r1                ; startpage
        inc   r1
        mov   r1, @>fd5e                ;  startpage
__l_2183:
        c     @>ee34(r9), @>ee38(r9)    ; offset storeptr 
        jne   __l_2129
__l_2187:
        c     @>fd5e, @>ee36(r9)        ; startpage storebase 
        jne   __l_2129
__l_2186:
        mov   @>eebc(r9), @>fd6c        ; gbuffer  wcastleflag
        mov   @>eebe(r9), @>fd6e        ; gbuffer  bcastleflag
        mov   @>eec0(r9), @>fd86        ; gbuffer  wrooklflag
        mov   @>eec2(r9), @>fd88        ; gbuffer  wrookrflag
        mov   @>eec4(r9), @>fd8a        ; gbuffer  brooklflag
        mov   @>eec6(r9), @>fd8c        ; gbuffer  brookrflag
        mov   @>eec8(r9), @>fd72        ; gbuffer  cwarning
        mov   @>eeca(r9), @>fd7a        ; gbuffer  gamemove
        mov   @>ee38(r9), r1            ; storeptr
        jlt   __l_2191
        jeq   __l_2191
__l_2190:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>ee38(r9), r1            ; storeptr
        li    r2, >0088
        s     r2, r1
        mov   r1, @>0002(r10)
        mov   @>ee36(r9), *r10          ; storebase 
        bl    @__far_call_1
        data  >6016
        data  updateboard_54
        jmp   __l_2192
__l_2191:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0f67
        mov   r1, @>0002(r10)
        mov   @>ee36(r9), r1            ; storebase
        dec   r1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6016
        data  updateboard_54
__l_2192:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __close_71
        b     @__l_2176
__l_2175:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000a
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_126
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_181
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_181
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>ee3e(r9), @>0002(r10)   ; iocheck 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff62                 ; input
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_lf_75
__l_2176:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000a
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_127
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_182
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_182
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000b
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_128
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_183
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_183
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        b     @__l_2156
__c_2133:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0009
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_124
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_184
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_184
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_185
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ed2e(r9), @>ee32(r9)    ; __rettmp_185 ans
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000a
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >ff62                 ; input
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_186
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_string_74
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_186
        mov   r9, r2
        ai    r2, >fece                 ; gname
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_2194
        mov   r0, r3
__l_2194:
        movb  r3, *r2+
        jeq   __l_2195
        srl   r3, 8
__l_2196:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_2196
__l_2195:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff62                 ; input
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_lf_75
        ai    r10, >fefc
        mov   @>7ffe, @>0102(r10)
        mov   r9, r1
        ai    r1, >fece                 ; gname
        mov   r10, r2
        inct  r2
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_2197
        mov   r0, r3
__l_2197:
        movb  r3, *r2+
        jeq   __l_2198
        srl   r3, 8
__l_2199:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_2199
__l_2198:
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __assign_64
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0002
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __rewrite_bin_65
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_187
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  ioresult_76
        mov   @>ed2e(r9), @>ee3e(r9)    ; __rettmp_187 iocheck
        mov   @>ee3e(r9), r1            ; iocheck
        jeq   __l_2200
        b     @__l_2201
__l_2200:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000b
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_129
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_188
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_188
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        li    r1, >0016
        mov   r1, @>fd5e                ;  startpage
        li    r1, >1000
        mov   r1, @>fd62                ;  datasize
        clr   @>ee34(r9)                ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >eecc                 ; mbuffer
        mov   r1, @>0008(r10)
        mov   @>ee34(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        clr   @>ee30(r9)                ; i
        li    r1, >07ff
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_2135
__l_2134:
        inc   @>ee30(r9)                ; i
__l_2135:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >eecc                 ; mbuffer
        mov   @>ee30(r9), r2            ; i
        sla   r2, 1
        a     r2, r1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_bin_typed_67
        c     @>ee30(r9), @>fffe(r9)    ; i $i 
        jne   __l_2134
__l_2204:
        li    r1, >0018
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0088
        mov   r1, @>fd62                ;  datasize
        clr   @>ee34(r9)                ; offset
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ee38                 ; storeptr
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_bin_typed_67
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ee36                 ; storebase
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_bin_typed_67
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd74                 ; gameply
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_bin_typed_67
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd66                 ; gameside
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_bin_typed_67
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd68                 ; gamepointer
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_bin_typed_67
__l_2137:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ee44                 ; gbuffer
        mov   r1, @>0008(r10)
        mov   @>ee34(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        clr   @>ee30(r9)                ; i
        li    r1, >0043
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_2139
__l_2138:
        inc   @>ee30(r9)                ; i
__l_2139:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ee44                 ; gbuffer
        mov   @>ee30(r9), r2            ; i
        sla   r2, 1
        a     r2, r1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_bin_typed_67
        c     @>ee30(r9), @>fffe(r9)    ; i $i 
        jne   __l_2138
__l_2206:
        mov   @>ee34(r9), r1            ; offset
        ai    r1, >0088
        mov   r1, @>ee34(r9)            ; offset
        ci    r1, >0fef
        jlt   __l_2209
        jeq   __l_2209
__l_2208:
        mov   @>fd5e, r1                ; startpage
        inc   r1
        mov   r1, @>fd5e                ;  startpage
        clr   @>ee34(r9)                ; offset
__l_2209:
        c     @>ee34(r9), @>ee38(r9)    ; offset storeptr 
        jne   __l_2137
__l_2213:
        c     @>fd5e, @>ee36(r9)        ; startpage storebase 
        jne   __l_2137
__l_2212:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffd6                 ; gamefile
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __close_71
        b     @__l_2202
__l_2201:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000b
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_126
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_189
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_189
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>ee3e(r9), @>0002(r10)   ; iocheck 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff62                 ; input
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_lf_75
__l_2202:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000a
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_127
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_190
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_190
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000b
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_128
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_191
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_191
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        b     @__l_2156
__c_2141:
        mov   @>ee3a(r9), r1            ; tmpptr
        li    r2, >0088
        s     r2, r1
        mov   r1, @>ee3a(r9)            ; tmpptr
        mov   r1, r1                    ; tmpptr
        jgt   __l_2217
        jeq   __l_2217
__l_2216:
        mov   @>ee3c(r9), r1            ; tmpbase
        dec   r1
        mov   r1, @>ee3c(r9)            ; tmpbase
        clr   @>ee3a(r9)                ; tmpptr
__l_2217:
        mov   @>ee3c(r9), r1            ; tmpbase
        ci    r1, >0018
        jgt   __l_2221
        jeq   __l_2221
__l_2220:
        li    r1, >0018
        mov   r1, @>ee3c(r9)            ; tmpbase
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        b     @__l_2156
__l_2221:
        mov   @>ee40(r9), r1            ; tempgpointer
        li    r2, >0010
        s     r2, r1
        mov   r1, @>ee40(r9)            ; tempgpointer
        mov   r1, r1                    ; tempgpointer
        jgt   __l_2225
        jeq   __l_2225
__l_2224:
        clr   @>ee40(r9)                ; tempgpointer
__l_2225:
        li    r1, >0010
        mov   r1, @>fd62                ;  datasize
        mov   @>ee3a(r9), r1            ; tmpptr
        ai    r1, >0078
        mov   r1, @>ee34(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ee44                 ; gbuffer
        mov   r1, @>0008(r10)
        mov   @>ee34(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>ee3c(r9), @>0002(r10)   ; tmpbase 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>ee44(r9), @>fd6c        ; gbuffer  wcastleflag
        mov   @>ee46(r9), @>fd6e        ; gbuffer  bcastleflag
        mov   @>ee48(r9), @>fd86        ; gbuffer  wrooklflag
        mov   @>ee4a(r9), @>fd88        ; gbuffer  wrookrflag
        mov   @>ee4c(r9), @>fd8a        ; gbuffer  brooklflag
        mov   @>ee4e(r9), @>fd8c        ; gbuffer  brookrflag
        mov   @>ee50(r9), @>fd72        ; gbuffer  cwarning
        mov   @>ee52(r9), @>fd7a        ; gbuffer  gamemove
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>ee3a(r9), @>0002(r10)   ; tmpptr 
        mov   @>ee3c(r9), *r10          ; tmpbase 
        bl    @__far_call_1
        data  >6016
        data  updateboard_54
        b     @__l_2156
__c_2142:
        c     @>ee3c(r9), @>ee36(r9)    ; tmpbase storebase 
        jne   __l_2228
__l_2231:
        c     @>ee3c(r9), @>ee36(r9)    ; tmpbase storebase 
        jne   __l_2229
__l_2233:
        mov   @>ee3a(r9), r1            ; tmpptr
        mov   @>ee38(r9), r2            ; storeptr
        li    r3, >0088
        s     r3, r2
        c     r1, r2
        jgt   __l_2229
        jeq   __l_2229
__l_2228:
        mov   @>ee40(r9), r1            ; tempgpointer
        ai    r1, >0010
        mov   r1, @>ee40(r9)            ; tempgpointer
        c     r1, @>fd68                ; gamepointer 
        jlt   __l_2237
        jeq   __l_2237
__l_2236:
        mov   @>fd68, @>ee40(r9)        ; gamepointer tempgpointer
__l_2237:
        mov   @>ee3a(r9), r1            ; tmpptr
        ai    r1, >0088
        mov   r1, @>ee3a(r9)            ; tmpptr
        ci    r1, >0fef
        jlt   __l_2241
        jeq   __l_2241
__l_2240:
        mov   @>ee3c(r9), r1            ; tmpbase
        inc   r1
        mov   r1, @>ee3c(r9)            ; tmpbase
        clr   @>ee3a(r9)                ; tmpptr
        b     @__l_2225
__l_2241:
        b     @__l_2225
__l_2229:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        b     @__l_2156
__c_2143:
        mov   @>fd68, @>ee40(r9)        ; gamepointer tempgpointer
        mov   @>ee38(r9), r1            ; storeptr
        li    r2, >0088
        s     r2, r1
        mov   r1, @>ee3a(r9)            ; tmpptr
        mov   @>ee36(r9), @>ee3c(r9)    ; storebase tmpbase
        b     @__l_2225
__c_2144:
        clr   @>ee40(r9)                ; tempgpointer
        clr   @>ee3a(r9)                ; tmpptr
        li    r1, >0018
        mov   r1, @>ee3c(r9)            ; tmpbase
        b     @__l_2225
__c_2145:
        mov   @>fd7c, r1                ; humanside
        jne   __l_2245
__l_2244:
        li    r1, >0001
        mov   r1, @>fd7c                ;  humanside
        jmp   __l_2246
__l_2245:
        clr   @>fd7c                    ;  humanside
__l_2246:
        li    r1, >0001
        mov   @>0004(r9), r2            ; switch
        mov   r1, *r2
        b     @__c_2148
__c_2146:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6016
        data  clearfields_55
__l_2147:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000a
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_130
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_192
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_192
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_193
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ed2e(r9), @>ee32(r9)    ; __rettmp_193 ans
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >ff62                 ; input
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_194
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_int_73
        mov   @>ed2e(r9), @>fd74        ; __rettmp_194  gameply
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff62                 ; input
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_lf_75
        mov   @>fd74, r1                ; gameply
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_2250
        sla   r14, 0
__l_2250:
        sra   r1, 3
        li    r2, __set_cnst_131
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_2251
        inc   r1
__l_2251:
        ci    r1, >0000
        jne   __l_2248
        b     @__l_2147
__l_2248:
        mov   @>fd74, @>fd70            ; gameply  ply
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        clr   *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_132
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_197
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_197
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fd74, @>0002(r10)       ; gameply 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6016
        data  clearfields_55
        b     @__l_2156
__c_2148:
        mov   @>ee3c(r9), @>ee36(r9)    ; tmpbase storebase
        mov   @>ee3a(r9), r1            ; tmpptr
        ai    r1, >0088
        mov   r1, @>ee38(r9)            ; storeptr
        li    r1, >0016
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0002
        mov   r1, @>fd62                ;  datasize
        li    r1, >0fa0
        mov   r1, @>ee34(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ee38                 ; storeptr
        mov   r1, @>0008(r10)
        mov   @>ee34(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0fa2
        mov   r1, @>ee34(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ee36                 ; storebase
        mov   r1, @>0008(r10)
        mov   @>ee34(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0001
        movb  @>8303, @>ee42(r9)        ; utilflag
        mov   @>fd66, @>fd64            ; gameside  turn
        mov   @>ee40(r9), @>fd68        ; tempgpointer  gamepointer
        li    r1, >0063
        mov   r1, @>ffce(r9)            ; tempstore
        li    r1, >0016
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        li    r1, >0380
        a     @>fd68, r1                ; gamepointer 
        mov   r1, @>ee34(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ffce                 ; tempstore
        mov   r1, @>0008(r10)
        mov   @>ee34(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6016
        data  clearfields_55
        b     @__l_2156
__c_2149:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6016
        data  clearfields_55
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >000a
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_133
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_198
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_198
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_2150:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ed2e                 ; __rettmp_199
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  getkeyint_9
        mov   @>ed2e(r9), @>ee32(r9)    ; __rettmp_199 ans
        mov   @>ee32(r9), r1            ; ans
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_2254
        sla   r14, 0
__l_2254:
        sra   r1, 3
        li    r2, __set_cnst_134
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_2255
        inc   r1
__l_2255:
        ci    r1, >0000
        jeq   __l_2150
__l_2252:
        mov   @>ee32(r9), r1            ; ans
        ci    r1, >0059
        jne   __l_2257
__l_2256:
        seto  @>fd6a                    ;  piececount
        li    r1, >0001
        movb  @>8303, @>ee42(r9)        ; utilflag
__l_2257:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6016
        data  clearfields_55
__l_2156:
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        movb  @>ee42(r9), r1            ; utilflag
        jne   __l_2260
        b     @__l_2122
__l_2260:
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

__str_cnst_112 text >0d5b315d206c6f61642067616d65    ; [1] load game
__str_cnst_113 text >135b325d20736176652067616d65202020202020    ; [2] save game      
__str_cnst_114 text >0a5b335d206261636b7570    ; [3] backup
__str_cnst_115 text >0b5b345d20666f7277617264    ; [4] forward
__str_cnst_116 text >0e5b355d206669727374206d6f7665    ; [5] first move
__str_cnst_117 text >0d5b365d206c617374206d6f7665    ; [6] last move
__str_cnst_118 text >105b375d20737769746368207369646573    ; [7] switch sides
__str_cnst_119 text >0e5b385d206368616e676520706c79    ; [8] change ply
__str_cnst_120 text >085b395d20706c6179    ; [9] play
__str_cnst_121 text >0c5b305d20656e642067616d65    ; [0] end game
__str_cnst_122 text >0e5b505d207072696e742067616d65    ; [P] print game
__str_cnst_124 text >0b66696c65206e616d653a20    ; file name: 
__str_cnst_125 text >0a6c6f6164696e672e2e2e    ; loading...
__str_cnst_126 text >0c66696c65206572726f722023    ; file error #
__str_cnst_127 text >12202020202020202020202020202020202020    ;                   
__str_cnst_128 text >0b2020202020202020202020    ;            
__str_cnst_129 text >09736176696e672e2e2e    ; saving...
__str_cnst_130 text >05706c793a20    ; ply: 
__str_cnst_132 text >06706c79203a20    ; ply : 
__str_cnst_133 text >0f656e642067616d653f205b792f6e5d    ; end game? [y/n]
        even 

; ; Set Constants
__set_cnst_123:
        text >00000000000003ff000000010000000000000000000000000000000000000000
__set_cnst_131:
        text >003c000000000000000000000000000000000000000000000000000000000000
__set_cnst_134:
        text >0000000000000000400002000000000000000000000000000000000000000000

        bank 11, >7a60

; Subroutine: updateboard_54, level: 2
;   ff7a    -134  __rettmp_156: string [11]
;   ff7a    -134  __rettmp_157: string [11]
;   ff7a    -134  __rettmp_158: string [6]
;   ff7a    -134  __rettmp_159: string [6]
;   ff7a    -134  __rettmp_160: string [6]
;   0004       4  gbase: int16
;   0006       6  goffset: int16
;   ff86    -122  offset: int16
;   ff88    -120  buffer: array [subrange (0..59) of int64] of int16

updateboard_54:
        ai    r10, >ff74
        mov   r10, r12
        mov   r1, *r12+
        ai    r12, >0086
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>0004(r9), @>fd5e        ; gbase  startpage
        li    r1, >0078
        mov   r1, @>fd62                ;  datasize
        mov   @>0006(r9), @>ff86(r9)    ; goffset offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff88                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>ff86(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        clr   @>ff86(r9)                ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff88                 ; buffer
        mov   r1, @>0008(r10)
        mov   @>ff86(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0001
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6010
        data  boarddisplay_47
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0002
        mov   r1, @>0002(r10)
        clr   *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        mov   @>fd66, r1                ; gameside
        jne   __l_2264
__l_2263:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_135
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff7a                 ; __rettmp_156
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ff7a                 ; __rettmp_156
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        jmp   __l_2265
__l_2264:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_136
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff7a                 ; __rettmp_157
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ff7a                 ; __rettmp_157
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_2265:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        li    r1, >000a
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_137
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff7a                 ; __rettmp_158
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ff7a                 ; __rettmp_158
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>fd7a, @>0002(r10)       ; gamemove 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_int_61
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0001
        mov   r1, @>0002(r10)
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        mov   @>fd72, r1                ; cwarning
        ci    r1, >0001
        jne   __l_2268
__l_2267:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >0700
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_138
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff7a                 ; __rettmp_159
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ff7a                 ; __rettmp_159
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        jmp   __l_2269
__l_2268:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_139
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff7a                 ; __rettmp_160
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ff7a                 ; __rettmp_160
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_2269:
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

__str_cnst_135 text >0b7475726e3a207768697465    ; turn: white
__str_cnst_136 text >0b7475726e3a20626c61636b    ; turn: black
__str_cnst_137 text >066d6f76653a20    ; move: 
__str_cnst_138 text >06636865636b21    ; check!
__str_cnst_139 text >06202020202020    ;       
        even 

        bank 11, >7d80

; Subroutine: clearfields_55, level: 2
;   ffea     -22  __rettmp_161: string [16]
;   fffc      -4  y: int16
;   fffe      -2  $y: int16

clearfields_55:
        ai    r10, >ffe4
        mov   r10, r12
        mov   r1, *r12+
        ai    r12, >0016
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, >0003
        mov   r1, @>fffc(r9)            ; y
        li    r1, >000d
        mov   r1, @>fffe(r9)            ; $y
        jmp   __l_2272
__l_2271:
        inc   @>fffc(r9)                ; y
__l_2272:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>fffc(r9), @>0002(r10)   ; y 
        li    r1, >0014
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_140
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ffea                 ; __rettmp_161
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >ffea                 ; __rettmp_161
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        c     @>fffc(r9), @>fffe(r9)    ; y $y 
        jne   __l_2271
__l_2275:
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

__str_cnst_140 text >1020202020202020202020202020202020    ;                 
        even 

        bank 12, >6060

; Subroutine: dsrlink_56, level: 2
;   feee    -274  __rettmp_353: int16
;   feee    -274  __rettmp_355: string [255]
;   feee    -274  __rettmp_356: boolean
;   0004       4  var result: reference to boolean
;   0006       6  var pab: reference to record
;   0008       8  pabvdpaddr: int16
;   ffee     -18  cruaddr: int16
;   fff0     -16  len: int16
;   fff2     -14  dsrlist: pointer to record (tstandardheadernode)
;   fff4     -12  completed: boolean
;   fff5     -11  device: string [7]
;   fffe      -2  $cruaddr: int16

dsrlink_56:
        ai    r10, >fee4
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0112
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>0006(r9), r1            ; pab
        ai    r1, >0009                 ; .name
        mov   r1, @>0004(r10)
        li    r1, >2e00
        movb  r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >feee                 ; __rettmp_353
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  pos_78
        mov   @>feee(r9), r1            ; __rettmp_353
        dec   r1
        mov   r1, @>fff0(r9)            ; len
        ci    r1, >ffff
        jne   __l_2285
__l_2284:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>0006(r9), r1            ; pab
        ai    r1, >0009                 ; .name
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fff0                 ; len
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  length_77
__l_2285:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        mov   @>fff0(r9), @>0006(r10)   ; len 
        li    r1, >0001
        mov   r1, @>0004(r10)
        mov   @>0006(r9), r1            ; pab
        ai    r1, >0009                 ; .name
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >feee                 ; __rettmp_355
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  copy_79
        mov   r9, r1
        ai    r1, >feee                 ; __rettmp_355
        mov   r9, r2
        ai    r2, >fff5                 ; device
        li    r0, >0700
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_2288
        mov   r0, r3
__l_2288:
        movb  r3, *r2+
        jeq   __l_2289
        srl   r3, 8
__l_2290:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_2290
__l_2289:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0024
        mov   r1, @>0004(r10)
        mov   @>0008(r9), @>0002(r10)   ; pabvdpaddr 
        mov   @>0006(r9), *r10          ; pab 
        bl    @__far_call_1
        data  >6004
        data  vmbw
        mov   @>0008(r9), r1            ; pabvdpaddr
        ai    r1, >000a
        a     @>fff0(r9), r1            ; len 
        mov   r1, @>8356                ;  memw 
        mov   @>fff0(r9), @>8354        ; len  memw 
        li    r1, >0010
        mov   r1, @>ffee(r9)            ; cruaddr
        li    r1, >001f
        mov   r1, @>fffe(r9)            ; $cruaddr
        jmp   __l_2278
__l_2277:
        inc   @>ffee(r9)                ; cruaddr
__l_2278:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        clr   r1
        movb  r1, @>0002(r10)
        mov   @>ffee(r9), r1            ; cruaddr
        sla   r1, 8
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  setcrubit
        c     @>ffee(r9), @>fffe(r9)    ; cruaddr $cruaddr 
        jne   __l_2277
__l_2292:
        li    r1, >1000
        mov   r1, @>ffee(r9)            ; cruaddr
        clr   r1
        movb  @>8303, @>fff4(r9)        ; completed
__l_2280:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >0100
        movb  r1, @>0002(r10)
        mov   @>ffee(r9), *r10          ; cruaddr 
        bl    @__far_call_1
        data  >6004
        data  setcrubit
        movb  @>4000, r1                ; header
        srl   r1, 8
        ci    r1, >00aa
        jne   __l_2295
__l_2294:
        mov   @>4008, @>fff2(r9)        ; header .dsrlist dsrlist
__l_2281:
        mov   @>fff2(r9), r1            ; dsrlist
        jeq   __l_2295
__l_2299:
        movb  @>fff4(r9), r1            ; completed
        jne   __l_2295
__l_2298:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   r9, r1
        ai    r1, >fff5                 ; device
        mov   r1, @>0004(r10)
        mov   @>fff2(r9), r1            ; dsrlist
        ai    r1, >0004                 ; .name
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >feee                 ; __rettmp_356
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __short_str_equal_82
        movb  @>feee(r9), r1            ; __rettmp_356
        jeq   __l_2303
__l_2302:
        mov   @>fff2(r9), r1            ; dsrlist
        mov   @>0002(r1), @>83f2        ;   memw 
        mov   @>ffee(r9), @>83f8        ; cruaddr  memw 
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fff4                 ; completed
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  calldsr
__l_2303:
        mov   @>fff2(r9), r1            ; dsrlist
        mov   *r1, @>fff2(r9)           ;  dsrlist
        jmp   __l_2281
__l_2295:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        clr   r1
        movb  r1, @>0002(r10)
        mov   @>ffee(r9), *r10          ; cruaddr 
        bl    @__far_call_1
        data  >6004
        data  setcrubit
        mov   r9, r1
        ai    r1, >ffee                 ; cruaddr
        li    r2, >0100
        a     r2, *r1
        mov   @>ffee(r9), r1            ; cruaddr
        ci    r1, >2000
        jeq   __l_2306
__l_2307:
        movb  @>fff4(r9), r1            ; completed
        jne   __l_2306
        b     @__l_2280
__l_2306:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0024
        mov   r1, @>0004(r10)
        mov   @>0008(r9), @>0002(r10)   ; pabvdpaddr 
        mov   @>0006(r9), *r10          ; pab 
        bl    @__far_call_1
        data  >6004
        data  vmbr
        movb  @>fff4(r9), r1            ; completed
        srl   r1, 8
        mov   @>0004(r9), r2            ; result
        movb  @>8303, *r2               ; low R1
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0006
        b     @__far_ret

        bank 12, >62e4

; Subroutine: calldsr, level: 2
;   0000       0  var res: reference to boolean

calldsr:
        lwpi  >83e0
        bl    *r9
        jmp   calldsr_1
        lwpi  >8300
        li    r0, >0100
        jmp   calldsr_2
calldsr_1:
        lwpi  >8300
        clr   r0
calldsr_2:
        mov   *r10, r12
        movb  r0, *r12
        ai    r10, >0002
        b     @__far_ret

        bank 12, >6308

; Subroutine: evaluate_57, level: 2
;   ff28    -216  __rettmp_357: set of int64
;   ff48    -184  __rettmp_358: boolean
;   ff28    -216  __rettmp_359: set of int64
;   ff48    -184  __rettmp_360: boolean
;   ff28    -216  __rettmp_361: set of int64
;   ff48    -184  __rettmp_362: boolean
;   ff28    -216  __rettmp_363: int16
;   ff28    -216  __rettmp_364: boolean
;   ff28    -216  __rettmp_365: boolean
;   ff28    -216  __rettmp_366: boolean
;   ff28    -216  __rettmp_367: boolean
;   ff28    -216  __rettmp_368: boolean
;   ff28    -216  __rettmp_369: boolean
;   ff28    -216  __rettmp_370: boolean
;   ff28    -216  __rettmp_371: boolean
;   ff28    -216  __rettmp_372: boolean
;   ff28    -216  __rettmp_373: boolean
;   ff28    -216  __rettmp_374: boolean
;   ff28    -216  __rettmp_375: int16
;   ff30    -208  __rettmp_376: set of int64
;   ff50    -176  __rettmp_377: boolean
;   ff28    -216  __rettmp_378: int16
;   0004       4  var result: reference to int16
;   0006       6  cmoveflag: int16
;   0008       8  attackflag: int16
;   000a      10  attackid: int16
;   000c      12  capid: int16
;   000e      14  lastmove: record
;   0016      22  tempmove: record
;   ff52    -174  spage1: int16
;   ff54    -172  dsize: int16
;   ff56    -170  initoffset: int16
;   ff58    -168  offset: int16
;   ff5a    -166  offset1: int16
;   ff5c    -164  offset2: int16
;   ff5e    -162  i: int16
;   ff60    -160  j: int16
;   ff62    -158  k: int16
;   ff64    -156  l: int16
;   ff66    -154  spage2: int16
;   ff68    -152  side: int16
;   ff6a    -150  wscore: int16
;   ff6c    -148  bscore: int16
;   ff6e    -146  evalscore: int16
;   ff70    -144  pawncount: int16
;   ff72    -142  bonus: int16
;   ff74    -140  endgame: int16
;   ff76    -138  ploc: int16
;   ff78    -136  locarray: array [subrange (0..64) of int64] of int16
;   fffa      -6  $l: int16
;   fffc      -4  $i: int16
;   fffe      -2  $side: int16

evaluate_57:
        ai    r10, >ff1a
        mov   r10, r12
        mov   r5, *r12+
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >00d8
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, >0015
        mov   r1, @>ff52(r9)            ; spage1
        li    r1, >0002
        mov   r1, @>ff54(r9)            ; dsize
        clr   @>ff6a(r9)                ; wscore
        clr   @>ff6c(r9)                ; bscore
        clr   @>ff74(r9)                ; endgame
        li    r1, >0014
        mov   r1, @>fd5e                ;  startpage
        li    r1, >0008
        mov   r1, @>fd62                ;  datasize
        mov   @>0008(r9), r1            ; attackflag
        ci    r1, >0001
        jeq   __l_2338
        b     @__l_2336
__l_2338:
        c     @>fd64, @>fd66            ; turn gameside 
        jeq   __l_2335
        b     @__l_2336
__l_2335:
        clr   @>ff72(r9)                ; bonus
        mov   @>000a(r9), r1            ; attackid
; no-opt
        jeq   __c_2311
        ai    r1, >fff8
        jeq   __c_2312
        ai    r1, >fff8
        jeq   __c_2313
        ai    r1, >fff8
        jeq   __c_2313
        ai    r1, >fff8
        jeq   __c_2314
        jmp   __l_2341
__c_2311:
        mov   @>000c(r9), r1            ; capid
        jne   __l_2348
__l_2347:
        li    r1, >000a
        mov   r1, @>ff72(r9)            ; bonus
        jmp   __l_2341
__l_2348:
        li    r1, >0032
        mov   r1, @>ff72(r9)            ; bonus
        jmp   __l_2341
__c_2312:
        mov   @>000c(r9), r1            ; capid
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_2355
        sla   r14, 0
__l_2355:
        sra   r1, 3
        li    r2, __set_cnst_141
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_2356
        inc   r1
__l_2356:
        ci    r1, >0000
        jeq   __l_2341
__l_2351:
        li    r1, >0032
        mov   r1, @>ff72(r9)            ; bonus
        jmp   __l_2341
__c_2313:
        mov   @>000c(r9), r1            ; capid
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_2361
        sla   r14, 0
__l_2361:
        sra   r1, 3
        li    r2, __set_cnst_142
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_2362
        inc   r1
__l_2362:
        ci    r1, >0000
        jeq   __l_2358
__l_2357:
        li    r1, >0032
        mov   r1, @>ff72(r9)            ; bonus
        jmp   __l_2341
__l_2358:
        mov   @>000c(r9), r1            ; capid
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_2367
        sla   r14, 0
__l_2367:
        sra   r1, 3
        li    r2, __set_cnst_143
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_2368
        inc   r1
__l_2368:
        ci    r1, >0000
        jeq   __l_2341
__l_2363:
        li    r1, >0019
        mov   r1, @>ff72(r9)            ; bonus
        jmp   __l_2341
__c_2314:
        mov   @>000c(r9), r1            ; capid
        ci    r1, >0020
        jne   __l_2341
__l_2369:
        li    r1, >0032
        mov   r1, @>ff72(r9)            ; bonus
__l_2341:
        mov   @>fd64, r1                ; turn
        jne   __l_2374
__l_2373:
        mov   @>ff6a(r9), r1            ; wscore
        a     @>ff72(r9), r1            ; bonus 
        mov   r1, @>ff6a(r9)            ; wscore
        jmp   __l_2336
__l_2374:
        mov   @>ff6c(r9), r1            ; bscore
        a     @>ff72(r9), r1            ; bonus 
        mov   r1, @>ff6c(r9)            ; bscore
__l_2336:
        mov   @>0016(r9), r1            ; tempmove
        ci    r1, >0028
        jne   __l_2378
__l_2380:
        mov   @>0006(r9), r1            ; cmoveflag
        jne   __l_2378
__l_2377:
        mov   @>fd64, r1                ; turn
        jne   __l_2384
__l_2386:
        mov   @>fd6c, r1                ; wcastleflag
        jne   __l_2384
__l_2383:
        mov   @>ff6a(r9), r1            ; wscore
        li    r2, >0190
        s     r2, r1
        mov   r1, @>ff6a(r9)            ; wscore
        jmp   __l_2378
__l_2384:
        mov   @>fd64, r1                ; turn
        ci    r1, >0001
        jne   __l_2378
__l_2392:
        mov   @>fd6e, r1                ; bcastleflag
        jne   __l_2378
__l_2389:
        mov   @>ff6c(r9), r1            ; bscore
        li    r2, >0190
        s     r2, r1
        mov   r1, @>ff6c(r9)            ; bscore
__l_2378:
        mov   @>0016(r9), r1            ; tempmove
        ci    r1, >0008
        jne   __l_2396
__l_2398:
        mov   @>fd7a, r1                ; gamemove
        ci    r1, >000d
        jgt   __l_2396
        jeq   __l_2396
__l_2395:
        mov   @>fd64, r1                ; turn
        jne   __l_2402
__l_2404:
        mov   @>fd6c, r1                ; wcastleflag
        jne   __l_2402
__l_2401:
        mov   @>ff6a(r9), r1            ; wscore
        li    r2, >01f4
        s     r2, r1
        mov   r1, @>ff6a(r9)            ; wscore
        jmp   __l_2396
__l_2402:
        mov   @>fd64, r1                ; turn
        ci    r1, >0001
        jne   __l_2396
__l_2410:
        mov   @>fd6e, r1                ; bcastleflag
        jne   __l_2396
__l_2407:
        mov   @>ff6c(r9), r1            ; bscore
        li    r2, >01f4
        s     r2, r1
        mov   r1, @>ff6c(r9)            ; bscore
__l_2396:
        mov   @>fd64, r1                ; turn
        jne   __l_2414
__l_2413:
        li    r1, >0fde
        mov   r1, @>ff5a(r9)            ; offset1
        jmp   __l_2415
__l_2414:
        li    r1, >0fd6
        mov   r1, @>ff5a(r9)            ; offset1
__l_2415:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff5a(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ff78                 ; locarray
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitpos
        mov   @>ff78(r9), r1            ; locarray
        ci    r1, >0005
        jgt   __l_2418
__l_2417:
        li    r1, >0001
        mov   r1, @>ff74(r9)            ; endgame
__l_2418:
        mov   @>ff78(r9), r1            ; locarray
        ci    r1, >0003
        jgt   __l_2422
__l_2421:
        li    r1, >0002
        mov   r1, @>ff74(r9)            ; endgame
__l_2422:
        c     @>fd76, @>fd78            ; wmobility bmobility 
        jlt   __l_2426
        jeq   __l_2426
__l_2425:
        mov   @>ff6a(r9), r1            ; wscore
        ai    r1, >0064
        mov   r1, @>ff6a(r9)            ; wscore
        jmp   __l_2430
__l_2426:
        c     @>fd78, @>fd76            ; bmobility wmobility 
        jlt   __l_2430
        jeq   __l_2430
__l_2429:
        mov   @>ff6c(r9), r1            ; bscore
        ai    r1, >0064
        mov   r1, @>ff6c(r9)            ; bscore
__l_2430:
        clr   @>ff68(r9)                ; side
        li    r1, >0001
        mov   r1, @>fffe(r9)            ; $side
        jmp   __l_2332
__l_2331:
        inc   @>ff68(r9)                ; side
__l_2332:
        mov   @>0016(r9), r1            ; tempmove
        jeq   __l_2436
        b     @__l_2434
__l_2436:
        mov   @>0018(r9), r1            ; tempmove
        s     @>001a(r9), r1            ; tempmove 
        abs   r1
        ci    r1, >0010
        jeq   __l_2433
        b     @__l_2434
__l_2433:
        mov   @>ff68(r9), r1            ; side
        jne   __l_2440
__l_2439:
        li    r1, >0580
        mov   @>0018(r9), r2            ; tempmove
        li    r3, >0008
        s     r3, r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5a(r9)            ; offset1
        li    r1, >0f9e
        mov   r1, @>ff5c(r9)            ; offset2
        jmp   __l_2441
__l_2440:
        li    r1, >05c0
        mov   @>0018(r9), r2            ; tempmove
        li    r3, >0030
        s     r3, r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5a(r9)            ; offset1
        li    r1, >0f6e
        mov   r1, @>ff5c(r9)            ; offset2
__l_2441:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>ff5a(r9), @>0006(r10)   ; offset1 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>ff52(r9), @>0002(r10)   ; spage1 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0008(r10)
        mov   @>ff5c(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff28                 ; __rettmp_364
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ff28(r9), r1            ; __rettmp_364
        jne   __l_2434
__l_2443:
        mov   @>ff68(r9), r1            ; side
        jne   __l_2448
__l_2447:
        mov   @>ff6a(r9), r1            ; wscore
        li    r2, >0064
        s     r2, r1
        mov   r1, @>ff6a(r9)            ; wscore
        jmp   __l_2434
__l_2448:
        mov   @>ff6c(r9), r1            ; bscore
        li    r2, >0064
        s     r2, r1
        mov   r1, @>ff6c(r9)            ; bscore
__l_2434:
        li    r1, >0016
        mov   r1, @>ff52(r9)            ; spage1
        mov   @>ff68(r9), r1            ; side
        jne   __l_2452
__l_2451:
        li    r1, >0f6e
        mov   r1, @>ff56(r9)            ; initoffset
        jmp   __l_2453
__l_2452:
        li    r1, >0f9e
        mov   r1, @>ff56(r9)            ; initoffset
__l_2453:
        clr   @>ff6e(r9)                ; evalscore
        clr   @>ff60(r9)                ; j
__l_2315:
        mov   @>ff56(r9), r1            ; initoffset
        a     @>ff60(r9), r1            ; j 
        mov   r1, @>ff58(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff58(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff28                 ; __rettmp_365
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ff28(r9), r1            ; __rettmp_365
        jeq   __l_2455
        b     @__l_2456
__l_2455:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ff78                 ; locarray
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitpos
        li    r1, >0001
        mov   r1, @>ff5e(r9)            ; i
        mov   @>ff78(r9), @>fffc(r9)    ; locarray $i
        c     @>ff5e(r9), @>fffc(r9)    ; i $i 
        jlt   __l_2329
        jeq   __l_2329
        b     @__l_2456
__l_2328:
        inc   @>ff5e(r9)                ; i
__l_2329:
        mov   r9, r1
        ai    r1, >ff78                 ; locarray
        mov   @>ff5e(r9), r2            ; i
        sla   r2, 1
        a     r2, r1
        mov   *r1, @>ff76(r9)           ;  ploc
        li    r1, >0180
        mov   @>ff76(r9), r2            ; ploc
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5c(r9)            ; offset2
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>ff5c(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>ff60(r9), r1            ; j
; no-opt
        jeq   __c_2316
        ai    r1, >fff8
        jne   __l_2463
        b     @__c_2323
__l_2463:
        ai    r1, >fff8
        jne   __l_2464
        b     @__c_2324
__l_2464:
        ai    r1, >fff8
        jne   __l_2465
        b     @__c_2325
__l_2465:
        ai    r1, >fff8
        jne   __l_2466
        b     @__c_2326
__l_2466:
        ai    r1, >fff8
        jne   __l_2467
        b     @__c_2327
__l_2467:
        b     @__l_2461
__c_2316:
        mov   @>ff6e(r9), r1            ; evalscore
        ai    r1, >0064
        mov   r1, @>ff6e(r9)            ; evalscore
        mov   @>ff68(r9), r1            ; side
        jeq   __l_2468
        b     @__l_2469
__l_2468:
        clr   r1
        mov   @>ff76(r9), r2            ; ploc
        li    r3, >0002
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5a(r9)            ; offset1
        mov   @>ff74(r9), r1            ; endgame
        jlt   __l_2473
        jeq   __l_2473
__l_2475:
        mov   @>ff76(r9), r1            ; ploc
        ci    r1, >0018
        jlt   __l_2473
__l_2472:
        mov   @>ff6e(r9), r1            ; evalscore
        li    r2, >0008
        mov   @>ff76(r9), r4            ; ploc
        clr   r3
        div   r2, r3
        mov   r3, r2
        li    r3, >0032
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff6e(r9)            ; evalscore
__l_2473:
        mov   @>ff76(r9), r1            ; ploc
        ci    r1, >0038
        jlt   __l_2479
__l_2478:
        mov   @>ff6e(r9), r1            ; evalscore
        ai    r1, >03e8
        mov   r1, @>ff6e(r9)            ; evalscore
__l_2479:
        mov   @>ff76(r9), r1            ; ploc
        ci    r1, >000f
        jgt   __l_2482
        b     @__l_2483
__l_2482:
        clr   @>ff64(r9)                ; l
        li    r1, >0001
        mov   r1, @>fffa(r9)            ; $l
        jmp   __l_2318
__l_2317:
        inc   @>ff64(r9)                ; l
__l_2318:
        li    r1, >00c0
        li    r2, >0038
        mov   @>ff64(r9), r3            ; l
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5c(r9)            ; offset2
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>ff5c(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff28                 ; __rettmp_366
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ff28(r9), r1            ; __rettmp_366
        jeq   __l_2486
        b     @__l_2487
__l_2486:
        mov   @>ff64(r9), r1            ; l
        jne   __l_2491
__l_2490:
        li    r1, >0180
        mov   @>ff76(r9), r2            ; ploc
        li    r3, >0009
        s     r3, r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5c(r9)            ; offset2
        jmp   __l_2492
__l_2491:
        li    r1, >0180
        mov   @>ff76(r9), r2            ; ploc
        li    r3, >0007
        s     r3, r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5c(r9)            ; offset2
__l_2492:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>ff5c(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0008(r10)
        mov   @>ff56(r9), @>0006(r10)   ; initoffset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff28                 ; __rettmp_367
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ff28(r9), r1            ; __rettmp_367
        jne   __l_2487
__l_2494:
        mov   @>ff6e(r9), r1            ; evalscore
        ai    r1, >000f
        mov   r1, @>ff6e(r9)            ; evalscore
__l_2487:
        c     @>ff64(r9), @>fffa(r9)    ; l $l 
        jeq   __l_2483
        b     @__l_2317
__l_2483:
        mov   @>ff76(r9), r1            ; ploc
        ci    r1, >0038
        jgt   __l_2501
        jeq   __l_2501
__l_2500:
        li    r1, >0180
        mov   @>ff76(r9), r2            ; ploc
        ai    r2, >0008
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5c(r9)            ; offset2
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>ff5c(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff28                 ; __rettmp_368
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ff28(r9), r1            ; __rettmp_368
        jne   __l_2501
__l_2504:
        mov   @>ff6e(r9), r1            ; evalscore
        li    r2, >0019
        s     r2, r1
        mov   r1, @>ff6e(r9)            ; evalscore
__l_2501:
        b     @__l_2537
__l_2469:
        li    r1, >0080
        mov   @>ff76(r9), r2            ; ploc
        li    r3, >0002
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5a(r9)            ; offset1
        mov   @>ff74(r9), r1            ; endgame
        jlt   __l_2509
        jeq   __l_2509
__l_2511:
        mov   @>ff76(r9), r1            ; ploc
        ci    r1, >0020
        jgt   __l_2509
__l_2508:
        mov   @>ff6e(r9), r1            ; evalscore
        li    r2, >0008
        li    r4, >003f
        s     @>ff76(r9), r4            ; ploc 
        clr   r3
        div   r2, r3
        mov   r3, r2
        li    r3, >0032
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff6e(r9)            ; evalscore
__l_2509:
        mov   @>ff76(r9), r1            ; ploc
        ci    r1, >0007
        jgt   __l_2515
__l_2514:
        mov   @>ff6e(r9), r1            ; evalscore
        ai    r1, >03e8
        mov   r1, @>ff6e(r9)            ; evalscore
__l_2515:
        mov   @>ff76(r9), r1            ; ploc
        ci    r1, >0037
        jgt   __l_2521
        jne   __l_2518
__l_2521:
        b     @__l_2519
__l_2518:
        clr   @>ff64(r9)                ; l
        li    r1, >0001
        mov   r1, @>fffa(r9)            ; $l
        jmp   __l_2321
__l_2320:
        inc   @>ff64(r9)                ; l
__l_2321:
        li    r1, >00c0
        li    r2, >0038
        mov   @>ff64(r9), r3            ; l
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5c(r9)            ; offset2
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>ff5c(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff28                 ; __rettmp_369
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ff28(r9), r1            ; __rettmp_369
        jeq   __l_2522
        b     @__l_2523
__l_2522:
        mov   @>ff64(r9), r1            ; l
        jne   __l_2527
__l_2526:
        li    r1, >0180
        mov   @>ff76(r9), r2            ; ploc
        ai    r2, >0009
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5c(r9)            ; offset2
        jmp   __l_2528
__l_2527:
        li    r1, >0180
        mov   @>ff76(r9), r2            ; ploc
        ai    r2, >0007
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5c(r9)            ; offset2
__l_2528:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>ff5c(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, @>0008(r10)
        mov   @>ff56(r9), @>0006(r10)   ; initoffset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fdb2                 ; bit5
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff28                 ; __rettmp_370
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ff28(r9), r1            ; __rettmp_370
        jne   __l_2523
__l_2530:
        mov   @>ff6e(r9), r1            ; evalscore
        ai    r1, >000f
        mov   r1, @>ff6e(r9)            ; evalscore
__l_2523:
        c     @>ff64(r9), @>fffa(r9)    ; l $l 
        jeq   __l_2519
        b     @__l_2320
__l_2519:
        mov   @>ff76(r9), r1            ; ploc
        ci    r1, >0007
        jlt   __l_2537
        jeq   __l_2537
__l_2536:
        li    r1, >0180
        mov   @>ff76(r9), r2            ; ploc
        li    r3, >0008
        s     r3, r2
        li    r3, >0008
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5c(r9)            ; offset2
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0008(r10)
        mov   @>ff5c(r9), @>0006(r10)   ; offset2 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0004(r10)
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fdaa                 ; bit4
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff28                 ; __rettmp_371
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ff28(r9), r1            ; __rettmp_371
        jne   __l_2537
__l_2540:
        mov   @>ff6e(r9), r1            ; evalscore
        li    r2, >0019
        s     r2, r1
        mov   r1, @>ff6e(r9)            ; evalscore
__l_2537:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff64                 ; l
        mov   r1, @>0008(r10)
        mov   @>ff5a(r9), @>0006(r10)   ; offset1 
        mov   @>ff54(r9), @>0004(r10)   ; dsize 
        mov   @>ff52(r9), @>0002(r10)   ; spage1 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>ff6e(r9), r1            ; evalscore
        a     @>ff64(r9), r1            ; l 
        mov   r1, @>ff6e(r9)            ; evalscore
        b     @__l_2461
__c_2323:
        mov   @>ff6e(r9), r1            ; evalscore
        ai    r1, >020d
        mov   r1, @>ff6e(r9)            ; evalscore
        b     @__l_2461
__c_2324:
        mov   @>ff6e(r9), r1            ; evalscore
        ai    r1, >0190
        mov   r1, @>ff6e(r9)            ; evalscore
        li    r1, >0100
        mov   @>ff76(r9), r2            ; ploc
        li    r3, >0002
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5a(r9)            ; offset1
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff64                 ; l
        mov   r1, @>0008(r10)
        mov   @>ff5a(r9), @>0006(r10)   ; offset1 
        mov   @>ff54(r9), @>0004(r10)   ; dsize 
        mov   @>ff52(r9), @>0002(r10)   ; spage1 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>ff6e(r9), r1            ; evalscore
        a     @>ff64(r9), r1            ; l 
        mov   r1, @>ff6e(r9)            ; evalscore
        b     @__l_2461
__c_2325:
        mov   @>ff6e(r9), r1            ; evalscore
        ai    r1, >0190
        mov   r1, @>ff6e(r9)            ; evalscore
        li    r1, >0180
        mov   @>ff76(r9), r2            ; ploc
        li    r3, >0002
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5a(r9)            ; offset1
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff64                 ; l
        mov   r1, @>0008(r10)
        mov   @>ff5a(r9), @>0006(r10)   ; offset1 
        mov   @>ff54(r9), @>0004(r10)   ; dsize 
        mov   @>ff52(r9), @>0002(r10)   ; spage1 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>ff6e(r9), r1            ; evalscore
        a     @>ff64(r9), r1            ; l 
        mov   r1, @>ff6e(r9)            ; evalscore
        jmp   __l_2461
__c_2326:
        mov   @>ff6e(r9), r1            ; evalscore
        ai    r1, >03cd
        mov   r1, @>ff6e(r9)            ; evalscore
        jmp   __l_2461
__c_2327:
        mov   @>ff74(r9), r1            ; endgame
        jlt   __l_2545
        jeq   __l_2545
__l_2544:
        li    r1, >0280
        mov   @>ff76(r9), r2            ; ploc
        li    r3, >0002
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5a(r9)            ; offset1
        jmp   __l_2546
__l_2545:
        li    r1, >0200
        mov   @>ff76(r9), r2            ; ploc
        li    r3, >0002
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff5a(r9)            ; offset1
__l_2546:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        mov   r9, r1
        ai    r1, >ff64                 ; l
        mov   r1, @>0008(r10)
        mov   @>ff5a(r9), @>0006(r10)   ; offset1 
        mov   @>ff54(r9), @>0004(r10)   ; dsize 
        mov   @>ff52(r9), @>0002(r10)   ; spage1 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        mov   @>ff6e(r9), r1            ; evalscore
        a     @>ff64(r9), r1            ; l 
        mov   r1, @>ff6e(r9)            ; evalscore
        mov   @>0006(r9), r1            ; cmoveflag
        ci    r1, >0001
        jne   __l_2461
__l_2551:
        c     @>ff68(r9), @>fd66        ; side gameside 
        jne   __l_2461
__l_2548:
        mov   @>ff6e(r9), r1            ; evalscore
        ai    r1, >012c
        mov   r1, @>ff6e(r9)            ; evalscore
__l_2461:
        c     @>ff5e(r9), @>fffc(r9)    ; i $i 
        jeq   __l_2456
        b     @__l_2328
__l_2456:
        mov   @>ff60(r9), r1            ; j
        ai    r1, >0008
        mov   r1, @>ff60(r9)            ; j
        ci    r1, >0028
        jgt   __l_2556
        b     @__l_2315
__l_2556:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff28                 ; __rettmp_372
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ff28(r9), r1            ; __rettmp_372
        jeq   __l_2559
__l_2558:
        li    r1, >b1e0
        mov   r1, @>ff6e(r9)            ; evalscore
        b     @__l_2571
__l_2559:
        mov   @>ff68(r9), r1            ; side
        jne   __l_2563
__l_2562:
        li    r1, >0fc6
        mov   r1, @>ff58(r9)            ; offset
        jmp   __l_2564
__l_2563:
        li    r1, >0f96
        mov   r1, @>ff58(r9)            ; offset
__l_2564:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff58(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff28                 ; __rettmp_373
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ff28(r9), r1            ; __rettmp_373
        jeq   __l_2567
__l_2566:
        mov   @>ff6e(r9), r1            ; evalscore
        ai    r1, >0032
        mov   r1, @>ff6e(r9)            ; evalscore
__l_2567:
        mov   @>ff74(r9), r1            ; endgame
        jgt   __l_2570
        b     @__l_2571
__l_2570:
        mov   @>ff68(r9), r1            ; side
        jne   __l_2575
__l_2574:
        li    r1, >0fc6
        mov   r1, @>ff58(r9)            ; offset
        jmp   __l_2576
__l_2575:
        li    r1, >0f96
        mov   r1, @>ff58(r9)            ; offset
__l_2576:
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, @>0008(r10)
        mov   @>ff58(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>fd5e, @>0002(r10)       ; startpage 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        li    r1, >0300
        mov   r1, @>ff58(r9)            ; offset
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0008(r10)
        mov   @>ff58(r9), @>0006(r10)   ; offset 
        mov   @>fd62, @>0004(r10)       ; datasize 
        mov   @>ff52(r9), @>0002(r10)   ; spage1 
        li    r1, >0002
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  dataops_12
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0004(r10)
        li    r1, >fd9a                 ; bit2
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitand
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >fda2                 ; bit3
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff28                 ; __rettmp_374
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  isclear_8
        movb  @>ff28(r9), r1            ; __rettmp_374
        jne   __l_2579
__l_2578:
        mov   @>ff6e(r9), r1            ; evalscore
        ai    r1, >0064
        mov   r1, @>ff6e(r9)            ; evalscore
__l_2579:
        mov   @>ff74(r9), r1            ; endgame
        ci    r1, >0002
        jne   __l_2571
__l_2582:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >ff78                 ; locarray
        mov   r1, @>0002(r10)
        li    r1, >fd92                 ; bit1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6006
        data  bitpos
        mov   @>ff76(r9), r1            ; ploc
        s     @>ff7a(r9), r1            ; locarray 
        abs   r1
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_2590
        sla   r14, 0
__l_2590:
        sra   r1, 3
        li    r2, __set_cnst_144
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_2591
        inc   r1
__l_2591:
        ci    r1, >0000
        jne   __l_2571
__l_2586:
        mov   @>ff6e(r9), r1            ; evalscore
        li    r2, >0008
        li    r3, >0002
        mov   @>ff76(r9), r5            ; ploc
        s     @>ff7a(r9), r5            ; locarray 
        abs   r5
        clr   r4
        div   r3, r4
        s     r4, r2                    ;  
        li    r3, >000a
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, @>ff6e(r9)            ; evalscore
__l_2571:
        mov   @>ff68(r9), r1            ; side
        jne   __l_2593
__l_2592:
        mov   @>ff6a(r9), r1            ; wscore
        a     @>ff6e(r9), r1            ; evalscore 
        mov   r1, @>ff6a(r9)            ; wscore
        jmp   __l_2594
__l_2593:
        mov   @>ff6c(r9), r1            ; bscore
        a     @>ff6e(r9), r1            ; evalscore 
        mov   r1, @>ff6c(r9)            ; bscore
__l_2594:
        c     @>ff68(r9), @>fffe(r9)    ; side $side 
        jeq   __l_2596
        b     @__l_2331
__l_2596:
        mov   @>ff6a(r9), r1            ; wscore
        s     @>ff6c(r9), r1            ; bscore 
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        mov   *r10+, r5
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >001a
        b     @__far_ret

; ; Set Constants
__set_cnst_141:
        text >0100000000010000000000000000000000000000000000000000000000000000
__set_cnst_142:
        text >0100000000010000000000000000000000000000000000000000000000000000
__set_cnst_143:
        text >0000010100000000000000000000000000000000000000000000000000000000
__set_cnst_144:
        text >8004000300000000000000000000000000000000000000000000000000000000

        bank 12, >72fa

; Subroutine: getkey_58, level: 2
;   0004       4  var result: reference to char
;   8374   33652  keyboardmode: uint8 (absolute)
;   8375   33653  keypressed: uint8 (absolute)
;   837c   33660  gplstatus: uint8 (absolute)

getkey_58:
        ai    r10, >fff8
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  limi0
        li    r1, >0004
        movb  @>8303, @>8374            ; low R1 keyboardmode
        bl    @scankey
        movb  @>837c, r1                ; gplstatus
        srl   r1, 8
        andi  r1, >0020
        ci    r1, >0000
        jeq   __l_2600
__l_2599:
        movb  @>8375, r1                ; keypressed
        srl   r1, 8
        mov   @>0004(r9), r2            ; result
        movb  @>8303, *r2               ; low R1
        jmp   __l_2601
__l_2600:
        li    r1, >00ff
        mov   @>0004(r9), r2            ; result
        movb  @>8303, *r2               ; low R1
__l_2601:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  limi2
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

; Subroutine: scankey, level: 3

scankey:
        lwpi  >83e0
        bl    @>000e
        lwpi  >8300
        b     *r11

        bank 12, >7380

; Subroutine: move, level: 2
;   0000       0  var src: reference to void
;   0002       2  var dest: reference to void
;   0004       4  length: int16

move:
        mov   *r10, r12
        mov   @>0002(r10), r13
        mov   @>0004(r10), r14
        jeq   move_2
move_1:
        movb  *r12+, *r13+
        dec   r14
        jne   move_1
move_2:
        ai    r10, >0006
        b     @__far_ret

        bank 12, >739a

; Subroutine: moveword, level: 2
;   0000       0  var src: reference to void
;   0002       2  var dest: reference to void
;   0004       4  length: int16

moveword:
        mov   *r10, r12
        mov   @>0002(r10), r13
        mov   @>0004(r10), r14
        jeq   moveword_2
moveword_1:
        mov   *r12+, *r13+
        dec   r14
        jne   moveword_1
moveword_2:
        ai    r10, >0006
        b     @__far_ret

        bank 12, >73b4

; Subroutine: compareword, level: 2
;   0000       0  var result: reference to boolean
;   0002       2  var src: reference to void
;   0004       4  var dest: reference to void
;   0006       6  length: int16

compareword:
        mov   *r10, r15
        mov   @>0002(r10), r12
        mov   @>0004(r10), r13
        mov   @>0006(r10), r14
        jeq   comparebyte_2
comparebyte_1:
        c     *r12+, *r13+
        jne   comparebyte_3
        dec   r14
        jne   comparebyte_1
comparebyte_2:
        li    r12, >0100
        movb  r12, *r15
        jmp   comparebyte_4
comparebyte_3:
        clr   r12
        movb  r12, *r15
comparebyte_4:
        ai    r10, >0008
        b     @__far_ret

        bank 12, >73e0

; Subroutine: fillchar, level: 2
;   0000       0  var dest: reference to void
;   0002       2  count: int16
;   0004       4  value: char

fillchar:
        mov   @>0002(r10), r12
        jeq   fillchar_2
        mov   *r10, r13
        movb  @>0004(r10), r14
fillchar_1:
        movb  r14, *r13+
        dec   r12
        jne   fillchar_1
fillchar_2:
        ai    r10, >0006
        b     @__far_ret

        bank 12, >73fa

; Subroutine: fillchar_59, level: 2
;   0004       4  var dest: reference to void
;   0006       6  count: int16
;   0008       8  value: uint8

fillchar_59:
        ai    r10, >fffc
        mov   r10, r12
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        movb  @>0008(r9), @>0004(r10)   ; value 
        mov   @>0006(r9), @>0002(r10)   ; count 
        mov   @>0004(r9), *r10          ; dest 
        bl    @__far_call_1
        data  >6018
        data  fillchar
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0006
        b     @__far_ret

        bank 12, >7438

; Subroutine: __write_lf_60, level: 2
;   0004       4  var f: reference to file

__write_lf_60:
        ai    r10, >fffa
        mov   r10, r12
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>0004(r9), r1            ; f
        mov   *r1, r1
        jne   __l_2606
__l_2605:
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >6004
        data  outputline_26
        jmp   __l_2607
__l_2606:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   @>0004(r9), *r10          ; f 
        bl    @__far_call_1
        data  >6018
        data  __end_line_72
__l_2607:
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 12, >7484

; Subroutine: __write_int_61, level: 2
;   0004       4  var f: reference to file
;   0006       6  n: int16
;   0008       8  length: int16
;   000a      10  precision: int16
;   ff00    -256  buf: string [255]

__write_int_61:
        ai    r10, >fefa
        mov   r10, r12
        mov   r1, *r12+
        ai    r12, >0100
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        mov   r9, r1
        ai    r1, >ff00                 ; buf
        mov   r1, @>0006(r10)
        seto  @>0004(r10)
        mov   @>0008(r9), @>0002(r10)   ; length 
        mov   @>0006(r9), *r10          ; n 
        bl    @__far_call_1
        data  >601a
        data  __str_int_81
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        mov   @>0008(r9), @>0004(r10)   ; length 
        mov   r9, r1
        ai    r1, >ff00                 ; buf
        mov   r1, @>0002(r10)
        mov   @>0004(r9), *r10          ; f 
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0008
        b     @__far_ret

        bank 12, >74fc

; Subroutine: __write_char_62, level: 2
;   0004       4  var f: reference to file
;   0006       6  ch: char
;   0008       8  length: int16
;   000a      10  precision: int16
;   fffe      -2  s: string [1]

__write_char_62:
        ai    r10, >fff8
        mov   r10, r12
        mov   r1, *r12+
        inct  r12
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        movb  @>0006(r9), r1            ; ch
        srl   r1, 8
        ci    r1, >001f
        jlt   __l_2612
        jeq   __l_2612
__l_2611:
        li    r1, >0001
        movb  @>8303, @>fffe(r9)        ; s
        movb  @>0006(r9), @>ffff(r9)    ; ch s
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        mov   @>0008(r9), @>0004(r10)   ; length 
        mov   r9, r1
        dect  r1                        ; s
        mov   r1, @>0002(r10)
        mov   @>0004(r9), *r10          ; f 
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
__l_2612:
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0008
        b     @__far_ret

        bank 12, >7564

; Subroutine: __write_string_63, level: 2
;   fff6     -10  __rettmp_113: int16
;   0004       4  var f: reference to file
;   0006       6  p: pointer to char (char)
;   0008       8  length: int16
;   000a      10  precision: int16
;   fff8      -8  i: int16
;   fffa      -6  len: int16
;   fffc      -4  outlen: int16
;   fffe      -2  $i: int16

__write_string_63:
        ai    r10, >ffee
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >000a
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>0006(r9), r1            ; p
        movb  *r1, r1
        srl   r1, 8
        mov   r1, @>fffa(r9)            ; len
        mov   @>0008(r9), r2            ; length
; no.opt
        c     r1, r2
        jgt   __l_2622
        mov   r2, r1
__l_2622:
        mov   r1, @>fffc(r9)            ; outlen
        mov   @>0004(r9), r1            ; f
        mov   *r1, r1
        jne   __l_2624
__l_2623:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>fffc(r9), @>0002(r10)   ; outlen 
        mov   @>0006(r9), *r10          ; p 
        bl    @__far_call_1
        data  >6004
        data  outputstring_25
        b     @__l_2641
__l_2624:
        mov   @>fffa(r9), r1            ; len
        inc   r1
        mov   r1, @>fff8(r9)            ; i
        mov   @>fffc(r9), @>fffe(r9)    ; outlen $i
        c     @>fff8(r9), @>fffe(r9)    ; i $i 
        jlt   __l_2616
        jeq   __l_2616
        jmp   __l_2633
__l_2615:
        inc   @>fff8(r9)                ; i
__l_2616:
        mov   @>0004(r9), r1            ; f
        mov   @>0002(r1), r1
        mov   @>0004(r9), r2            ; f
        ai    r2, >0008                 ; .pab
        movb  *r2, r2
        srl   r2, 8
        c     r1, r2
        jgt   __l_2630
        jeq   __l_2630
__l_2629:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        li    r1, >2000
        movb  r1, @>0002(r10)
        mov   @>0004(r9), r1            ; f
        mov   @>0006(r1), r1
        mov   @>0004(r9), r2            ; f
        a     @>0002(r2), r1            ;  
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  pokev_15
        mov   @>0004(r9), r1            ; f
        inct  r1                        ; .bufpos
        inc   *r1
__l_2630:
        c     @>fff8(r9), @>fffe(r9)    ; i $i 
        jne   __l_2615
__l_2633:
        li    r1, >0001
        mov   r1, @>fff8(r9)            ; i
        mov   @>fffa(r9), @>fffe(r9)    ; len $i
        c     @>fff8(r9), @>fffe(r9)    ; i $i 
        jlt   __l_2619
        jeq   __l_2619
        jmp   __l_2641
__l_2618:
        inc   @>fff8(r9)                ; i
__l_2619:
        mov   @>0004(r9), r1            ; f
        mov   @>0002(r1), r1
        mov   @>0004(r9), r2            ; f
        ai    r2, >0008                 ; .pab
        movb  *r2, r2
        srl   r2, 8
        c     r1, r2
        jgt   __l_2638
        jeq   __l_2638
__l_2637:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>0006(r9), r1            ; p
        a     @>fff8(r9), r1            ; i 
        movb  *r1, @>0002(r10)          ;  
        mov   @>0004(r9), r1            ; f
        mov   @>0006(r1), r1
        mov   @>0004(r9), r2            ; f
        a     @>0002(r2), r1            ;  
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  pokev_15
        mov   @>0004(r9), r1            ; f
        inct  r1                        ; .bufpos
        inc   *r1
__l_2638:
        c     @>fff8(r9), @>fffe(r9)    ; i $i 
        jne   __l_2618
__l_2641:
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0008
        b     @__far_ret

        bank 12, >76bc

; Subroutine: __assign_64, level: 2
;   0004       4  var f: reference to void
;   0006       6  filename: string [255]

__assign_64:
        ai    r10, >fff6
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   r9, r1
        ai    r1, >0006                 ; filename
        mov   @>0004(r9), r2            ; f
        ai    r2, >000d                 ; .pab
        li    r0, >1900
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_2644
        mov   r0, r3
__l_2644:
        movb  r3, *r2+
        jeq   __l_2645
        srl   r3, 8
__l_2646:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_2646
__l_2645:
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0102
        b     @__far_ret

        bank 12, >770a

; Subroutine: __rewrite_bin_65, level: 2
;   0004       4  var f: reference to void
;   0006       6  blocksize: int16

__rewrite_bin_65:
        ai    r10, >fffa
        mov   r10, r12
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        clr   r1
        movb  r1, @>0008(r10)
        mov   @>0006(r9), r1            ; blocksize
        swpb  r1
        movb  r1, @>0006(r10)
        li    r1, >0b00
        movb  r1, @>0004(r10)
        clr   r1
        movb  r1, @>0002(r10)
        mov   @>0004(r9), *r10          ; f 
        bl    @__far_call_1
        data  >601a
        data  openfile_91
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 12, >775e

; Subroutine: __reset_bin_66, level: 2
;   0004       4  var f: reference to void
;   0006       6  blocksize: int16

__reset_bin_66:
        ai    r10, >fffa
        mov   r10, r12
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fff4
        mov   @>7ffe, @>000a(r10)
        clr   r1
        movb  r1, @>0008(r10)
        mov   @>0006(r9), r1            ; blocksize
        swpb  r1
        movb  r1, @>0006(r10)
        li    r1, >0900
        movb  r1, @>0004(r10)
        clr   r1
        movb  r1, @>0002(r10)
        mov   @>0004(r9), *r10          ; f 
        bl    @__far_call_1
        data  >601a
        data  openfile_91
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 12, >77b2

; Subroutine: __write_bin_typed_67, level: 2
;   0004       4  var f: reference to void
;   0006       6  var data: reference to void

__write_bin_typed_67:
        ai    r10, >fffa
        mov   r10, r12
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0001
        mov   r1, @>0004(r10)
        mov   @>0006(r9), @>0002(r10)   ; data 
        mov   @>0004(r9), *r10          ; f 
        bl    @__far_call_1
        data  >6018
        data  __write_bin_ign_68
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 12, >77f6

; Subroutine: __write_bin_ign_68, level: 2
;   fffa      -6  __rettmp_121: boolean
;   0004       4  var f: reference to void
;   0006       6  var data: reference to void
;   0008       8  blocks: int16
;   fffc      -4  i: int16
;   fffe      -2  $i: int16

__write_bin_ign_68:
        ai    r10, >ffee
        mov   r10, r12
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0006
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, >0003
        mov   @>0004(r9), r2            ; f
        ai    r2, >0004                 ; .pab
        movb  @>8303, *r2               ; low R1
        clr   @>fffc(r9)                ; i
        mov   @>0008(r9), r1            ; blocks
        dec   r1
        mov   r1, @>fffe(r9)            ; $i
        c     @>fffc(r9), @>fffe(r9)    ; i $i 
        jlt   __l_2651
        jeq   __l_2651
        jmp   __l_2656
__l_2650:
        inc   @>fffc(r9)                ; i
__l_2651:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>0004(r9), r1            ; f
        ai    r1, >0008                 ; .pab
        movb  *r1, r1
        srl   r1, 8
        mov   r1, @>0004(r10)
        mov   @>0004(r9), r1            ; f
        mov   @>0006(r1), @>0002(r10)   ;  
        mov   @>0006(r9), r1            ; data
        mov   @>fffc(r9), r2            ; i
        mov   @>0004(r9), r3            ; f
        ai    r3, >0008                 ; .pab
        movb  *r3, r3
        srl   r3, 8
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  vmbw
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>0004(r9), @>0002(r10)   ; f 
        mov   r9, r1
        ai    r1, >fffa                 ; __rettmp_121
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  execdsr_90
        c     @>fffc(r9), @>fffe(r9)    ; i $i 
        jne   __l_2650
__l_2656:
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0006
        b     @__far_ret

        bank 12, >78c2

; Subroutine: __read_bin_typed_69, level: 2
;   0004       4  var f: reference to void
;   0006       6  var data: reference to void

__read_bin_typed_69:
        ai    r10, >fffa
        mov   r10, r12
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >0001
        mov   r1, @>0004(r10)
        mov   @>0006(r9), @>0002(r10)   ; data 
        mov   @>0004(r9), *r10          ; f 
        bl    @__far_call_1
        data  >6018
        data  __read_bin_ign_70
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 12, >7906

; Subroutine: __read_bin_ign_70, level: 2
;   fffa      -6  __rettmp_122: boolean
;   0004       4  var f: reference to void
;   0006       6  var data: reference to void
;   0008       8  blocks: int16
;   fffc      -4  i: int16
;   fffe      -2  $i: int16

__read_bin_ign_70:
        ai    r10, >ffee
        mov   r10, r12
        mov   r4, *r12+
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0006
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, >0002
        mov   @>0004(r9), r2            ; f
        ai    r2, >0004                 ; .pab
        movb  @>8303, *r2               ; low R1
        clr   @>fffc(r9)                ; i
        mov   @>0008(r9), r1            ; blocks
        dec   r1
        mov   r1, @>fffe(r9)            ; $i
        c     @>fffc(r9), @>fffe(r9)    ; i $i 
        jlt   __l_2660
        jeq   __l_2660
        jmp   __l_2665
__l_2659:
        inc   @>fffc(r9)                ; i
__l_2660:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>0004(r9), @>0002(r10)   ; f 
        mov   r9, r1
        ai    r1, >fffa                 ; __rettmp_122
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  execdsr_90
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>0004(r9), r1            ; f
        ai    r1, >0008                 ; .pab
        movb  *r1, r1
        srl   r1, 8
        mov   r1, @>0004(r10)
        mov   @>0004(r9), r1            ; f
        mov   @>0006(r1), @>0002(r10)   ;  
        mov   @>0006(r9), r1            ; data
        mov   @>fffc(r9), r2            ; i
        mov   @>0004(r9), r3            ; f
        ai    r3, >0008                 ; .pab
        movb  *r3, r3
        srl   r3, 8
        mpy   r2, r3
        a     r4, r1                    ;  
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  vmbr
        c     @>fffc(r9), @>fffe(r9)    ; i $i 
        jne   __l_2659
__l_2665:
        mov   *r10+, r4
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0006
        b     @__far_ret

        bank 12, >79d2

; Subroutine: __close_71, level: 2
;   fffe      -2  __rettmp_132: boolean
;   0004       4  var f: reference to void

__close_71:
        ai    r10, >fff4
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        inct  r12
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        clr   @>ffb2                    ;  inoutres
        mov   @>0004(r9), r1            ; f
        mov   *r1, r1
        jlt   __l_2669
        jeq   __l_2669
__l_2668:
        li    r1, >0001
        mov   @>0004(r9), r2            ; f
        ai    r2, >0004                 ; .pab
        movb  @>8303, *r2               ; low R1
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>0004(r9), @>0002(r10)   ; f 
        mov   r9, r1
        dect  r1                        ; __rettmp_132
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  execdsr_90
        clr   r1
        li    r2, >ffb4                 ; openfiles
        mov   @>0004(r9), r3            ; f
        mov   *r3, r3
        dec   r3
        li    r12, >0006
        mpy   r3, r12
        a     r13, r2                   ;  
        movb  @>8303, *r2               ; low R1
        seto  r1
        mov   @>0004(r9), r2            ; f
        mov   r1, *r2
        jmp   __l_2673
__l_2669:
        mov   @>0004(r9), r1            ; f
        mov   *r1, r1
        jgt   __l_2673
        jeq   __l_2673
__l_2672:
        li    r1, >0001
        mov   r1, @>ffb2                ;  inoutres
__l_2673:
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 12, >7a6c

; Subroutine: __end_line_72, level: 2
;   fffe      -2  __rettmp_136: boolean
;   0004       4  var f: reference to file

__end_line_72:
        ai    r10, >fff6
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        inct  r12
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>0004(r9), r1            ; f
        mov   *r1, r1
        jlt   __l_2678
        jeq   __l_2678
__l_2677:
        li    r1, >0003
        mov   @>0004(r9), r2            ; f
        ai    r2, >0004                 ; .pab
        movb  @>8303, *r2               ; low R1
        mov   @>0004(r9), r1            ; f
        mov   @>0002(r1), r1
        mov   @>0004(r9), r2            ; f
        ai    r2, >0009                 ; .pab
        movb  @>8303, *r2               ; low R1
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>0004(r9), @>0002(r10)   ; f 
        mov   r9, r1
        dect  r1                        ; __rettmp_136
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  execdsr_90
        clr   r1
        mov   @>0004(r9), r2            ; f
        mov   r1, @>0002(r2)
__l_2678:
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 12, >7ae6

; Subroutine: __read_int_73, level: 2
;   fed2    -302  __rettmp_124: int16
;   fed2    -302  __rettmp_125: int16
;   feda    -294  __rettmp_126: set of char
;   fefa    -262  __rettmp_127: boolean
;   0004       4  var result: reference to int16
;   0006       6  var f: reference to file
;   fefb    -261  s: string [255]
;   fffc      -4  i: int16
;   fffe      -2  neg: boolean

__read_int_73:
        ai    r10, >fec8
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >012e
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>0006(r9), @>0002(r10)   ; f 
        mov   r9, r1
        ai    r1, >fefb                 ; s
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __read_string_74
        clr   r1
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r1
        ai    r1, >fefb                 ; s
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fed2                 ; __rettmp_124
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  length_77
        mov   @>fed2(r9), r1            ; __rettmp_124
        clr   r2
        c     r1, r2
        clr   r1
        jeq   __l_2684
        inc   r1
__l_2684:
        ci    r1, >0001
        jne   __l_2686
        li    r1, >002d
        movb  @>fefc(r9), r2            ; s
        srl   r2, 8
        c     r2, r1
        clr   r1
        jne   __l_2686
        inc   r1
__l_2686:
        movb  @>8303, @>fffe(r9)        ; neg
        movb  @>fffe(r9), r1            ; neg
        srl   r1, 8
        inc   r1
        mov   r1, @>fffc(r9)            ; i
__l_2681:
        mov   @>fffc(r9), r1            ; i
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   r9, r2
        ai    r2, >fefb                 ; s
        mov   r2, @>0002(r10)
        mov   r9, r2
        ai    r2, >fed2                 ; __rettmp_125
        mov   r2, *r10
        bl    @__far_call_1
        data  >6018
        data  length_77
        c     r1, @>fed2(r9)            ; __rettmp_125 
        jgt   __l_2682
__l_2688:
        mov   r9, r1
        ai    r1, >fefb                 ; s
        a     @>fffc(r9), r1            ; i 
        movb  *r1, r1
        srl   r1, 8
        li    r14, >0001
        mov   r1, r0
        andi  r0, >000f
        jeq   __l_2691
        sla   r14, 0
__l_2691:
        sra   r1, 3
        li    r2, __set_cnst_145
        a     r1, r2
        mov   *r2, r2
        clr   r1
        coc   r14, r2
        jne   __l_2692
        inc   r1
__l_2692:
        ci    r1, >0000
        jeq   __l_2682
__l_2687:
        mov   @>0004(r9), r1            ; result
        mov   *r1, r1
        li    r2, >000a
        mpy   r1, r2
        mov   r3, r1
        mov   r9, r2
        ai    r2, >fefb                 ; s
        a     @>fffc(r9), r2            ; i 
        movb  *r2, r2
        srl   r2, 8
        a     r2, r1
        li    r2, >0030
        s     r2, r1
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        inc   @>fffc(r9)                ; i
        jmp   __l_2681
__l_2682:
        movb  @>fffe(r9), r1            ; neg
        jeq   __l_2694
__l_2693:
        mov   @>0004(r9), r1            ; result
        mov   *r1, r1
        neg   r1
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
__l_2694:
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

; ; Set Constants
__set_cnst_145:
        text >00000000000003ff000000000000000000000000000000000000000000000000

        bank 12, >7c5c

; Subroutine: __read_string_74, level: 2
;   ff00    -256  __rettmp_130: string [255]
;   ff00    -256  __rettmp_131: boolean
;   0004       4  var result: reference to string [255]
;   0006       6  var f: reference to file

__read_string_74:
        ai    r10, >fef6
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0100
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>0006(r9), r1            ; f
        mov   *r1, r1
        jne   __l_2699
__l_2698:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >ff00                 ; __rettmp_130
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __read_line_console_87
        mov   r9, r1
        ai    r1, >ff00                 ; __rettmp_130
        mov   @>0004(r9), r2            ; result
        li    r0, >ff00
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_2702
        mov   r0, r3
__l_2702:
        movb  r3, *r2+
        jeq   __l_2707
        srl   r3, 8
__l_2704:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_2704
        jmp   __l_2707
__l_2699:
        mov   @>0006(r9), r1            ; f
        mov   *r1, r1
        jlt   __l_2706
        jeq   __l_2706
__l_2705:
        li    r1, >0002
        mov   @>0006(r9), r2            ; f
        ai    r2, >0004                 ; .pab
        movb  @>8303, *r2               ; low R1
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>0006(r9), @>0002(r10)   ; f 
        mov   r9, r1
        ai    r1, >ff00                 ; __rettmp_131
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  execdsr_90
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>0006(r9), r1            ; f
        ai    r1, >0009                 ; .pab
        movb  *r1, r1
        srl   r1, 8
        mov   r1, @>0004(r10)
        mov   @>0006(r9), r1            ; f
        mov   @>0006(r1), @>0002(r10)   ;  
        mov   @>0004(r9), r1            ; result
        inc   r1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  vmbr
        mov   @>0006(r9), r1            ; f
        ai    r1, >0009                 ; .pab
        movb  *r1, r1
        srl   r1, 8
        mov   @>0004(r9), r2            ; result
        movb  @>8303, *r2               ; low R1
        jmp   __l_2707
__l_2706:
        li    r1, >0004
        mov   r1, @>ffb2                ;  inoutres
__l_2707:
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 12, >7d5a

; Subroutine: __read_lf_75, level: 2
;   0004       4  var f: reference to file

__read_lf_75:
        ai    r10, >fffc
        mov   r10, r12
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 12, >7d74

; Subroutine: ioresult_76, level: 2
;   0004       4  var result: reference to int16

ioresult_76:
        ai    r10, >fff8
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>ffb2, r1                ; inoutres
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        clr   @>ffb2                    ;  inoutres
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 12, >7da4

; Subroutine: length_77, level: 2
;   0004       4  var result: reference to int16
;   0006       6  s: pointer to char (char)

length_77:
        ai    r10, >fff8
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>0006(r9), r1            ; s
        movb  *r1, r1
        srl   r1, 8
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 12, >7dd6

; Subroutine: pos_78, level: 2
;   0004       4  var result: reference to int16
;   0006       6  ch: char
;   0008       8  s: pointer to char (char)
;   fffc      -4  i: int16
;   fffe      -2  $i: int16

pos_78:
        ai    r10, >fff4
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0004
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, >0001
        mov   r1, @>fffc(r9)            ; i
        mov   @>0008(r9), r1            ; s
        movb  *r1, r1
        srl   r1, 8
        mov   r1, @>fffe(r9)            ; $i
        c     @>fffc(r9), @>fffe(r9)    ; i $i 
        jlt   __l_2713
        jeq   __l_2713
        jmp   __l_2722
__l_2712:
        inc   @>fffc(r9)                ; i
__l_2713:
        mov   @>0008(r9), r1            ; s
        a     @>fffc(r9), r1            ; i 
        movb  *r1, r1
        srl   r1, 8
        movb  @>0006(r9), r2            ; ch
        srl   r2, 8
        c     r1, r2
        jne   __l_2719
__l_2718:
        mov   @>fffc(r9), r1            ; i
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        jmp   __l_2715
__l_2719:
        c     @>fffc(r9), @>fffe(r9)    ; i $i 
        jne   __l_2712
__l_2722:
        clr   r1
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
__l_2715:
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0006
        b     @__far_ret

        bank 12, >7e54

; Subroutine: copy_79, level: 2
;   0004       4  var result: reference to string [255]
;   0006       6  s: pointer to char (char)
;   0008       8  start: int16
;   000a      10  len: int16

copy_79:
        ai    r10, >fff8
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>0008(r9), r1            ; start
        mov   @>0006(r9), r2            ; s
        movb  *r2, r2
        srl   r2, 8
        c     r1, r2
        jgt   __l_2726
__l_2725:
        mov   @>0008(r9), r1            ; start
        a     @>000a(r9), r1            ; len 
        mov   @>0006(r9), r2            ; s
        movb  *r2, r2
        srl   r2, 8
        inc   r2
        c     r1, r2
        jlt   __l_2730
        jeq   __l_2730
__l_2729:
        mov   @>0006(r9), r1            ; s
        movb  *r1, r1
        srl   r1, 8
        s     @>0008(r9), r1            ; start 
        inc   r1
        mov   r1, @>000a(r9)            ; len
__l_2730:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>000a(r9), @>0004(r10)   ; len 
        mov   @>0004(r9), r1            ; result
        inc   r1
        mov   r1, @>0002(r10)
        mov   @>0006(r9), r1            ; s
        a     @>0008(r9), r1            ; start 
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  move
        mov   @>000a(r9), r1            ; len
        mov   @>0004(r9), r2            ; result
        movb  @>8303, *r2               ; low R1
        jmp   __l_2727
__l_2726:
        clr   r1
        mov   @>0004(r9), r2            ; result
        movb  @>8303, *r2               ; low R1
__l_2727:
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0008
        b     @__far_ret

        bank 12, >7ef6

; Subroutine: upcase_80, level: 2
;   0004       4  var result: reference to char
;   0006       6  ch: char

upcase_80:
        ai    r10, >fff8
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        movb  @>0006(r9), r1            ; ch
        srl   r1, 8
        ci    r1, >0061
        jlt   __l_2735
__l_2737:
        movb  @>0006(r9), r1            ; ch
        srl   r1, 8
        ci    r1, >007a
        jgt   __l_2735
__l_2734:
        movb  @>0006(r9), r1            ; ch
        srl   r1, 8
        li    r2, >0020
        s     r2, r1
        mov   @>0004(r9), r2            ; result
        movb  @>8303, *r2               ; low R1
        jmp   __l_2736
__l_2735:
        movb  @>0006(r9), r1            ; ch
        srl   r1, 8
        mov   @>0004(r9), r2            ; result
        movb  @>8303, *r2               ; low R1
__l_2736:
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 13, >6060

; Subroutine: __str_int_81, level: 2
;   fff2     -14  __rettmp_146: int16
;   fff4     -12  __rettmp_147: pointer to void
;   0004       4  n: int16
;   0006       6  length: int16
;   0008       8  precision: int16
;   000a      10  s: pointer to char (char)
;   fff6     -10  res: string [6]
;   fffe      -2  p: pointer to char (char)

__str_int_81:
        ai    r10, >ffe8
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >000e
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>0004(r9), r1            ; n
        ci    r1, >8000
        jne   __l_2742
__l_2741:
        li    r1, __str_cnst_146
        mov   r9, r2
        ai    r2, >fff6                 ; res
        li    r0, >0600
        movb  *r1+, r3
        cb    r3, r0
        jl    __l_2745
        mov   r0, r3
__l_2745:
        movb  r3, *r2+
        jeq   __l_2746
        srl   r3, 8
__l_2747:
        movb  *r1+, *r2+
        dec   r3
        jne   __l_2747
__l_2746:
        mov   r9, r1
        ai    r1, >fff6                 ; res
        mov   r1, @>fffe(r9)            ; p
        jmp   __l_2743
__l_2742:
        ai    r10, >fff8
        mov   r9, r1
        ai    r1, >fffc                 ; res
        mov   r1, @>0006(r10)
        mov   @>0004(r9), r1            ; n
        srl   r1, 15
        swpb  r1
        movb  r1, @>0004(r10)
        mov   @>0004(r9), r1            ; n
        abs   r1
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fff4                 ; __rettmp_147
        mov   r1, *r10
        bl    @outint
        mov   @>fff4(r9), @>fffe(r9)    ; __rettmp_147 p
        mov   r9, r1
        ai    r1, >fffc                 ; res
        s     @>fffe(r9), r1            ; p 
        mov   @>fffe(r9), r2            ; p
        movb  @>8303, *r2               ; low R1
__l_2743:
        mov   @>0006(r9), r1            ; length
        mov   @>fffe(r9), r2            ; p
        movb  *r2, r2
        srl   r2, 8
        c     r1, r2
        jlt   __l_2749
        jeq   __l_2749
__l_2748:
        mov   @>0006(r9), r1            ; length
        mov   @>000a(r9), r2            ; s
        movb  @>8303, *r2               ; low R1
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >2000
        movb  r1, @>0004(r10)
        mov   @>0006(r9), r1            ; length
        mov   @>fffe(r9), r2            ; p
        movb  *r2, r2
        srl   r2, 8
        s     r2, r1
        mov   r1, @>0002(r10)
        mov   @>000a(r9), r1            ; s
        inc   r1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  fillchar
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>fffe(r9), r1            ; p
        movb  *r1, r1
        srl   r1, 8
        mov   r1, @>0004(r10)
        mov   @>000a(r9), r1            ; s
        mov   @>000a(r9), r2            ; s
        movb  *r2, r2
        srl   r2, 8
        mov   @>fffe(r9), r3            ; p
        movb  *r3, r3
        srl   r3, 8
        s     r3, r2
        inc   r2
        a     r2, r1
        mov   r1, @>0002(r10)
        mov   @>fffe(r9), r1            ; p
        inc   r1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  move
        jmp   __l_2750
__l_2749:
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>fffe(r9), r1            ; p
        movb  *r1, r1
        srl   r1, 8
        inc   r1
        mov   r1, @>0004(r10)
        mov   @>000a(r9), @>0002(r10)   ; s 
        mov   @>fffe(r9), *r10          ; p 
        bl    @__far_call_1
        data  >6018
        data  move
__l_2750:
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0008
        b     @__far_ret

__str_cnst_146 text >062d3332373638    ; -32768
        even 

; Subroutine: outint, level: 3
;   0000       0  var result: reference to pointer to void
;   0002       2  n: int16
;   0004       4  neg: boolean
;   0006       6  p: pointer to void

outint:
        mov   @>0006(r10), r0
        mov   @>0002(r10), r14
        li    r12, >000a
outint1:
        clr   r13
        div   r12, r13
        ai    r14, >0030
        swpb  r14
        movb  r14, *r0
        dec   r0
        mov   r13, r14
        jne   outint1
        movb  @>0004(r10), r13
        jeq   outint2
        li    r13, >2d00
        movb  r13, *r0
        dec   r0
outint2:
        mov   *r10, r12
        mov   r0, *r12
        ai    r10, >0008
        b     *r11

        bank 13, >620c

; Subroutine: __short_str_equal_82, level: 2
;   fffe      -2  __rettmp_140: int16
;   0004       4  var result: reference to boolean
;   0006       6  s: pointer to char (char)
;   0008       8  t: pointer to char (char)

__short_str_equal_82:
        ai    r10, >fff6
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        inct  r12
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        mov   @>0008(r9), @>0004(r10)   ; t 
        mov   @>0006(r9), @>0002(r10)   ; s 
        mov   r9, r1
        dect  r1                        ; __rettmp_140
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  strcompare_92
        mov   @>fffe(r9), r1            ; __rettmp_140
        clr   r2
        c     r1, r2
        clr   r1
        jne   __l_2753
        inc   r1
__l_2753:
        mov   @>0004(r9), r2            ; result
        movb  @>8303, *r2               ; low R1
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0006
        b     @__far_ret

        bank 13, >626c

; Subroutine: keypressed, level: 2
;   0000       0  var result: reference to boolean

keypressed:
        clr   r14
        clr   r13
        li    r15, >0100
keypressed_1:
        li    r12, >0024
        ldcr  r13, 3
        li    r12, >0006
        stcr  r14, 8
        ci    r14, >ff00
        jne   keypressed_2
        ai    r13, >0100
        ci    r13, >0600
        jne   keypressed_1
        clr   r15
keypressed_2:
        mov   *r10, r12
        movb  r15, *r12
        ai    r10, >0002
        b     @__far_ret

        bank 13, >629e

; Subroutine: __new_83, level: 2
;   fff2     -14  __rettmp_107: string [10]
;   0004       4  var p: reference to pointer to void
;   0006       6  count: int16
;   0008       8  size: int16
;   fffe      -2  n: int16

__new_83:
        ai    r10, >ffe8
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >000e
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>0006(r9), r1            ; count
        mov   @>0008(r9), r2            ; size
        mpy   r1, r2
        mov   r3, r1
        inc   r1
        andi  r1, >fffe
        mov   r1, @>fffe(r9)            ; n
        mov   @>ffea, r1                ; heapptr
        a     @>fffe(r9), r1            ; n 
        c     r1, @>ffec                ; heapmax 
        jlt   __l_2756
        jeq   __l_2756
__l_2755:
        clr   r1
        mov   @>0004(r9), r2            ; p
        mov   r1, *r2
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_147
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fff2                 ; __rettmp_107
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fff2                 ; __rettmp_107
        mov   r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        jmp   __l_2757
__l_2756:
        mov   @>ffea, r1                ; heapptr
        mov   @>0004(r9), r2            ; p
        mov   r1, *r2
        a     @>fffe(r9), @>ffea        ; n  heapptr
__l_2757:
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0006
        b     @__far_ret

__str_cnst_147 text >0a4f5554204f46204d454d    ; OUT OF MEM
        even 

        bank 13, >6370

; Subroutine: mark_84, level: 2
;   0004       4  var p: reference to pointer to void

mark_84:
        ai    r10, >fff8
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>ffea, r1                ; heapptr
        mov   @>0004(r9), r2            ; p
        mov   r1, *r2
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 13, >639c

; Subroutine: release_85, level: 2
;   0004       4  p: pointer to void

release_85:
        ai    r10, >fffc
        mov   r10, r12
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>0004(r9), @>ffea        ; p  heapptr
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 13, >63bc

; Subroutine: initheap_86, level: 2
;   0004       4  first: int16
;   0006       6  size: int16

initheap_86:
        ai    r10, >fffa
        mov   r10, r12
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        mov   @>0004(r9), @>ffea        ; first  heapptr
        mov   @>0004(r9), r1            ; first
        a     @>0006(r9), r1            ; size 
        mov   r1, @>ffec                ;  heapmax
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 13, >63ee

; Subroutine: __read_line_console_87, level: 2
;   fff4     -12  __rettmp_108: int16
;   fff4     -12  __rettmp_109: int16
;   fff4     -12  __rettmp_111: int16
;   fff4     -12  __rettmp_112: int16
;   0004       4  var result: reference to string [255]
;   fff6     -10  row: int16
;   fff8      -8  col: int16
;   fffa      -6  pos: int16
;   fffc      -4  count: int16
;   fffe      -2  ch: char

__read_line_console_87:
        ai    r10, >ffec
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >000c
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fff4                 ; __rettmp_108
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  wherex_20
        mov   @>fff4(r9), @>fff8(r9)    ; __rettmp_108 col
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        ai    r1, >fff4                 ; __rettmp_109
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  wherey_21
        mov   @>fff4(r9), @>fff6(r9)    ; __rettmp_109 row
        clr   r1
        mov   @>0004(r9), r2            ; result
        movb  @>8303, *r2               ; low R1
        li    r1, >0001
        mov   r1, @>fffa(r9)            ; pos
        clr   @>fffc(r9)                ; count
__l_2762:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r1
        dect  r1                        ; ch
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  getkey_58
        movb  @>fffe(r9), r1            ; ch
        srl   r1, 8
; no-opt
        ai    r1, >fff3
        jne   __l_2768
        b     @__c_2765
__l_2768:
        ai    r1, >ffed
        ci    r1, >005f
        jh    __l_2769
        b     @__c_2764
__l_2769:
        ai    r1, >ff98
        jeq   __c_2763
        b     @__l_2767
__c_2763:
        mov   @>fffa(r9), r1            ; pos
        ci    r1, >0001
        jgt   __l_2771
        b     @__l_2767
__l_2771:
        dec   @>fffa(r9)                ; pos
        mov   @>0004(r9), r1            ; result
        li    r2, >0100
        sb    r2, *r1
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>fff6(r9), @>0002(r10)   ; row 
        mov   @>fff8(r9), *r10          ; col 
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>0004(r9), @>0002(r10)   ; result 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >2000
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        mov   @>fff8(r9), r1            ; col
        a     @>fffa(r9), r1            ; pos 
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r2
        ai    r2, >fff4                 ; __rettmp_111
        mov   r2, *r10
        bl    @__far_call_1
        data  >6004
        data  screenwidth_22
        c     r1, @>fff4(r9)            ; __rettmp_111 
        jgt   __l_2776
        jeq   __l_2776
__l_2775:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >2000
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
__l_2776:
        clr   @>fffc(r9)                ; count
        jmp   __l_2767
__c_2764:
        movb  @>fffe(r9), r1            ; ch
        srl   r1, 8
        mov   @>0004(r9), r2            ; result
        a     @>fffa(r9), r2            ; pos 
        movb  @>8303, *r2               ; low R1
        mov   @>fff8(r9), r1            ; col
        a     @>fffa(r9), r1            ; pos 
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        mov   r9, r2
        ai    r2, >fff4                 ; __rettmp_112
        mov   r2, *r10
        bl    @__far_call_1
        data  >6004
        data  screenwidth_22
        c     r1, @>fff4(r9)            ; __rettmp_112 
        jgt   __l_2780
        jeq   __l_2780
__l_2779:
        inc   @>fffa(r9)                ; pos
        mov   @>0004(r9), r1            ; result
        li    r2, >0100
        ab    r2, *r1
__l_2780:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>fff6(r9), @>0002(r10)   ; row 
        mov   @>fff8(r9), *r10          ; col 
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        mov   @>0004(r9), @>0002(r10)   ; result 
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_string_63
        clr   @>fffc(r9)                ; count
        jmp   __l_2767
__c_2765:
        li    r1, >0100
        mov   r1, @>fffc(r9)            ; count
__l_2767:
        inc   @>fffc(r9)                ; count
        mov   @>fffc(r9), r1            ; count
        andi  r1, >00ff
        ci    r1, >0001
        jne   __l_2784
__l_2783:
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>fff6(r9), @>0002(r10)   ; row 
        mov   @>fff8(r9), r1            ; col
        a     @>fffa(r9), r1            ; pos 
        dec   r1
        mov   r1, *r10
        bl    @__far_call_1
        data  >6004
        data  gotoxy_19
        mov   @>fffc(r9), r1            ; count
        sra   r1, 8
        andi  r1, >0001
        ci    r1, >0000
        jeq   __l_2788
__l_2787:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >2000
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
        jmp   __l_2784
__l_2788:
        ai    r10, >fff6
        mov   @>7ffe, @>0008(r10)
        seto  @>0006(r10)
        seto  @>0004(r10)
        li    r1, >1f00
        movb  r1, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_char_62
__l_2784:
        movb  @>fffe(r9), r1            ; ch
        srl   r1, 8
        ci    r1, >000d
        jeq   __l_2792
        b     @__l_2762
__l_2792:
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        li    r1, >ff8a                 ; output
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  __write_lf_60
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        inct  r10
        b     @__far_ret

        bank 13, >66e2

; Subroutine: reservevdpbufs_88, level: 2
;   fffc      -4  i: int16
;   fffe      -2  $i: int16

reservevdpbufs_88:
        ai    r10, >fff2
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0004
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, >0001
        mov   r1, @>fffc(r9)            ; i
        li    r1, >0003
        mov   r1, @>fffe(r9)            ; $i
        jmp   __l_2795
__l_2794:
        inc   @>fffc(r9)                ; i
__l_2795:
        li    r1, >8370                 ; vdpfree
        li    r2, >00f5
        s     r2, *r1
        clr   r1
        li    r2, >ffb4                 ; openfiles
        mov   @>fffc(r9), r3            ; i
        dec   r3
        li    r12, >0006
        mpy   r3, r12
        a     r13, r2                   ;  
        movb  @>8303, *r2               ; low R1
        mov   @>8370, r1                ; vdpfree
        inc   r1
        li    r2, >ffb4                 ; openfiles
        mov   @>fffc(r9), r3            ; i
        dec   r3
        li    r12, >0006
        mpy   r3, r12
        a     r13, r2                   ;  
        mov   r1, @>0004(r2)
        li    r1, >8370                 ; vdpfree
        li    r2, >0024
        s     r2, *r1
        mov   @>8370, r1                ; vdpfree
        inc   r1
        li    r2, >ffb4                 ; openfiles
        mov   @>fffc(r9), r3            ; i
        dec   r3
        li    r12, >0006
        mpy   r3, r12
        a     r13, r2                   ;  
        mov   r1, @>0002(r2)
        c     @>fffc(r9), @>fffe(r9)    ; i $i 
        jne   __l_2794
__l_2798:
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret

        bank 13, >678c

; Subroutine: getfiledescriptor_89, level: 2
;   fffc      -4  __rettmp_116: string [0]
;   fffd      -3  __rettmp_117: boolean
;   0004       4  var result: reference to boolean
;   0006       6  var f: reference to record
;   0008       8  istextfile: boolean
;   fffe      -2  i: int16

getfiledescriptor_89:
        ai    r10, >fff2
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0004
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        seto  r1
        mov   @>0006(r9), r2            ; f
        mov   r1, *r2
        clr   r1
        mov   @>0006(r9), r2            ; f
        mov   r1, @>0002(r2)
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        clr   r1
        movb  r1, @>0004(r10)
        li    r1, >0008
        mov   r1, @>0002(r10)
        mov   @>0006(r9), r1            ; f
        ai    r1, >0004                 ; .pab
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  fillchar_59
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        ai    r10, >fffc
        li    r1, __str_cnst_148
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fffc                 ; __rettmp_116
        mov   r1, *r10
        bl    @__copy_str_const
        mov   r9, r1
        ai    r1, >fffc                 ; __rettmp_116
        mov   r1, @>0004(r10)
        mov   @>0006(r9), r1            ; f
        ai    r1, >000d                 ; .pab
        mov   r1, @>0002(r10)
        mov   r9, r1
        ai    r1, >fffd                 ; __rettmp_117
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  __short_str_equal_82
        movb  @>fffd(r9), r1            ; __rettmp_117
        jeq   __l_2803
__l_2802:
        movb  @>0008(r9), r1            ; istextfile
        jeq   __l_2807
__l_2806:
        clr   r1
        mov   @>0006(r9), r2            ; f
        mov   r1, *r2
        jmp   __l_2814
__l_2807:
        li    r1, >0003
        mov   r1, @>ffb2                ;  inoutres
        jmp   __l_2814
__l_2803:
        li    r1, >0001
        mov   r1, @>fffe(r9)            ; i
__l_2800:
        li    r1, >ffb4                 ; openfiles
        mov   @>fffe(r9), r2            ; i
        dec   r2
        li    r12, >0006
        mpy   r2, r12
        a     r13, r1                   ;  
        movb  *r1, r1
        jne   __l_2811
__l_2810:
        li    r1, >0001
        li    r2, >ffb4                 ; openfiles
        mov   @>fffe(r9), r3            ; i
        dec   r3
        li    r12, >0006
        mpy   r3, r12
        a     r13, r2                   ;  
        movb  @>8303, *r2               ; low R1
        mov   @>fffe(r9), r1            ; i
        mov   @>0006(r9), r2            ; f
        mov   r1, *r2
        li    r1, >ffb4                 ; openfiles
        mov   @>0006(r9), r2            ; f
        mov   *r2, r2
        dec   r2
        li    r12, >0006
        mpy   r2, r12
        a     r13, r1                   ;  
        mov   @>0004(r1), r1
        mov   @>0006(r9), r2            ; f
        mov   r1, @>0006(r2)
__l_2811:
        inc   @>fffe(r9)                ; i
        mov   @>fffe(r9), r1            ; i
        ci    r1, >0003
        jlt   __l_2815
        jne   __l_2814
__l_2815:
        mov   @>0006(r9), r1            ; f
        mov   *r1, r1
        ci    r1, >ffff
        jeq   __l_2800
__l_2814:
        li    r1, >0001
        mov   @>0006(r9), r2            ; f
        mov   *r2, r2
        seto  r3
        c     r2, r3
        clr   r2
        jne   __l_2818
        inc   r2
__l_2818:
        mpy   r1, r2
        mov   r3, @>ffb2                ;   inoutres
        mov   r3, r1                    ; inoutres
        clr   r2
        c     r1, r2
        clr   r1
        jne   __l_2819
        inc   r1
__l_2819:
        mov   @>0004(r9), r2            ; result
        movb  @>8303, *r2               ; low R1
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0006
        b     @__far_ret

__str_cnst_148 text >00    ; 
        even 

        bank 13, >690a

; Subroutine: execdsr_90, level: 2
;   fffe      -2  __rettmp_118: boolean
;   0004       4  var result: reference to boolean
;   0006       6  var f: reference to record

execdsr_90:
        ai    r10, >fff6
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        inct  r12
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        li    r1, >ffb4                 ; openfiles
        mov   @>0006(r9), r2            ; f
        mov   *r2, r2
        dec   r2
        li    r12, >0006
        mpy   r2, r12
        a     r13, r1                   ;  
        mov   @>0002(r1), @>0004(r10)   ;  
        mov   @>0006(r9), r1            ; f
        ai    r1, >0004                 ; .pab
        mov   r1, @>0002(r10)
        mov   r9, r1
        dect  r1                        ; __rettmp_118
        mov   r1, *r10
        bl    @__far_call_1
        data  >6018
        data  dsrlink_56
        movb  @>fffe(r9), r1            ; __rettmp_118
        srl   r1, 8
        mov   @>0004(r9), r2            ; result
        movb  @>8303, *r2               ; low R1
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0004
        b     @__far_ret

        bank 13, >697c

; Subroutine: openfile_91, level: 2
;   fffe      -2  __rettmp_119: boolean
;   fffe      -2  __rettmp_120: boolean
;   0004       4  var f: reference to record
;   0006       6  opcode: uint8
;   0008       8  ftype: uint8
;   000a      10  reclen: uint8
;   000c      12  istextfile: boolean

openfile_91:
        ai    r10, >fff4
        mov   r10, r12
        mov   r3, *r12+
        mov   r2, *r12+
        mov   r1, *r12+
        inct  r12
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        ai    r10, >fff8
        mov   @>7ffe, @>0006(r10)
        movb  @>000c(r9), @>0004(r10)   ; istextfile 
        mov   @>0004(r9), @>0002(r10)   ; f 
        mov   r9, r1
        dect  r1                        ; __rettmp_119
        mov   r1, *r10
        bl    @__far_call_1
        data  >601a
        data  getfiledescriptor_89
        movb  @>fffe(r9), r1            ; __rettmp_119
        jeq   __l_2823
__l_2825:
        mov   @>0004(r9), r1            ; f
        mov   *r1, r1
        jeq   __l_2823
__l_2822:
        movb  @>0006(r9), r1            ; opcode
        srl   r1, 8
        mov   @>0004(r9), r2            ; f
        ai    r2, >0004                 ; .pab
        movb  @>8303, *r2               ; low R1
        movb  @>0008(r9), r1            ; ftype
        srl   r1, 8
        mov   @>0004(r9), r2            ; f
        ai    r2, >0005                 ; .pab
        movb  @>8303, *r2               ; low R1
        movb  @>000a(r9), r1            ; reclen
        srl   r1, 8
        mov   @>0004(r9), r2            ; f
        ai    r2, >0008                 ; .pab
        movb  @>8303, *r2               ; low R1
        li    r1, >0002
        ai    r10, >fffa
        mov   @>7ffe, @>0004(r10)
        mov   @>0004(r9), @>0002(r10)   ; f 
        mov   r9, r2
        dect  r2                        ; __rettmp_120
        mov   r2, *r10
        bl    @__far_call_1
        data  >601a
        data  execdsr_90
        movb  @>fffe(r9), r2            ; __rettmp_120
        srl   r2, 8
        li    r12, >0001
        xor   r12, r2
        mpy   r1, r2
        mov   r3, @>ffb2                ;   inoutres
__l_2823:
        mov   *r10+, r3
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >000a
        b     @__far_ret

        bank 13, >6a42

; Subroutine: strcompare_92, level: 2
;   fffa      -6  __rettmp_139: int16
;   0004       4  var result: reference to int16
;   0006       6  s: pointer to char (char)
;   0008       8  t: pointer to char (char)
;   fffc      -4  i: int16
;   fffe      -2  $i: int16

strcompare_92:
        ai    r10, >fff2
        mov   r10, r12
        mov   r2, *r12+
        mov   r1, *r12+
        ai    r12, >0006
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        li    r1, >0001
        mov   r1, @>fffc(r9)            ; i
        mov   @>0006(r9), r1            ; s
        movb  *r1, r1
        srl   r1, 8
        mov   @>0008(r9), r2            ; t
        movb  *r2, r2
        srl   r2, 8
; no.opt
        c     r1, r2
        jlt   __l_2832
        mov   r2, r1
__l_2832:
        mov   r1, @>fffe(r9)            ; $i
        c     @>fffc(r9), @>fffe(r9)    ; i $i 
        jlt   __l_2829
        jeq   __l_2829
        jmp   __l_2839
__l_2828:
        inc   @>fffc(r9)                ; i
__l_2829:
        mov   @>0006(r9), r1            ; s
        a     @>fffc(r9), r1            ; i 
        movb  *r1, r1
        srl   r1, 8
        mov   @>0008(r9), r2            ; t
        a     @>fffc(r9), r2            ; i 
        movb  *r2, r2
        srl   r2, 8
        c     r1, r2
        jeq   __l_2836
__l_2835:
        mov   @>0006(r9), r1            ; s
        a     @>fffc(r9), r1            ; i 
        movb  *r1, r1
        srl   r1, 8
        mov   @>0008(r9), r2            ; t
        a     @>fffc(r9), r2            ; i 
        movb  *r2, r2
        srl   r2, 8
        s     r2, r1
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
        jmp   __l_2831
__l_2836:
        c     @>fffc(r9), @>fffe(r9)    ; i $i 
        jne   __l_2828
__l_2839:
        mov   @>0006(r9), r1            ; s
        movb  *r1, r1
        srl   r1, 8
        mov   @>0008(r9), r2            ; t
        movb  *r2, r2
        srl   r2, 8
        s     r2, r1
        mov   @>0004(r9), r2            ; result
        mov   r1, *r2
__l_2831:
        mov   *r10+, r2
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        ai    r10, >0006
        b     @__far_ret

        bank 13, >6afa

; Subroutine: $system_init_93, level: 2

$system_init_93:
        ai    r10, >fffa
        mov   r10, r12
        mov   r1, *r12+
        mov   r9, *r12
        mov   r12, r9
        mov   r11, @>0002(r12)
        clr   @>ff8a                    ;  output
        clr   @>ff62                    ;  input
        ai    r10, >fffc
        mov   @>7ffe, @>0002(r10)
        clr   r1
        movb  r1, *r10
        bl    @__far_call_1
        data  >6004
        data  setvideomode_16
        dect  r10
        mov   @>7ffe, *r10
        bl    @__far_call_1
        data  >601a
        data  reservevdpbufs_88
        mov   *r10, r1
        mov   r9, r10
        mov   *r10+, r9
        mov   *r10+, r11
        b     @__far_ret
